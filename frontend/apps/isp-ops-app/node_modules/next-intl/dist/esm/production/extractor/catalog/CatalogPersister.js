import t from"fs/promises";import e from"path";class a{constructor(t,e){this.messagesPath=t,this.formatter=e}getFilePath(t){return e.join(this.messagesPath,t+this.formatter.EXTENSION)}async read(e){const a=this.getFilePath(e),r=await t.readFile(a,"utf8");return this.formatter.parse(r,{locale:e})}async write(a,r){const i=this.getFilePath(a),s=this.formatter.serialize(r,{locale:a});try{const a=e.dirname(i);await t.mkdir(a,{recursive:!0}),await t.writeFile(i,s)}catch(t){console.error(`‚ùå Failed to write catalog: ${t}`)}}async getLastModified(e){const a=this.getFilePath(e);try{return(await t.stat(a)).mtime}catch{return}}}export{a as default};
