"use strict";exports.id=8502,exports.ids=[8502],exports.modules={48502:(e,t,a)=>{a.d(t,{Hm:()=>K,Oh:()=>H,SI:()=>M,Xi:()=>h,Z0:()=>k,eD:()=>f,kk:()=>S,y2:()=>Y});var s=a(48324),r=a(44976),i=a(17010),c=a(59341),n=a(63103);let d="/project-management",o={id:"unassigned",userId:"unassigned",name:"Unassigned",email:"",avatar:"",role:n.qm.MEMBER,permissions:[],joinedAt:new Date().toISOString(),status:n.XY.ACTIVE},u=e=>{switch(e?.toLowerCase()){case"planned":case"scheduled":return n.kJ.PLANNING;case"in_progress":default:return n.kJ.ACTIVE;case"on_hold":case"blocked":return n.kJ.ON_HOLD;case"completed":return n.kJ.COMPLETED;case"cancelled":case"failed":return n.kJ.CANCELLED}},l=e=>{switch(e){case n.kJ.PLANNING:case n.kJ.DRAFT:return"planned";case n.kJ.ACTIVE:return"in_progress";case n.kJ.ON_HOLD:return"on_hold";case n.kJ.COMPLETED:return"completed";case n.kJ.CANCELLED:case n.kJ.ARCHIVED:return"cancelled";default:return}},E=e=>{switch(e?.toLowerCase()){case"in_progress":return n.hY.IN_PROGRESS;case"blocked":case"paused":return n.hY.BLOCKED;case"completed":return n.hY.DONE;case"cancelled":case"failed":case"skipped":return n.hY.CANCELLED;default:return n.hY.TODO}},_=e=>{switch(e){case n.hY.IN_PROGRESS:return"in_progress";case n.hY.BLOCKED:return"blocked";case n.hY.DONE:return"completed";case n.hY.CANCELLED:return"cancelled";case n.hY.TODO:default:return}},p=e=>{switch(e?.toLowerCase()){case"low":return n.T8.LOW;case"high":return n.T8.HIGH;case"critical":case"emergency":return n.T8.CRITICAL;default:return n.T8.MEDIUM}},I=e=>{switch(e?.toLowerCase()){case"low":return n.Ig.LOW;case"high":return n.Ig.HIGH;case"critical":case"emergency":return n.Ig.CRITICAL;default:return n.Ig.MEDIUM}},m=e=>{switch(e){case n.T8.LOW:case n.Ig.LOW:return"low";case n.T8.HIGH:case n.Ig.HIGH:return"high";case n.T8.CRITICAL:case n.Ig.CRITICAL:return"critical";case n.T8.MEDIUM:case n.Ig.MEDIUM:default:return"normal"}},T=e=>{let t={id:e.id,name:e.name,description:e.description??"",code:e.project_number??e.id,status:u(e.status),priority:I(e.priority),startDate:e.scheduled_start??e.actual_start??"",endDate:e.scheduled_end??e.actual_end??"",progress:e.completion_percent??0,completedTasks:e.tasks_completed??0,totalTasks:e.tasks_total??0,ownerId:e.assigned_team_id??"unassigned",owner:o,teamMembers:[],tags:e.tags??[],isTemplate:e.is_template??!1,isArchived:"cancelled"===e.status,isPublic:e.is_public??!1,createdAt:e.created_at,updatedAt:e.updated_at,createdBy:e.created_by??"",updatedBy:e.updated_by??""};return e.actual_start&&(t.actualStartDate=e.actual_start),e.actual_end&&(t.actualEndDate=e.actual_end),e.template_id&&(t.templateId=e.template_id),e.budget&&(t.budget=e.budget),e.actual_cost&&(t.actualCost=e.actual_cost),e.estimated_duration_hours&&(t.estimatedHours=e.estimated_duration_hours),e.color&&(t.color=e.color),e.icon&&(t.icon=e.icon),t},A=e=>{let t={id:e.id,title:e.name,description:e.description??"",status:E(e.status),priority:p(e.priority),type:e.task_type??n.UA.TASK,projectId:e.project_id,reporterId:e.assigned_team_id??"unassigned",progress:e.completion_percent??0,subtasks:[],dependencies:[],blockedBy:[],columnId:e.column_id??"TODO",position:e.position??0,tags:e.tags??[],attachments:[],comments:[],watchers:e.watchers??[],customFields:e.custom_fields??{},createdAt:e.created_at??"",updatedAt:e.updated_at??"",createdBy:e.created_by??"",updatedBy:e.updated_by??""};return e.assigned_technician_id&&(t.assigneeId=e.assigned_technician_id),e.scheduled_start&&(t.startDate=e.scheduled_start),e.scheduled_end&&(t.dueDate=e.scheduled_end),e.actual_end&&(t.completedAt=e.actual_end),e.estimated_duration_minutes&&(t.estimatedHours=e.estimated_duration_minutes/60),e.actual_duration_minutes&&(t.actualHours=e.actual_duration_minutes/60),e.parent_task_id&&(t.parentTaskId=e.parent_task_id),t},L=async e=>{let{data:t}=await c.x1.get(`${d}/projects`,{params:{search:e?.search,status:l(e?.status?.[0]),project_type:e?.projectType,assigned_team_id:e?.ownerId?.[0],limit:e?.limit,offset:e?.offset}});return{projects:(t.projects??[]).map(T),total:t.total??t.projects?.length??0,limit:t.limit??e?.limit??50,offset:t.offset??e?.offset??0}},D=async e=>{let{data:t}=await c.x1.get(`${d}/tasks`,{params:{status:_(e?.status?.[0]),project_id:e?.projectId?.[0],assigned_team_id:e?.assigneeId?.[0],limit:e?.limit??100,offset:e?.offset??0}});return{tasks:(t.tasks??[]).map(A),total:t.total??t.tasks?.length??0,limit:t.limit??e?.limit??100,offset:t.offset??e?.offset??0}},O=async e=>{let{data:t}=await c.x1.post(`${d}/tasks`,{name:e.title,description:e.description,task_type:e.type??"custom",priority:m(e.priority),project_id:e.projectId,scheduled_start:e.startDate,scheduled_end:e.dueDate,estimated_duration_minutes:e.estimatedHours?60*e.estimatedHours:void 0,tags:e.tags});return A(t)},C=async e=>{let{data:t}=await c.x1.patch(`${d}/tasks/${e.id}`,{name:e.title,description:e.description,status:_(e.status),priority:m(e.priority),assigned_technician_id:e.assigneeId,scheduled_start:e.startDate,scheduled_end:e.dueDate,actual_start:e.actualStartDate,actual_end:e.completedAt,completion_percent:e.progress,notes:e.notes});return A(t)},N=async e=>(await c.x1.post(`${d}/templates`,e).catch(()=>({data:{}}))).data??{},y=async e=>{let{data:t}=await c.x1.get(`${d}/projects/${e}`,{params:{include_tasks:!0}}).catch(()=>({data:{tasks:[]}}));return{columns:[],tasks:(t.tasks??[]).map(A)}},R=async()=>{let{data:e}=await c.x1.get(`${d}/metrics`);return{totalProjects:e.total_projects??0,activeProjects:e.active_projects??0,completedProjects:e.completed_projects??0,overdueProjects:e.overdue_projects??0,totalTasks:e.total_tasks??0,completedTasks:e.completed_tasks??0,inProgressTasks:e.in_progress_tasks??0,overdueTasks:e.overdue_tasks??0,averageCompletionTime:e.average_completion_time_days??0,teamUtilization:e.team_utilization??0,onTimeDeliveryRate:e.on_time_delivery_rate??0}},g=async()=>{let{data:e}=await c.x1.get(`${d}/teams`,{params:{limit:200,offset:0}});return(e.teams??[]).map(e=>({id:e.id,name:e.name,teamCode:e.team_code,description:e.description,type:e.team_type,isActive:e.is_active}))},k=e=>(0,s.a)({queryKey:["projects",e],queryFn:()=>L(e),staleTime:3e4}),h=e=>(0,s.a)({queryKey:["tasks",e],queryFn:()=>D(e),staleTime:1e4}),M=()=>{let e=(0,r.NL)();return(0,i.D)({mutationFn:O,onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]}),e.invalidateQueries({queryKey:["kanban"]})}})},S=()=>{let e=(0,r.NL)();return(0,i.D)({mutationFn:C,onSuccess:t=>{e.invalidateQueries({queryKey:["tasks"]}),e.invalidateQueries({queryKey:["task",t.id]}),e.invalidateQueries({queryKey:["kanban"]})}})},f=()=>{let e=(0,r.NL)();return(0,i.D)({mutationFn:N,onSuccess:()=>{e.invalidateQueries({queryKey:["templates"]})}})},H=e=>(0,s.a)({queryKey:["kanban",e],queryFn:()=>y(e),enabled:!!e,refetchInterval:3e4}),K=()=>(0,s.a)({queryKey:["project-metrics"],queryFn:R,staleTime:6e4}),Y=()=>(0,s.a)({queryKey:["project-teams"],queryFn:g,staleTime:6e4})},63103:(e,t,a)=>{var s,r,i,c,n,d,o,u,l,E,_,p;a.d(t,{Ig:()=>c,QC:()=>E,T8:()=>i,UA:()=>n,XY:()=>u,hY:()=>r,kJ:()=>s,qm:()=>o}),function(e){e.DRAFT="DRAFT",e.PLANNING="PLANNING",e.ACTIVE="ACTIVE",e.ON_HOLD="ON_HOLD",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.ARCHIVED="ARCHIVED"}(s||(s={})),function(e){e.TODO="TODO",e.IN_PROGRESS="IN_PROGRESS",e.IN_REVIEW="IN_REVIEW",e.BLOCKED="BLOCKED",e.DONE="DONE",e.CANCELLED="CANCELLED"}(r||(r={})),function(e){e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.CRITICAL="CRITICAL"}(i||(i={})),function(e){e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.CRITICAL="CRITICAL"}(c||(c={})),function(e){e.TASK="TASK",e.BUG="BUG",e.FEATURE="FEATURE",e.IMPROVEMENT="IMPROVEMENT",e.RESEARCH="RESEARCH",e.DOCUMENTATION="DOCUMENTATION"}(n||(n={})),function(e){e.NONE="NONE",e.DAILY="DAILY",e.WEEKLY="WEEKLY",e.BIWEEKLY="BIWEEKLY",e.MONTHLY="MONTHLY",e.QUARTERLY="QUARTERLY",e.YEARLY="YEARLY"}(d||(d={})),function(e){e.OWNER="OWNER",e.ADMIN="ADMIN",e.MANAGER="MANAGER",e.MEMBER="MEMBER",e.VIEWER="VIEWER"}(o||(o={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.INVITED="INVITED"}(u||(u={})),function(e){e.BLOCKS="BLOCKS",e.IS_BLOCKED_BY="IS_BLOCKED_BY",e.RELATES_TO="RELATES_TO",e.DUPLICATES="DUPLICATES"}(l||(l={})),function(e){e.SOFTWARE_DEVELOPMENT="SOFTWARE_DEVELOPMENT",e.MARKETING="MARKETING",e.SALES="SALES",e.OPERATIONS="OPERATIONS",e.HR="HR",e.CUSTOM="CUSTOM"}(E||(E={})),function(e){e.TASK="TASK",e.MEETING="MEETING",e.DEADLINE="DEADLINE",e.MILESTONE="MILESTONE",e.HOLIDAY="HOLIDAY",e.CUSTOM="CUSTOM"}(_||(_={})),function(e){e.TASK="task",e.MILESTONE="milestone",e.PROJECT="project"}(p||(p={}))}};