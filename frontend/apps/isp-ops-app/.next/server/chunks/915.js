"use strict";exports.id=915,exports.ids=[915],exports.modules={39731:(e,s,t)=>{t.d(s,{x:()=>j});var l=t(10326),a=t(17577),i=t(35047),n=t(48723),r=t(94019),d=t(31215),c=t(18019),o=t(96633),u=t(941),m=t(3634),p=t(41291),h=t(58038),x=t(48998),b=t(88378),_=t(71821);function j({plan:e,onSubmit:s,onCancel:t,isSubmitting:j=!1}){(0,i.useRouter)();let g=!!e,[v,N]=(0,a.useState)({basic:!0,speed:!0,dataCap:!1,fup:!1,timeRestrictions:!1,qos:!1,pricing:!0,technical:!1,additional:!1}),[f,y]=(0,a.useState)({plan_code:e?.plan_code||"",name:e?.name||"",description:e?.description||"",plan_type:e?.plan_type||"residential",status:e?.status||"draft",download_speed:e?.download_speed||100,upload_speed:e?.upload_speed||50,speed_unit:e?.speed_unit||"mbps",burst_download_speed:e?.burst_download_speed||null,burst_upload_speed:e?.burst_upload_speed||null,burst_duration_seconds:e?.burst_duration_seconds||null,has_data_cap:e?.has_data_cap||!1,data_cap_amount:e?.data_cap_amount||null,data_cap_unit:e?.data_cap_unit||"GB",throttle_policy:e?.throttle_policy||"no_throttle",throttled_download_speed:e?.throttled_download_speed||null,throttled_upload_speed:e?.throttled_upload_speed||null,overage_price_per_unit:e?.overage_price_per_unit||null,overage_unit:e?.overage_unit||"GB",has_fup:e?.has_fup||!1,fup_threshold:e?.fup_threshold||null,fup_threshold_unit:e?.fup_threshold_unit||"GB",fup_throttle_speed:e?.fup_throttle_speed||null,has_time_restrictions:e?.has_time_restrictions||!1,unrestricted_start_time:e?.unrestricted_start_time||null,unrestricted_end_time:e?.unrestricted_end_time||null,unrestricted_data_unlimited:e?.unrestricted_data_unlimited||!1,unrestricted_speed_multiplier:e?.unrestricted_speed_multiplier||null,qos_priority:e?.qos_priority||50,traffic_shaping_enabled:e?.traffic_shaping_enabled||!1,monthly_price:e?.monthly_price||0,setup_fee:e?.setup_fee||0,currency:e?.currency||"USD",billing_cycle:e?.billing_cycle||"monthly",is_public:e?.is_public||!0,is_promotional:e?.is_promotional||!1,promotion_start_date:e?.promotion_start_date||null,promotion_end_date:e?.promotion_end_date||null,minimum_contract_months:e?.minimum_contract_months||0,early_termination_fee:e?.early_termination_fee||0,contention_ratio:e?.contention_ratio||null,ipv4_included:e?.ipv4_included===void 0||e.ipv4_included,ipv6_included:e?.ipv6_included===void 0||e.ipv6_included,static_ip_included:e?.static_ip_included||!1,static_ip_count:e?.static_ip_count||0,router_included:e?.router_included||!1,installation_included:e?.installation_included||!1,technical_support_level:e?.technical_support_level||null,tags:e?.tags||{},features:e?.features||[],restrictions:e?.restrictions||[]}),w=e=>{N(s=>({...s,[e]:!s[e]}))},C=(e,s)=>{y(t=>({...t,[e]:s}))};return(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(f)},className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between sticky top-0 z-10 bg-white p-4 border-b shadow-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:g?"Edit Plan":"Create New Plan"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:g?`Editing: ${e.name}`:"Configure your internet service plan"})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(n.Button,{type:"button",variant:"outline",onClick:t,disabled:j,children:[(0,l.jsx)(r.Z,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,l.jsxs)(n.Button,{type:"submit",disabled:j,children:[(0,l.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),j?"Saving...":g?"Save Changes":"Create Plan"]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("basic"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,l.jsx)(c.Z,{className:"h-5 w-5"}),"Basic Information"]}),v.basic?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.basic&&(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Plan Code ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",value:f.plan_code,onChange:e=>C("plan_code",e.target.value),placeholder:"e.g., HOME-100",className:"w-full border rounded-md px-3 py-2",required:!0}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the plan"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Plan Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",value:f.name,onChange:e=>C("name",e.target.value),placeholder:"e.g., Home 100Mbps",className:"w-full border rounded-md px-3 py-2",required:!0})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Description"}),(0,l.jsx)("textarea",{value:f.description||"",onChange:e=>C("description",e.target.value),placeholder:"Plan description and key features...",className:"w-full border rounded-md px-3 py-2",rows:3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Plan Type"}),(0,l.jsxs)("select",{value:f.plan_type,onChange:e=>C("plan_type",e.target.value),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"residential",children:"Residential"}),(0,l.jsx)("option",{value:"business",children:"Business"}),(0,l.jsx)("option",{value:"enterprise",children:"Enterprise"}),(0,l.jsx)("option",{value:"promotional",children:"Promotional"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),(0,l.jsxs)("select",{value:f.status,onChange:e=>C("status",e.target.value),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"draft",children:"Draft"}),(0,l.jsx)("option",{value:"active",children:"Active"}),(0,l.jsx)("option",{value:"inactive",children:"Inactive"}),(0,l.jsx)("option",{value:"archived",children:"Archived"})]})]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("speed"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5 text-blue-500"}),"Speed Configuration"]}),v.speed?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.speed&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Download Speed ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"number",value:f.download_speed,onChange:e=>C("download_speed",Number(e.target.value)),className:"w-full border rounded-md px-3 py-2",min:"0",step:"any",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Upload Speed ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"number",value:f.upload_speed,onChange:e=>C("upload_speed",Number(e.target.value)),className:"w-full border rounded-md px-3 py-2",min:"0",step:"any",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Speed Unit"}),(0,l.jsxs)("select",{value:f.speed_unit,onChange:e=>C("speed_unit",e.target.value),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"kbps",children:"Kbps"}),(0,l.jsx)("option",{value:"mbps",children:"Mbps"}),(0,l.jsx)("option",{value:"gbps",children:"Gbps"})]})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("h4",{className:"font-semibold mb-3 text-sm",children:"Burst Speeds (Optional)"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Temporarily boost speed for better user experience on short transfers"}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Burst Download"}),(0,l.jsx)("input",{type:"number",value:f.burst_download_speed||"",onChange:e=>C("burst_download_speed",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",step:"any",placeholder:"Optional"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Burst Upload"}),(0,l.jsx)("input",{type:"number",value:f.burst_upload_speed||"",onChange:e=>C("burst_upload_speed",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",step:"any",placeholder:"Optional"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Burst Duration (seconds)"}),(0,l.jsx)("input",{type:"number",value:f.burst_duration_seconds||"",onChange:e=>C("burst_duration_seconds",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",placeholder:"e.g., 30"})]})]})]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6 border-purple-200",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("dataCap"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,l.jsx)(p.Z,{className:"h-5 w-5 text-purple-500"}),"Data Cap & Throttling",f.has_data_cap&&(0,l.jsx)(n.Badge,{variant:"secondary",children:"Enabled"})]}),v.dataCap?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.dataCap&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-purple-50 border border-purple-200 rounded",children:[(0,l.jsx)("input",{type:"checkbox",id:"has_data_cap",checked:f.has_data_cap,onChange:e=>C("has_data_cap",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"has_data_cap",className:"text-sm font-medium cursor-pointer",children:"Enable Data Cap"})]}),f.has_data_cap&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Data Cap Amount"}),(0,l.jsx)("input",{type:"number",value:f.data_cap_amount||"",onChange:e=>C("data_cap_amount",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",placeholder:"e.g., 500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Data Cap Unit"}),(0,l.jsxs)("select",{value:f.data_cap_unit||"GB",onChange:e=>C("data_cap_unit",e.target.value),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"MB",children:"MB"}),(0,l.jsx)("option",{value:"GB",children:"GB"}),(0,l.jsx)("option",{value:"TB",children:"TB"}),(0,l.jsx)("option",{value:"unlimited",children:"Unlimited"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Throttle Policy"}),(0,l.jsxs)("select",{value:f.throttle_policy,onChange:e=>C("throttle_policy",e.target.value),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"no_throttle",children:"No Throttle (informational only)"}),(0,l.jsx)("option",{value:"throttle",children:"Throttle (reduce speed)"}),(0,l.jsx)("option",{value:"block",children:"Block (stop traffic)"}),(0,l.jsx)("option",{value:"overage_charge",children:"Overage Charge (bill extra)"})]})]}),"throttle"===f.throttle_policy&&(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Throttled Download Speed"}),(0,l.jsx)("input",{type:"number",value:f.throttled_download_speed||"",onChange:e=>C("throttled_download_speed",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",step:"any",placeholder:"e.g., 10"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Throttled Upload Speed"}),(0,l.jsx)("input",{type:"number",value:f.throttled_upload_speed||"",onChange:e=>C("throttled_upload_speed",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",step:"any",placeholder:"e.g., 5"})]})]}),"overage_charge"===f.throttle_policy&&(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Overage Price (per unit)"}),(0,l.jsx)("input",{type:"number",value:f.overage_price_per_unit||"",onChange:e=>C("overage_price_per_unit",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",step:"0.01",placeholder:"e.g., 5.00"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Overage Unit"}),(0,l.jsxs)("select",{value:f.overage_unit||"GB",onChange:e=>C("overage_unit",e.target.value),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"MB",children:"per MB"}),(0,l.jsx)("option",{value:"GB",children:"per GB"}),(0,l.jsx)("option",{value:"TB",children:"per TB"})]})]})]})]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6 border-blue-200",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("fup"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,l.jsx)(h.Z,{className:"h-5 w-5 text-blue-500"}),"Fair Usage Policy (FUP)",f.has_fup&&(0,l.jsx)(n.Badge,{variant:"secondary",children:"Enabled"})]}),v.fup?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.fup&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded",children:[(0,l.jsx)("input",{type:"checkbox",id:"has_fup",checked:f.has_fup,onChange:e=>C("has_fup",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"has_fup",className:"text-sm font-medium cursor-pointer",children:"Enable Fair Usage Policy (FUP)"})]}),(0,l.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:[(0,l.jsx)("p",{className:"font-semibold mb-1",children:"What is FUP?"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"FUP automatically throttles user speeds after they exceed a data threshold. Unlike data caps, FUP doesn’t stop service – it just reduces speed to maintain network quality for all users."})]}),f.has_fup&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"FUP Threshold"}),(0,l.jsx)("input",{type:"number",value:f.fup_threshold||"",onChange:e=>C("fup_threshold",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",placeholder:"e.g., 500"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Data limit before throttling kicks in"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"FUP Threshold Unit"}),(0,l.jsxs)("select",{value:f.fup_threshold_unit||"GB",onChange:e=>C("fup_threshold_unit",e.target.value),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"MB",children:"MB"}),(0,l.jsx)("option",{value:"GB",children:"GB"}),(0,l.jsx)("option",{value:"TB",children:"TB"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"FUP Throttle Speed"}),(0,l.jsx)("input",{type:"number",value:f.fup_throttle_speed||"",onChange:e=>C("fup_throttle_speed",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"0",step:"any",placeholder:"e.g., 10"}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Speed after FUP threshold (in ",f.speed_unit,")"]})]}),f.fup_threshold&&f.fup_throttle_speed&&(0,l.jsxs)("div",{className:"p-4 bg-gradient-to-r from-green-50 to-orange-50 border border-blue-200 rounded",children:[(0,l.jsx)("p",{className:"text-sm font-semibold mb-2",children:"FUP Preview:"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsxs)("span",{className:"px-2 py-1 bg-green-500 text-white rounded",children:[f.download_speed," ",f.speed_unit]}),(0,l.jsxs)("span",{children:["→ After ",f.fup_threshold," ",f.fup_threshold_unit," →"]}),(0,l.jsxs)("span",{className:"px-2 py-1 bg-orange-500 text-white rounded",children:[f.fup_throttle_speed," ",f.speed_unit]}),(0,l.jsxs)("span",{className:"ml-2 text-red-600 font-bold",children:["(",((Number(f.download_speed)-Number(f.fup_throttle_speed))/Number(f.download_speed)*100).toFixed(0),"% reduction)"]})]})]})]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6 border-indigo-200",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("timeRestrictions"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,l.jsx)(x.Z,{className:"h-5 w-5 text-indigo-500"}),"Time-Based Restrictions",f.has_time_restrictions&&(0,l.jsx)(n.Badge,{variant:"secondary",children:"Enabled"})]}),v.timeRestrictions?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.timeRestrictions&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-indigo-50 border border-indigo-200 rounded",children:[(0,l.jsx)("input",{type:"checkbox",id:"has_time_restrictions",checked:f.has_time_restrictions,onChange:e=>C("has_time_restrictions",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"has_time_restrictions",className:"text-sm font-medium cursor-pointer",children:"Enable Time-Based Restrictions (e.g., “Unlimited Nights”)"})]}),f.has_time_restrictions&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Unrestricted Start Time"}),(0,l.jsx)("input",{type:"time",value:f.unrestricted_start_time||"",onChange:e=>C("unrestricted_start_time",e.target.value||null),className:"w-full border rounded-md px-3 py-2"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"e.g., 23:00 (11 PM)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Unrestricted End Time"}),(0,l.jsx)("input",{type:"time",value:f.unrestricted_end_time||"",onChange:e=>C("unrestricted_end_time",e.target.value||null),className:"w-full border rounded-md px-3 py-2"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"e.g., 07:00 (7 AM)"})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"unrestricted_data_unlimited",checked:f.unrestricted_data_unlimited,onChange:e=>C("unrestricted_data_unlimited",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"unrestricted_data_unlimited",className:"text-sm cursor-pointer",children:"Unlimited data during unrestricted hours (doesn’t count toward FUP/data cap)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Speed Multiplier (Optional)"}),(0,l.jsx)("input",{type:"number",value:f.unrestricted_speed_multiplier||"",onChange:e=>C("unrestricted_speed_multiplier",e.target.value?Number(e.target.value):null),className:"w-full border rounded-md px-3 py-2",min:"1",step:"0.1",placeholder:"e.g., 2.0"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Boost speed during unrestricted hours (2.0 = 2x speed)"})]})]})]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("qos"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,l.jsx)(b.Z,{className:"h-5 w-5"}),"QoS & Traffic Shaping"]}),v.qos?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.qos&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"QoS Priority (0-100)"}),(0,l.jsx)("input",{type:"range",value:f.qos_priority,onChange:e=>C("qos_priority",Number(e.target.value)),className:"w-full",min:"0",max:"100",step:"10"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,l.jsx)("span",{children:"Low (0)"}),(0,l.jsx)("span",{className:"font-bold text-lg",children:f.qos_priority??0}),(0,l.jsx)("span",{children:"High (100)"})]}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[(f.qos_priority??0)>=80&&"Critical priority - guaranteed bandwidth",(f.qos_priority??0)>=50&&(f.qos_priority??0)<80&&"High priority - minimal throttling",(f.qos_priority??0)>=30&&(f.qos_priority??0)<50&&"Medium priority - standard service",(f.qos_priority??0)<30&&"Low priority - best effort service"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"traffic_shaping_enabled",checked:f.traffic_shaping_enabled,onChange:e=>C("traffic_shaping_enabled",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"traffic_shaping_enabled",className:"text-sm cursor-pointer",children:"Enable Traffic Shaping"})]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6 border-green-200",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("pricing"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,l.jsx)(_.Z,{className:"h-5 w-5 text-green-500"}),"Pricing & Contract"]}),v.pricing?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.pricing&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Monthly Price ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"number",value:f.monthly_price,onChange:e=>C("monthly_price",Number(e.target.value)),className:"w-full border rounded-md px-3 py-2",min:"0",step:"0.01",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Setup Fee"}),(0,l.jsx)("input",{type:"number",value:f.setup_fee,onChange:e=>C("setup_fee",Number(e.target.value)),className:"w-full border rounded-md px-3 py-2",min:"0",step:"0.01"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Currency"}),(0,l.jsx)("input",{type:"text",value:f.currency,onChange:e=>C("currency",e.target.value),className:"w-full border rounded-md px-3 py-2",placeholder:"USD"})]})]}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Billing Cycle"}),(0,l.jsxs)("select",{value:f.billing_cycle,onChange:e=>C("billing_cycle",e.target.value),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"daily",children:"Daily"}),(0,l.jsx)("option",{value:"weekly",children:"Weekly"}),(0,l.jsx)("option",{value:"monthly",children:"Monthly"}),(0,l.jsx)("option",{value:"quarterly",children:"Quarterly"}),(0,l.jsx)("option",{value:"annual",children:"Annual"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Minimum Contract (months)"}),(0,l.jsx)("input",{type:"number",value:f.minimum_contract_months,onChange:e=>C("minimum_contract_months",Number(e.target.value)),className:"w-full border rounded-md px-3 py-2",min:"0",placeholder:"0 = no contract"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Early Termination Fee"}),(0,l.jsx)("input",{type:"number",value:f.early_termination_fee,onChange:e=>C("early_termination_fee",Number(e.target.value)),className:"w-full border rounded-md px-3 py-2",min:"0",step:"0.01"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"is_promotional",checked:f.is_promotional,onChange:e=>C("is_promotional",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"is_promotional",className:"text-sm cursor-pointer",children:"This is a promotional plan"})]}),f.is_promotional&&(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Promotion Start Date"}),(0,l.jsx)("input",{type:"date",value:f.promotion_start_date||"",onChange:e=>C("promotion_start_date",e.target.value||null),className:"w-full border rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Promotion End Date"}),(0,l.jsx)("input",{type:"date",value:f.promotion_end_date||"",onChange:e=>C("promotion_end_date",e.target.value||null),className:"w-full border rounded-md px-3 py-2"})]})]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("technical"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,l.jsx)(b.Z,{className:"h-5 w-5"}),"Technical Specifications"]}),v.technical?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.technical&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Contention Ratio"}),(0,l.jsxs)("select",{value:f.contention_ratio||"",onChange:e=>C("contention_ratio",e.target.value||null),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"",children:"No contention"}),(0,l.jsx)("option",{value:"1:1",children:"1:1 (Dedicated - No sharing)"}),(0,l.jsx)("option",{value:"1:10",children:"1:10 (Low contention)"}),(0,l.jsx)("option",{value:"1:20",children:"1:20 (Standard residential)"}),(0,l.jsx)("option",{value:"1:50",children:"1:50 (High contention)"})]}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"How many users share the same bandwidth pool"})]}),(0,l.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"ipv4_included",checked:f.ipv4_included,onChange:e=>C("ipv4_included",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"ipv4_included",className:"text-sm cursor-pointer",children:"IPv4 Included"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"ipv6_included",checked:f.ipv6_included,onChange:e=>C("ipv6_included",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"ipv6_included",className:"text-sm cursor-pointer",children:"IPv6 Included"})]})]}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"static_ip_included",checked:f.static_ip_included,onChange:e=>C("static_ip_included",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"static_ip_included",className:"text-sm cursor-pointer",children:"Static IP Included"})]}),f.static_ip_included&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Static IP Count"}),(0,l.jsx)("input",{type:"number",value:f.static_ip_count,onChange:e=>C("static_ip_count",Number(e.target.value)),className:"w-full border rounded-md px-3 py-2",min:"0"})]})]})]})]}),(0,l.jsxs)(n.Card,{className:"p-6",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>w("additional"),className:"w-full flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Additional Services & Options"}),v.additional?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(u.Z,{className:"h-5 w-5"})]}),v.additional&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"router_included",checked:f.router_included,onChange:e=>C("router_included",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"router_included",className:"text-sm cursor-pointer",children:"Router Included"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"installation_included",checked:f.installation_included,onChange:e=>C("installation_included",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"installation_included",className:"text-sm cursor-pointer",children:"Installation Included"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Technical Support Level"}),(0,l.jsxs)("select",{value:f.technical_support_level||"",onChange:e=>C("technical_support_level",e.target.value||null),className:"w-full border rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"",children:"None"}),(0,l.jsx)("option",{value:"basic",children:"Basic (Business hours)"}),(0,l.jsx)("option",{value:"standard",children:"Standard (Extended hours)"}),(0,l.jsx)("option",{value:"premium",children:"Premium (24/7)"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"is_public",checked:f.is_public,onChange:e=>C("is_public",e.target.checked),className:"h-4 w-4"}),(0,l.jsx)("label",{htmlFor:"is_public",className:"text-sm cursor-pointer",children:"Make this plan publicly visible"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded border sticky bottom-0",children:[(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:g?"Save changes to update the plan":"Create plan to save configuration"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(n.Button,{type:"button",variant:"outline",onClick:t,disabled:j,children:[(0,l.jsx)(r.Z,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,l.jsxs)(n.Button,{type:"submit",disabled:j,children:[(0,l.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),j?"Saving...":g?"Save Changes":"Create Plan"]}),!g&&(0,l.jsx)(n.Button,{type:"button",variant:"outline",onClick:()=>{alert("Plan will be created first, then you can validate it")},disabled:j,children:"Create & Validate"})]})]})]})}},47277:(e,s,t)=>{t.d(s,{E3:()=>u,FI:()=>o,Fi:()=>m,mN:()=>c});var l=t(48324),a=t(44976),i=t(17010),n=t(59341);let r="/services/internet-plans",d={all:["internet-plans"],lists:()=>[...d.all,"list"],list:e=>[...d.lists(),e],details:()=>[...d.all,"detail"],detail:e=>[...d.details(),e],byCode:e=>[...d.all,"code",e],statistics:e=>[...d.all,"statistics",e],subscriptions:{all:["plan-subscriptions"],lists:()=>[...d.subscriptions.all,"list"],list:e=>[...d.subscriptions.lists(),e],detail:e=>[...d.subscriptions.all,"detail",e],byPlan:e=>[...d.subscriptions.all,"by-plan",e],byCustomer:e=>[...d.subscriptions.all,"by-customer",e]}};function c(e){return(0,l.a)({queryKey:d.detail(e),queryFn:async()=>(await n.x1.get(`${r}/${e}`)).data,enabled:!!e,staleTime:6e4})}function o(){let e=(0,a.NL)();return(0,i.D)({mutationFn:async e=>(await n.x1.post(r,e)).data,onSuccess:()=>{e.invalidateQueries({queryKey:d.lists()})}})}function u(){let e=(0,a.NL)();return(0,i.D)({mutationFn:async({planId:e,data:s})=>(await n.x1.patch(`${r}/${e}`,s)).data,onSuccess:(s,t)=>{e.invalidateQueries({queryKey:d.detail(t.planId)}),e.invalidateQueries({queryKey:d.lists()})}})}function m(){let e=(0,a.NL)();return(0,i.D)({mutationFn:async({planId:e,request:s})=>(await n.x1.post(`${r}/${e}/validate`,s)).data,onSuccess:(s,t)=>{e.invalidateQueries({queryKey:d.detail(t.planId)})}})}}};