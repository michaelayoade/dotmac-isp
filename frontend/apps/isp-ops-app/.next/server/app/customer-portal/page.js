(()=>{var e={};e.id=6232,e.ids=[6232],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},57547:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(41604),t(9785),t(46366),t(96560);var a=t(23191),r=t(88716),n=t(37922),l=t.n(n),d=t(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(s,i);let o=["",{children:["customer-portal",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41604)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9785)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],c=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/page.tsx"],m="/customer-portal/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/customer-portal/page",pathname:"/customer-portal",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},87960:(e,s,t)=>{Promise.resolve().then(t.bind(t,24286))},24286:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w,dynamic:()=>N,dynamicParams:()=>y});var a=t(10326),r=t(48723),n=t(90434),l=t(77506),d=t(45091),i=t(30361),o=t(71821),c=t(31540),m=t(17069),x=t(3634),u=t(2280),p=t(28916),h=t(48998),f=t(63685),j=t(70607),g=t(24704);let N="force-dynamic",y=!0;function w(){let{profile:e,loading:s}=(0,g.Zo)(),{service:t,loading:N}=(0,g.q8)(),{usage:y,loading:w}=(0,g._6)(),{invoices:b,loading:v}=(0,g.UR)(),{tickets:C,loading:P}=(0,g.H6)();if(s||N||w||v||P)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.Z,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})});let _=y?y.upload_gb+y.download_gb:0,D=y?.limit_gb??0,A=D>0?_/D*100:0,k=b?.filter(e=>"paid"!==e.status).reduce((e,s)=>e+s.amount_due,0)||0,M=t?.next_billing_date?Math.ceil((new Date(t.next_billing_date).getTime()-new Date().getTime())/864e5):0,S=C?.slice(0,3)||[];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Welcome back!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Here's an overview of your internet service"})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Service Status"}),(0,a.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.CardContent,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:`h-5 w-5 ${e?.status==="active"?"text-green-500":"text-yellow-500"}`}),(0,a.jsx)("span",{className:"text-2xl font-bold capitalize",children:e?.status||"Unknown"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:t?.plan_name||"No plan"})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Current Bill"}),(0,a.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,j.formatCurrency)(k)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:M>0?`Due in ${M} days`:"No upcoming bill"})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Download Speed"}),(0,a.jsx)(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:t?.speed_down||"N/A"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Upload: ",t?.speed_up||"N/A"]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Data Used"}),(0,a.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.CardContent,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[_.toFixed(1)," GB"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[A.toFixed(1),"% of ",D," GB"]})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5"}),"Service Overview"]}),(0,a.jsx)(r.CardDescription,{children:"Your internet service details"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Plan"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:t?.plan_name||"No plan"})]}),(0,a.jsxs)(r.Badge,{variant:"outline",className:`${t?.status==="active"?"bg-green-500/10 text-green-500 border-green-500/30":"bg-yellow-500/10 text-yellow-500 border-yellow-500/30"}`,children:[(0,a.jsx)(i.Z,{className:"h-3 w-3 mr-1"}),t?.status||"Unknown"]})]}),(0,a.jsxs)("div",{className:"pt-4 space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Speed:"}),(0,a.jsx)("span",{className:"font-medium",children:t?.speed_down||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Monthly Price:"}),(0,a.jsx)("span",{className:"font-medium",children:(0,j.formatCurrency)(t?.monthly_price||0)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Service Address:"}),(0,a.jsx)("span",{className:"font-medium text-right",children:e?.service_address||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Installation Date:"}),(0,a.jsx)("span",{className:"font-medium",children:t?.installation_date?new Date(t.installation_date).toLocaleDateString():"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"pt-4 flex gap-2",children:[(0,a.jsx)(r.Button,{asChild:!0,className:"flex-1",children:(0,a.jsxs)(n.default,{href:"/customer-portal/service",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})}),(0,a.jsx)(r.Button,{asChild:!0,variant:"outline",className:"flex-1",children:(0,a.jsxs)(n.default,{href:"/customer-portal/support",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Get Help"]})})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5"}),"Billing Summary"]}),(0,a.jsx)(r.CardDescription,{children:"Your current billing information"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Amount Due"}),M>0&&(0,a.jsxs)(r.Badge,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),"Due in ",M," days"]})]}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:(0,j.formatCurrency)(k)}),t?.next_billing_date&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Due on ",new Date(t.next_billing_date).toLocaleDateString()]})]}),b&&b.length>0&&b[0]&&(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsx)("p",{className:"font-medium",children:"Recent Invoice"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Amount:"}),(0,a.jsx)("span",{className:`font-medium ${b[0]?.status==="paid"?"text-green-500":"text-yellow-500"}`,children:(0,j.formatCurrency)(b[0]?.amount??0)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,a.jsx)("span",{className:"font-medium capitalize",children:b[0]?.status??"unknown"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,a.jsx)("span",{className:"font-medium",children:b[0]?.created_at?new Date(b[0].created_at).toLocaleDateString():"N/A"})]})]}),(0,a.jsxs)("div",{className:"pt-4 flex gap-2",children:[(0,a.jsx)(r.Button,{asChild:!0,className:"flex-1",children:(0,a.jsxs)(n.default,{href:"/customer-portal/billing",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Pay Now"]})}),(0,a.jsx)(r.Button,{asChild:!0,variant:"outline",className:"flex-1",children:(0,a.jsx)(n.default,{href:"/customer-portal/billing",children:"View Invoices"})})]})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5"}),"Data Usage This Month"]}),(0,a.jsx)(r.CardDescription,{children:"Your internet usage for the current billing period"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"font-medium",children:[_.toFixed(1)," GB used",y&&y.limit_gb?` of ${y.limit_gb} GB`:""]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[A.toFixed(1),"%"]})]}),(0,a.jsx)(r.Progress,{value:A,className:"h-2"})]}),y&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-blue-500"}),"Download"]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-500",children:[y.download_gb.toFixed(1)," GB"]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-green-500"}),"Upload"]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-500",children:[y.upload_gb.toFixed(1)," GB"]})]})]}),(0,a.jsx)(r.Button,{asChild:!0,variant:"outline",className:"w-full",children:(0,a.jsx)(n.default,{href:"/customer-portal/usage",children:"View Detailed Usage Report"})})]})]}),S.length>0&&(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),"Recent Support Tickets"]}),(0,a.jsx)(r.CardDescription,{children:"Your latest support requests"})]}),(0,a.jsxs)(r.CardContent,{children:[(0,a.jsx)("div",{className:"space-y-3",children:S.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.subject}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.ticket_number," â€¢ Submitted"," ",new Date(e.created_at).toLocaleDateString()]})]})}),(0,a.jsxs)(r.Badge,{variant:"outline",className:"resolved"===e.status||"closed"===e.status?"bg-green-500/10 text-green-500 border-green-500/30":"in_progress"===e.status?"bg-blue-500/10 text-blue-500 border-blue-500/30":"bg-yellow-500/10 text-yellow-500 border-yellow-500/30",children:[(0,a.jsx)(i.Z,{className:"h-3 w-3 mr-1"}),e.status.replace("_"," ")]})]},e.id))}),(0,a.jsx)(r.Button,{asChild:!0,variant:"outline",className:"w-full mt-4",children:(0,a.jsx)(n.default,{href:"/customer-portal/support",children:"View All Tickets"})})]})]})]})}},19566:()=>{throw Error('Module parse failed: Unexpected token (8:7)\nFile was processed with these loaders:\n * ./node_modules/next/dist/build/webpack/loaders/next-flight-client-module-loader.js\n * ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js\nYou may need an additional loader to handle the result of these loaders.\n| export * from "./CreateCreditNoteModal";\n| export { default as CustomerBilling } from "./CustomerBilling";\n> export type { CustomerBillingProps } from "./CustomerBilling";\n| export * from "./InvoiceDetailModal";\n| export { default as InvoiceList } from "./InvoiceList";')},70607:(e,s,t)=>{"use strict";var a=t(19566);t.o(a,"AddPaymentMethodModal")&&t.d(s,{AddPaymentMethodModal:function(){return a.AddPaymentMethodModal}}),t.o(a,"AddonsPageSkeleton")&&t.d(s,{AddonsPageSkeleton:function(){return a.AddonsPageSkeleton}}),t.o(a,"InvoiceList")&&t.d(s,{InvoiceList:function(){return a.InvoiceList}}),t.o(a,"formatCurrency")&&t.d(s,{formatCurrency:function(){return a.formatCurrency}});var r=t(58892);t.o(r,"AddPaymentMethodModal")&&t.d(s,{AddPaymentMethodModal:function(){return r.AddPaymentMethodModal}}),t.o(r,"AddonsPageSkeleton")&&t.d(s,{AddonsPageSkeleton:function(){return r.AddonsPageSkeleton}}),t.o(r,"InvoiceList")&&t.d(s,{InvoiceList:function(){return r.InvoiceList}}),t.o(r,"formatCurrency")&&t.d(s,{formatCurrency:function(){return r.formatCurrency}});var n=t(53590);t.o(n,"AddPaymentMethodModal")&&t.d(s,{AddPaymentMethodModal:function(){return n.AddPaymentMethodModal}}),t.o(n,"AddonsPageSkeleton")&&t.d(s,{AddonsPageSkeleton:function(){return n.AddonsPageSkeleton}}),t.o(n,"InvoiceList")&&t.d(s,{InvoiceList:function(){return n.InvoiceList}}),t.o(n,"formatCurrency")&&t.d(s,{formatCurrency:function(){return n.formatCurrency}})},58892:()=>{throw Error('Module parse failed: Unexpected token (7:7)\nFile was processed with these loaders:\n * ./node_modules/next/dist/build/webpack/loaders/next-flight-client-module-loader.js\n * ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js\nYou may need an additional loader to handle the result of these loaders.\n|  */\n| \n> export enum InvoiceStatus {\n|   DRAFT = "draft",\n|   FINALIZED = "finalized",')},53590:()=>{throw Error('Module parse failed: Unexpected token (7:44)\nFile was processed with these loaders:\n * ./node_modules/next/dist/build/webpack/loaders/next-flight-client-module-loader.js\n * ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js\nYou may need an additional loader to handle the result of these loaders.\n|  */\n| \n> import { InvoiceStatus, PaymentStatus, type Invoice } from "./types";\n| \n| /**')},41604:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,dynamic:()=>r,dynamicParams:()=>n});var a=t(68570);let r=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/page.tsx#dynamic`),n=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/page.tsx#dynamicParams`),l=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[2793,1009,6032,6392,4704],()=>t(57547));module.exports=a})();