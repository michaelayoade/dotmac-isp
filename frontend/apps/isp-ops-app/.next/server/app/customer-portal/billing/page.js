(()=>{var e={};e.id=7155,e.ids=[7155],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98536:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),a(47558),a(9785),a(46366),a(96560);var s=a(23191),r=a(88716),n=a(37922),i=a.n(n),d=a(95231),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);a.d(t,o);let l=["",{children:["customer-portal",{children:["billing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,47558)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/billing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9785)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],c=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/billing/page.tsx"],u="/customer-portal/billing/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/customer-portal/billing/page",pathname:"/customer-portal/billing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1608:(e,t,a)=>{Promise.resolve().then(a.bind(a,19590))},19590:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N,dynamic:()=>C,dynamicParams:()=>w});var s=a(10326),r=a(17577),n=a(48723),i=a(77506),d=a(30361),o=a(48998),l=a(41291),c=a(71821),u=a(37358),m=a(28916),p=a(95964),h=a(12714),x=a(31540),b=a(70607),g=a(24704),y=a(43328);a(59734),a(16671);let f={active:"bg-green-500/10 text-green-500 border-green-500/20",pending_verification:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",verification_failed:"bg-red-500/10 text-red-500 border-red-500/20",expired:"bg-gray-500/10 text-gray-500 border-gray-500/20",inactive:"bg-gray-500/10 text-gray-500 border-gray-500/20"},j=e=>({visa:"\uD83D\uDCB3",mastercard:"\uD83D\uDCB3",amex:"\uD83D\uDCB3",discover:"\uD83D\uDCB3",diners:"\uD83D\uDCB3",jcb:"\uD83D\uDCB3",unionpay:"\uD83D\uDCB3",unknown:"\uD83D\uDCB3"})[e||"unknown"]||"\uD83D\uDCB3",v=({paymentMethod:e,onSetDefault:t,onRemove:a,onVerify:r,isUpdating:i=!1})=>{let c="card"===e.method_type?{title:`${e.card_brand?.toUpperCase()||"Card"} •••• ${e.card_last4}`,subtitle:e.card_exp_month&&e.card_exp_year?`Expires ${String(e.card_exp_month).padStart(2,"0")}/${e.card_exp_year}`:null,icon:j(e.card_brand)}:"bank_account"===e.method_type?{title:`${e.bank_name||"Bank Account"} •••• ${e.bank_account_last4}`,subtitle:e.bank_account_type?e.bank_account_type.charAt(0).toUpperCase()+e.bank_account_type.slice(1):null,icon:"\uD83C\uDFE6"}:"wallet"===e.method_type?{title:e.wallet_type||"Digital Wallet",subtitle:null,icon:"\uD83D\uDCF1"}:{title:e.method_type.replace("_"," ").toUpperCase(),subtitle:null,icon:"\uD83D\uDCB3"},u=f[e.status]||f.active,m="pending_verification"===e.status&&"bank_account"===e.method_type;return(0,s.jsxs)(n.Card,{variant:"default",className:e.is_default?"ring-2 ring-primary":"",children:[(0,s.jsx)(n.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center text-2xl",children:c.icon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium",children:c.title}),e.is_default&&(0,s.jsx)(n.Badge,{className:"bg-primary/10 text-primary border-primary/20",children:"Default"})]}),c.subtitle&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c.subtitle})]})]}),(0,s.jsxs)(n.Badge,{className:u,children:["pending_verification"===e.status?(0,s.jsx)(o.Z,{className:"w-3 h-3 mr-1"}):"verification_failed"===e.status?(0,s.jsx)(l.Z,{className:"w-3 h-3 mr-1"}):e.is_verified?(0,s.jsx)(d.Z,{className:"w-3 h-3 mr-1"}):null,e.status.replace("_"," ").toUpperCase()]})]})}),(0,s.jsxs)(n.CardContent,{className:"pb-3",children:[e.billing_name&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Billing Information"}),(0,s.jsx)("p",{className:"text-sm",children:e.billing_name}),e.billing_email&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.billing_email}),e.billing_address_line1&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.billing_address_line1,e.billing_city&&`, ${e.billing_city}`,e.billing_state&&`, ${e.billing_state}`,e.billing_postal_code&&` ${e.billing_postal_code}`]})]}),m&&(0,s.jsx)("div",{className:"mt-3 rounded-md bg-yellow-500/10 border border-yellow-500/20 p-3",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-600 dark:text-yellow-500",children:[(0,s.jsx)("strong",{children:"Verification Required:"})," Check your bank statement for 2 small deposits and verify this account."]})}),"verification_failed"===e.status&&(0,s.jsx)("div",{className:"mt-3 rounded-md bg-red-500/10 border border-red-500/20 p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-500",children:"Verification failed. Please try again or contact support."})}),"expired"===e.status&&(0,s.jsx)("div",{className:"mt-3 rounded-md bg-gray-500/10 border border-gray-500/20 p-3",children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"This payment method has expired. Please add a new one."})})]}),(0,s.jsxs)(n.CardFooter,{className:"flex gap-2",children:[m&&r&&(0,s.jsx)(n.Button,{variant:"default",size:"sm",onClick:()=>r(e.payment_method_id),disabled:i,className:"flex-1",children:"Verify Account"}),!e.is_default&&"active"===e.status&&t&&(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>t(e.payment_method_id),disabled:i,className:"flex-1",children:i?"Setting...":"Set as Default"}),a&&(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>a(e.payment_method_id),disabled:i||e.is_default,className:"flex-1",children:i?"Removing...":"Remove"})]})]})};var _=a(74250);!function(){var e=Error("Cannot find module '../../../../../shared/utils/operatorAuth'");throw e.code="MODULE_NOT_FOUND",e}();let C="force-dynamic",w=!0;function N(){let{toast:e}=(0,n.useToast)(),[,t]=(0,r.useState)(null),{invoices:a,loading:f,refetch:j}=(0,g.UR)(),{payments:C,loading:w,makePayment:N}=(0,g.$p)(),{paymentMethods:P,defaultPaymentMethod:D,autoPayPaymentMethod:T,loading:A,error:k,addPaymentMethod:M,setDefaultPaymentMethod:S,removePaymentMethod:U,toggleAutoPay:E}=(0,g.x3)(),[B,L]=(0,r.useState)(!1),[I,q]=(0,r.useState)(!1),[O,F]=(0,r.useState)(null),[$,H]=(0,r.useState)(!1),{apiBaseUrl:R}=(0,_.L)(),Z=(0,r.useMemo)(()=>a?.find(e=>"paid"!==e.status)??null,[a]),z=a?.filter(e=>"paid"!==e.status).reduce((e,t)=>e+t.amount_due,0)||0;a?.some(e=>"paid"!==e.status);let Y=D?.payment_method_id||P.find(e=>e.is_default)?.payment_method_id||P[0]?.payment_method_id||null;if(f||w||A)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(i.Z,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading billing information..."})]})});let G=async()=>{if(!Z){e({title:"No Pending Invoices",description:"All of your invoices are paid."});return}if(!Y){e({title:"Add Payment Method",description:"Please add a payment method before paying your invoice.",variant:"destructive"}),L(!0);return}try{await N({invoiceId:Z.invoice_id,amount:Z.amount_due,paymentMethodId:Y}),e({title:"Payment Successful",description:`Payment of ${(0,b.formatCurrency)(Z.amount_due)} has been processed.`}),j()}catch(t){e({title:"Payment Failed",description:t instanceof Error?t.message:"Failed to process payment",variant:"destructive"})}},V=async t=>{try{let s=a?.find(e=>e.invoice_id===t);if(!s)throw Error("Invoice not found");e({title:"Download Started",description:"Your invoice is being downloaded."});let r=new URLSearchParams(window.location.search).get("token"),n=Object(function(){var e=Error("Cannot find module '../../../../../shared/utils/operatorAuth'");throw e.code="MODULE_NOT_FOUND",e}())({tokenKey:Object(function(){var e=Error("Cannot find module '../../../../../shared/utils/operatorAuth'");throw e.code="MODULE_NOT_FOUND",e}()),required:!1}),i=r||n;if(!i)throw Error("Customer session expired");let d=await fetch(`${R}/api/isp/v1/portal/customer/invoices/${t}/download`,{method:"GET",headers:{"Content-Type":"application/pdf",Authorization:`Bearer ${i}`}});if(r&&Object(function(){var e=Error("Cannot find module '../../../../../shared/utils/operatorAuth'");throw e.code="MODULE_NOT_FOUND",e}())(r,Object(function(){var e=Error("Cannot find module '../../../../../shared/utils/operatorAuth'");throw e.code="MODULE_NOT_FOUND",e}())),!d.ok)throw Error(`Failed to download invoice: ${d.statusText}`);let o=await d.blob(),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`invoice-${s.invoice_number}.pdf`,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(l),e({title:"Download Complete",description:`Invoice ${s.invoice_number} has been downloaded.`})}catch(t){console.error("Error downloading invoice:",t),e({title:"Download Failed",description:t instanceof Error?t.message:"Failed to download invoice",variant:"destructive"})}},K=async t=>{try{q(!0),F(null),await M(t),e({title:"Payment Method Added",description:"Your payment method has been added successfully."}),L(!1)}catch(a){let t=a instanceof Error?a.message:"Failed to add payment method";throw F(t),e({title:"Add Payment Method Failed",description:t,variant:"destructive"}),a}finally{q(!1)}},W=async t=>{try{H(!0),await S(t),e({title:"Default Updated",description:"Your default payment method has been updated."})}catch(t){e({title:"Failed to Update Default",description:t instanceof Error?t.message:"Could not update default method",variant:"destructive"})}finally{H(!1)}},X=async t=>{try{H(!0),await U(t),e({title:"Payment Method Removed",description:"The payment method has been removed."})}catch(t){e({title:"Remove Payment Method Failed",description:t instanceof Error?t.message:"Could not remove payment method",variant:"destructive"})}finally{H(!1)}},J=e=>{let t={paid:{label:"Paid",className:"bg-green-500/20 text-green-300 border-green-500/30",icon:d.Z},pending:{label:"Pending",className:"bg-blue-500/20 text-blue-300 border-blue-500/30",icon:o.Z},overdue:{label:"Overdue",className:"bg-red-500/20 text-red-300 border-red-500/30",icon:l.Z}},a=t[e]||t.pending,r=a.icon;return(0,s.jsxs)(n.Badge,{variant:"outline",className:a.className,children:[(0,s.jsx)(r,{className:"h-3 w-3 mr-1"}),a.label]})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Billing & Payments"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage your invoices and payment methods"})]}),(0,s.jsxs)(n.Card,{className:"border-blue-500/50 bg-blue-500/5",children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-5 w-5"}),"Current Balance"]}),(0,s.jsx)(n.CardDescription,{children:"Your outstanding balance"})]}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-end justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-4xl font-bold",children:(0,b.formatCurrency)(z)}),Z?.due_date&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-2 flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"Due on ",new Date(Z.due_date).toLocaleDateString()]})]}),(0,s.jsxs)(n.Button,{size:"lg",onClick:G,children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Pay Now"]})]})})]}),(0,s.jsxs)(n.Tabs,{defaultValue:"invoices",className:"space-y-6",children:[(0,s.jsxs)(n.TabsList,{className:"grid w-full max-w-md grid-cols-3",children:[(0,s.jsx)(n.TabsTrigger,{value:"invoices",children:"Invoices"}),(0,s.jsx)(n.TabsTrigger,{value:"payments",children:"Payment History"}),(0,s.jsx)(n.TabsTrigger,{value:"methods",children:"Payment Methods"})]}),(0,s.jsx)(n.TabsContent,{value:"invoices",className:"space-y-4",children:(0,s.jsxs)(n.Card,{children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"h-5 w-5"}),"Invoices"]}),(0,s.jsx)(n.CardDescription,{children:"View and download your invoices"})]}),(0,s.jsx)(n.CardContent,{children:(0,s.jsx)("div",{className:"border rounded-lg",children:(0,s.jsxs)(n.Table,{children:[(0,s.jsx)(n.TableHeader,{children:(0,s.jsxs)(n.TableRow,{children:[(0,s.jsx)(n.TableHead,{children:"Invoice"}),(0,s.jsx)(n.TableHead,{children:"Description"}),(0,s.jsx)(n.TableHead,{className:"text-right",children:"Amount"}),(0,s.jsx)(n.TableHead,{children:"Due Date"}),(0,s.jsx)(n.TableHead,{children:"Status"}),(0,s.jsx)(n.TableHead,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(n.TableBody,{children:a&&a.length>0?a.map(e=>(0,s.jsxs)(n.TableRow,{children:[(0,s.jsx)(n.TableCell,{className:"font-medium",children:e.invoice_number}),(0,s.jsx)(n.TableCell,{children:e.description}),(0,s.jsx)(n.TableCell,{className:"text-right font-medium",children:(0,b.formatCurrency)(e.amount)}),(0,s.jsx)(n.TableCell,{children:new Date(e.due_date).toLocaleDateString()}),(0,s.jsx)(n.TableCell,{children:J(e.status)}),(0,s.jsx)(n.TableCell,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>t(e.invoice_id),children:(0,s.jsx)(h.Z,{className:"h-4 w-4"})}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>V(e.invoice_id),children:(0,s.jsx)(x.Z,{className:"h-4 w-4"})}),"paid"!==e.status&&(0,s.jsx)(n.Button,{size:"sm",onClick:G,children:"Pay"})]})})]},e.invoice_id)):(0,s.jsx)(n.TableRow,{children:(0,s.jsx)(n.TableCell,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No invoices found"})})})]})})})]})}),(0,s.jsx)(n.TabsContent,{value:"payments",className:"space-y-4",children:(0,s.jsxs)(n.Card,{children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"h-5 w-5"}),"Payment History"]}),(0,s.jsx)(n.CardDescription,{children:"Your recent payment transactions"})]}),(0,s.jsx)(n.CardContent,{children:(0,s.jsx)("div",{className:"border rounded-lg",children:(0,s.jsxs)(n.Table,{children:[(0,s.jsx)(n.TableHeader,{children:(0,s.jsxs)(n.TableRow,{children:[(0,s.jsx)(n.TableHead,{children:"Date"}),(0,s.jsx)(n.TableHead,{children:"Invoice"}),(0,s.jsx)(n.TableHead,{children:"Payment Method"}),(0,s.jsx)(n.TableHead,{className:"text-right",children:"Amount"}),(0,s.jsx)(n.TableHead,{children:"Status"})]})}),(0,s.jsx)(n.TableBody,{children:C&&C.length>0?C.map(e=>(0,s.jsxs)(n.TableRow,{children:[(0,s.jsx)(n.TableCell,{children:new Date(e.date).toLocaleDateString()}),(0,s.jsx)(n.TableCell,{className:"font-medium",children:e.invoice_number}),(0,s.jsx)(n.TableCell,{children:e.method}),(0,s.jsx)(n.TableCell,{className:"text-right font-medium text-green-500",children:(0,b.formatCurrency)(e.amount)}),(0,s.jsx)(n.TableCell,{children:(0,s.jsx)(n.Badge,{variant:"outline",className:"success"===e.status?"bg-green-500/20 text-green-300 border-green-500/30":"pending"===e.status?"bg-blue-500/20 text-blue-300 border-blue-500/30":"bg-red-500/20 text-red-300 border-red-500/30",children:e.status})})]},e.id)):(0,s.jsx)(n.TableRow,{children:(0,s.jsx)(n.TableCell,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No payment history found"})})})]})})})]})}),(0,s.jsxs)(n.TabsContent,{value:"methods",className:"space-y-4",children:[(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"h-5 w-5"}),"Payment Methods"]}),(0,s.jsx)(n.CardDescription,{children:"Manage your saved payment methods"})]}),(0,s.jsx)(n.Button,{onClick:()=>L(!0),children:"Add Payment Method"})]})}),(0,s.jsxs)(n.CardContent,{children:[k&&(0,s.jsx)("div",{className:"mb-4 rounded-md border border-destructive/30 bg-destructive/10 p-3 text-sm text-destructive",children:k}),P.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:P.map(e=>(0,s.jsx)(v,{paymentMethod:e,onSetDefault:()=>W(e.payment_method_id),onRemove:()=>X(e.payment_method_id),isUpdating:$},e.payment_method_id))}):(0,s.jsxs)("div",{className:"text-center py-12 border rounded-md",children:[(0,s.jsx)(m.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50 text-muted-foreground"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Payment Methods"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Add a payment method to quickly pay your invoices."}),(0,s.jsx)(n.Button,{onClick:()=>L(!0),children:"Add Payment Method"})]})]})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsx)(n.CardTitle,{children:"AutoPay"}),(0,s.jsx)(n.CardDescription,{children:"Set up automatic payments for your monthly bills"})]}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"AutoPay Status"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:T?`Enabled on ${"card"===T.method_type?`${T.card_brand} ending in ${T.card_last4}`:"bank_account"===T.method_type?`${T.bank_name} ending in ${T.bank_account_last4}`:T.method_type}`:"Currently disabled"})]}),D&&(0,s.jsx)(n.Button,{variant:T?"destructive":"outline",onClick:async()=>{try{await E(D.payment_method_id),e({title:T?"AutoPay Disabled":"AutoPay Enabled",description:T?"AutoPay has been disabled":"AutoPay has been enabled on your default payment method"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to toggle AutoPay",variant:"destructive"})}},children:T?"Disable AutoPay":"Enable AutoPay"}),!D&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add a payment method first"})]})})]})]})]}),(0,s.jsx)(y.t,{open:B,onOpenChange:e=>{L(e),e||F(null)},onAddPaymentMethod:K,isAdding:I,error:O})]})}},43328:(e,t,a)=>{"use strict";a.d(t,{t:()=>i});var s=a(10326),r=a(70607),n=a(29771);let i=e=>(0,s.jsx)(r.AddPaymentMethodModal,{...e,logger:n.k})},74250:(e,t,a)=>{"use strict";a.d(t,{L:()=>r});var s=a(93158);function r(){let{api:e}=(0,s.M)(),t=e.baseUrl||"";return{api:e,apiBaseUrl:t,buildApiUrl:e.buildUrl}}},19566:()=>{throw Error('Module parse failed: Unexpected token (8:7)\nFile was processed with these loaders:\n * ./node_modules/next/dist/build/webpack/loaders/next-flight-client-module-loader.js\n * ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js\nYou may need an additional loader to handle the result of these loaders.\n| export * from "./CreateCreditNoteModal";\n| export { default as CustomerBilling } from "./CustomerBilling";\n> export type { CustomerBillingProps } from "./CustomerBilling";\n| export * from "./InvoiceDetailModal";\n| export { default as InvoiceList } from "./InvoiceList";')},70607:(e,t,a)=>{"use strict";var s=a(19566);a.o(s,"AddPaymentMethodModal")&&a.d(t,{AddPaymentMethodModal:function(){return s.AddPaymentMethodModal}}),a.o(s,"AddonsPageSkeleton")&&a.d(t,{AddonsPageSkeleton:function(){return s.AddonsPageSkeleton}}),a.o(s,"InvoiceList")&&a.d(t,{InvoiceList:function(){return s.InvoiceList}}),a.o(s,"formatCurrency")&&a.d(t,{formatCurrency:function(){return s.formatCurrency}});var r=a(58892);a.o(r,"AddPaymentMethodModal")&&a.d(t,{AddPaymentMethodModal:function(){return r.AddPaymentMethodModal}}),a.o(r,"AddonsPageSkeleton")&&a.d(t,{AddonsPageSkeleton:function(){return r.AddonsPageSkeleton}}),a.o(r,"InvoiceList")&&a.d(t,{InvoiceList:function(){return r.InvoiceList}}),a.o(r,"formatCurrency")&&a.d(t,{formatCurrency:function(){return r.formatCurrency}});var n=a(53590);a.o(n,"AddPaymentMethodModal")&&a.d(t,{AddPaymentMethodModal:function(){return n.AddPaymentMethodModal}}),a.o(n,"AddonsPageSkeleton")&&a.d(t,{AddonsPageSkeleton:function(){return n.AddonsPageSkeleton}}),a.o(n,"InvoiceList")&&a.d(t,{InvoiceList:function(){return n.InvoiceList}}),a.o(n,"formatCurrency")&&a.d(t,{formatCurrency:function(){return n.formatCurrency}})},58892:()=>{throw Error('Module parse failed: Unexpected token (7:7)\nFile was processed with these loaders:\n * ./node_modules/next/dist/build/webpack/loaders/next-flight-client-module-loader.js\n * ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js\nYou may need an additional loader to handle the result of these loaders.\n|  */\n| \n> export enum InvoiceStatus {\n|   DRAFT = "draft",\n|   FINALIZED = "finalized",')},53590:()=>{throw Error('Module parse failed: Unexpected token (7:44)\nFile was processed with these loaders:\n * ./node_modules/next/dist/build/webpack/loaders/next-flight-client-module-loader.js\n * ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js\nYou may need an additional loader to handle the result of these loaders.\n|  */\n| \n> import { InvoiceStatus, PaymentStatus, type Invoice } from "./types";\n| \n| /**')},47558:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,dynamic:()=>r,dynamicParams:()=>n});var s=a(68570);let r=(0,s.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/billing/page.tsx#dynamic`),n=(0,s.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/billing/page.tsx#dynamicParams`),i=(0,s.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/billing/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[2793,1009,6032,6392,4704],()=>a(98536));module.exports=s})();