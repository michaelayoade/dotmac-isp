(()=>{var e={};e.id=3071,e.ids=[3071],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59620:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>n}),t(41253),t(9785),t(46366),t(96560);var r=t(23191),a=t(88716),l=t(37922),i=t.n(l),c=t(95231),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);t.d(s,o);let n=["",{children:["customer-portal",{children:["support",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41253)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/support/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9785)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],d=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/support/page.tsx"],p="/customer-portal/support/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/customer-portal/support/page",pathname:"/customer-portal/support",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},21010:(e,s,t)=>{Promise.resolve().then(t.bind(t,16720))},16720:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y,dynamic:()=>g,dynamicParams:()=>v});var r=t(10326),a=t(17577),l=t(48723),i=t(77506),c=t(41291),o=t(48998),n=t(30361),d=t(69669),p=t(83855),u=t(2280),m=t(40617),x=t(88307),h=t(90960),j=t(24704);let g="force-dynamic",v=!0;function y(){let{toast:e}=(0,l.useToast)(),{tickets:s,loading:t,createTicket:g,refetch:v}=(0,j.H6)(),[y,b]=(0,a.useState)(!1),[f,N]=(0,a.useState)(""),[C,w]=(0,a.useState)("all"),[S,P]=(0,a.useState)(!1),[q,k]=(0,a.useState)({subject:"",description:"",category:"",priority:"normal"});if(t)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(i.Z,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading support tickets..."})]})});let D=s?.filter(e=>{let s=e.subject.toLowerCase().includes(f.toLowerCase())||e.ticket_number.toLowerCase().includes(f.toLowerCase()),t="all"===C||e.status===C;return s&&t})||[],_=async()=>{if(!q.subject||!q.description||!q.category){e({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{P(!0),await g(q),e({title:"Ticket Created",description:"Your support ticket has been submitted successfully. We&apos;ll respond shortly."}),k({subject:"",description:"",category:"",priority:"normal"}),b(!1),v()}catch(s){e({title:"Failed to Create Ticket",description:s instanceof Error?s.message:"An error occurred",variant:"destructive"})}finally{P(!1)}},T=e=>{let s={open:{label:"Open",className:"bg-blue-500/20 text-blue-300 border-blue-500/30",icon:c.Z},in_progress:{label:"In Progress",className:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30",icon:o.Z},resolved:{label:"Resolved",className:"bg-green-500/20 text-green-300 border-green-500/30",icon:n.Z},closed:{label:"Closed",className:"bg-gray-500/20 text-gray-300 border-gray-500/30",icon:d.Z}}[e],t=s.icon;return(0,r.jsxs)(l.Badge,{variant:"outline",className:s.className,children:[(0,r.jsx)(t,{className:"h-3 w-3 mr-1"}),s.label]})},I=e=>{let s={low:{label:"Low",className:"bg-gray-500/20 text-gray-300"},normal:{label:"Normal",className:"bg-blue-500/20 text-blue-300"},high:{label:"High",className:"bg-orange-500/20 text-orange-300"},urgent:{label:"Urgent",className:"bg-red-500/20 text-red-300"}}[e];return(0,r.jsx)(l.Badge,{variant:"outline",className:s.className,children:s.label})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Support"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Get help with your service"})]}),(0,r.jsxs)(l.Dialog,{open:y,onOpenChange:b,children:[(0,r.jsx)(l.DialogTrigger,{asChild:!0,children:(0,r.jsxs)(l.Button,{children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})}),(0,r.jsxs)(l.DialogContent,{className:"max-w-2xl",children:[(0,r.jsxs)(l.DialogHeader,{children:[(0,r.jsx)(l.DialogTitle,{children:"Create Support Ticket"}),(0,r.jsx)(l.DialogDescription,{children:"Describe your issue and we'll help you resolve it"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(l.Label,{htmlFor:"subject",children:["Subject ",(0,r.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,r.jsx)(l.Input,{id:"subject",placeholder:"Brief description of your issue",value:q.subject,onChange:e=>k({...q,subject:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(l.Label,{htmlFor:"category",children:["Category ",(0,r.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,r.jsxs)(l.Select,{value:q.category,onValueChange:e=>k({...q,category:e}),children:[(0,r.jsx)(l.SelectTrigger,{id:"category",children:(0,r.jsx)(l.SelectValue,{placeholder:"Select category"})}),(0,r.jsxs)(l.SelectContent,{children:[(0,r.jsx)(l.SelectItem,{value:"technical",children:"Technical Support"}),(0,r.jsx)(l.SelectItem,{value:"billing",children:"Billing Question"}),(0,r.jsx)(l.SelectItem,{value:"account",children:"Account Management"}),(0,r.jsx)(l.SelectItem,{value:"service",children:"Service Request"}),(0,r.jsx)(l.SelectItem,{value:"general",children:"General Inquiry"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"priority",children:"Priority"}),(0,r.jsxs)(l.Select,{value:q.priority,onValueChange:e=>k({...q,priority:e}),children:[(0,r.jsx)(l.SelectTrigger,{id:"priority",children:(0,r.jsx)(l.SelectValue,{})}),(0,r.jsxs)(l.SelectContent,{children:[(0,r.jsx)(l.SelectItem,{value:"low",children:"Low"}),(0,r.jsx)(l.SelectItem,{value:"normal",children:"Normal"}),(0,r.jsx)(l.SelectItem,{value:"high",children:"High"}),(0,r.jsx)(l.SelectItem,{value:"urgent",children:"Urgent"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(l.Label,{htmlFor:"description",children:["Description ",(0,r.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,r.jsx)(l.Textarea,{id:"description",placeholder:"Provide detailed information about your issue...",rows:6,value:q.description,onChange:e=>k({...q,description:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,r.jsx)(l.Button,{variant:"outline",onClick:()=>b(!1),disabled:S,children:"Cancel"}),(0,r.jsx)(l.Button,{onClick:_,disabled:S,children:S?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Ticket"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)(l.Card,{className:"cursor-pointer hover:border-primary transition-colors",children:[(0,r.jsx)(l.CardHeader,{children:(0,r.jsxs)(l.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5"}),"Call Support"]})}),(0,r.jsxs)(l.CardContent,{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Speak with a support representative"}),(0,r.jsx)("p",{className:"text-lg font-bold",children:"1-800-123-4567"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Available 24/7"})]})]}),(0,r.jsxs)(l.Card,{className:"cursor-pointer hover:border-primary transition-colors",children:[(0,r.jsx)(l.CardHeader,{children:(0,r.jsxs)(l.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5"}),"Live Chat"]})}),(0,r.jsxs)(l.CardContent,{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Chat with our support team"}),(0,r.jsx)(l.Button,{variant:"outline",className:"w-full",children:"Start Chat"})]})]}),(0,r.jsxs)(l.Card,{className:"cursor-pointer hover:border-primary transition-colors",children:[(0,r.jsx)(l.CardHeader,{children:(0,r.jsxs)(l.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5"}),"Help Center"]})}),(0,r.jsxs)(l.CardContent,{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Browse FAQs and guides"}),(0,r.jsx)(l.Button,{variant:"outline",className:"w-full",children:"Browse Articles"})]})]})]}),(0,r.jsxs)(l.Card,{children:[(0,r.jsxs)(l.CardHeader,{children:[(0,r.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5"}),"My Support Tickets"]}),(0,r.jsx)(l.CardDescription,{children:"Track your support requests"})]}),(0,r.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(l.Input,{placeholder:"Search tickets...",value:f,onChange:e=>N(e.target.value),className:"max-w-md"})}),(0,r.jsxs)(l.Select,{value:C,onValueChange:w,children:[(0,r.jsx)(l.SelectTrigger,{className:"w-full md:w-[200px]",children:(0,r.jsx)(l.SelectValue,{})}),(0,r.jsxs)(l.SelectContent,{children:[(0,r.jsx)(l.SelectItem,{value:"all",children:"All Status"}),(0,r.jsx)(l.SelectItem,{value:"open",children:"Open"}),(0,r.jsx)(l.SelectItem,{value:"in_progress",children:"In Progress"}),(0,r.jsx)(l.SelectItem,{value:"resolved",children:"Resolved"}),(0,r.jsx)(l.SelectItem,{value:"closed",children:"Closed"})]})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:0===D.length?(0,r.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,r.jsx)(u.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No tickets found"}),f&&(0,r.jsx)(l.Button,{variant:"link",onClick:()=>N(""),className:"mt-2",children:"Clear search"})]}):D.map(e=>(0,r.jsx)("div",{className:"p-4 rounded-lg border hover:border-primary transition-colors cursor-pointer",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("span",{className:"font-medium",children:e.ticket_number}),T(e.status),I(e.priority)]}),(0,r.jsx)("h3",{className:"font-semibold",children:e.subject}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Category: ",e.category]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Created"," ",(0,h.Q)(new Date(e.created_at),{addSuffix:!0})]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Updated"," ",(0,h.Q)(new Date(e.updated_at),{addSuffix:!0})]})]})]}),(0,r.jsx)(l.Button,{variant:"outline",size:"sm",children:"View Details"})]})},e.id))})]})]})]})}},41253:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,dynamic:()=>a,dynamicParams:()=>l});var r=t(68570);let a=(0,r.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/support/page.tsx#dynamic`),l=(0,r.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/support/page.tsx#dynamicParams`),i=(0,r.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/customer-portal/support/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[2793,1009,6032,6392,4704],()=>t(59620));module.exports=r})();