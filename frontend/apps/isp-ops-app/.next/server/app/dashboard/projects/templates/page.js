(()=>{var e={};e.id=5231,e.ids=[5231],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},58446:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(67280),t(13321),t(46366),t(96560);var a=t(23191),l=t(88716),i=t(37922),r=t.n(i),d=t(95231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let o=["",{children:["dashboard",{children:["projects",{children:["templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,67280)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/projects/templates/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],c=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/projects/templates/page.tsx"],m="/dashboard/projects/templates/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/projects/templates/page",pathname:"/dashboard/projects/templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},51949:(e,s,t)=>{Promise.resolve().then(t.bind(t,45122))},45122:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(10326),l=t(35047),i=t(48723),r=t(17577),d=t(45480),n=t(98091),o=t(12714),c=t(31215),m=t(83855),p=t(63103),u=t(48502);function h({task:e,columns:s,onUpdate:t,onDelete:l}){let r=[p.UA.TASK,p.UA.BUG,p.UA.FEATURE,p.UA.IMPROVEMENT,p.UA.RESEARCH,p.UA.DOCUMENTATION],o=[p.T8.LOW,p.T8.MEDIUM,p.T8.HIGH,p.T8.CRITICAL],c=[p.qm.OWNER,p.qm.ADMIN,p.qm.MANAGER,p.qm.MEMBER,p.qm.VIEWER];return(0,a.jsx)(i.Card,{className:"mb-4",children:(0,a.jsx)(i.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"cursor-move mt-2",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`task-title-${e.id}`,children:"Task Title"}),(0,a.jsx)(i.Input,{id:`task-title-${e.id}`,value:e.title,onChange:s=>t({...e,title:s.target.value}),placeholder:"Enter task title..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`task-type-${e.id}`,children:"Type"}),(0,a.jsxs)(i.Select,{value:e.type,onValueChange:s=>t({...e,type:s}),children:[(0,a.jsx)(i.SelectTrigger,{id:`task-type-${e.id}`,children:(0,a.jsx)(i.SelectValue,{})}),(0,a.jsx)(i.SelectContent,{children:r.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`task-desc-${e.id}`,children:"Description"}),(0,a.jsx)(i.Textarea,{id:`task-desc-${e.id}`,value:e.description,onChange:s=>t({...e,description:s.target.value}),placeholder:"Task description...",rows:2})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`task-priority-${e.id}`,children:"Priority"}),(0,a.jsxs)(i.Select,{value:e.priority,onValueChange:s=>t({...e,priority:s}),children:[(0,a.jsx)(i.SelectTrigger,{id:`task-priority-${e.id}`,children:(0,a.jsx)(i.SelectValue,{})}),(0,a.jsx)(i.SelectContent,{children:o.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`task-column-${e.id}`,children:"Column"}),(0,a.jsxs)(i.Select,{value:e.columnId,onValueChange:s=>t({...e,columnId:s}),children:[(0,a.jsx)(i.SelectTrigger,{id:`task-column-${e.id}`,children:(0,a.jsx)(i.SelectValue,{})}),(0,a.jsx)(i.SelectContent,{children:s.map(e=>(0,a.jsx)(i.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`task-hours-${e.id}`,children:"Est. Hours"}),(0,a.jsx)(i.Input,{id:`task-hours-${e.id}`,type:"number",value:e.estimatedHours||"",onChange:s=>t({...e,estimatedHours:parseInt(s.target.value)||void 0}),placeholder:"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`task-days-${e.id}`,children:"Days from Start"}),(0,a.jsx)(i.Input,{id:`task-days-${e.id}`,type:"number",value:e.daysFromStart||"",onChange:s=>t({...e,daysFromStart:parseInt(s.target.value)||void 0}),placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`task-role-${e.id}`,children:"Assign to Role"}),(0,a.jsxs)(i.Select,{value:e.assignToRole||"",onValueChange:s=>t({...e,assignToRole:s||void 0}),children:[(0,a.jsx)(i.SelectTrigger,{id:`task-role-${e.id}`,children:(0,a.jsx)(i.SelectValue,{placeholder:"Select role..."})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"",children:"None"}),c.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e},e))]})]})]})]}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:l,className:"text-red-600",children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})]})})})}function x({column:e,onUpdate:s,onDelete:t}){let l=[p.hY.TODO,p.hY.IN_PROGRESS,p.hY.IN_REVIEW,p.hY.BLOCKED,p.hY.DONE,p.hY.CANCELLED];return(0,a.jsx)(i.Card,{className:"mb-3",children:(0,a.jsx)(i.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"cursor-move mt-2",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`col-name-${e.id}`,children:"Column Name"}),(0,a.jsx)(i.Input,{id:`col-name-${e.id}`,value:e.name,onChange:t=>s({...e,name:t.target.value}),placeholder:"Column name..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`col-status-${e.id}`,children:"Status"}),(0,a.jsxs)(i.Select,{value:e.status,onValueChange:t=>s({...e,status:t}),children:[(0,a.jsx)(i.SelectTrigger,{id:`col-status-${e.id}`,children:(0,a.jsx)(i.SelectValue,{})}),(0,a.jsx)(i.SelectContent,{children:l.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e.replace("_"," ")},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:`col-wip-${e.id}`,children:"WIP Limit"}),(0,a.jsx)(i.Input,{id:`col-wip-${e.id}`,type:"number",value:e.wipLimit||"",onChange:t=>s({...e,wipLimit:parseInt(t.target.value)||void 0}),placeholder:"No limit"})]})]}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:t,className:"text-red-600",children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})]})})})}function j({initialTemplate:e,onSave:s,onCancel:t}){let[l,d]=(0,r.useState)({name:e?.name||"",description:e?.description||"",category:e?.category||p.QC.CUSTOM,taskTemplates:e?.taskTemplates||[],columns:e?.columns||[{id:"col-1",name:"To Do",status:p.hY.TODO,position:0,tasks:[]},{id:"col-2",name:"In Progress",status:p.hY.IN_PROGRESS,position:1,tasks:[]},{id:"col-3",name:"Done",status:p.hY.DONE,position:2,tasks:[]}],isPublic:e?.isPublic||!1,tags:e?.tags||[],defaultDuration:e?.defaultDuration,estimatedHours:e?.estimatedHours}),[n,j]=(0,r.useState)(!1),{mutate:g,isPending:v}=(0,u.eD)(),f=[p.QC.SOFTWARE_DEVELOPMENT,p.QC.MARKETING,p.QC.SALES,p.QC.OPERATIONS,p.QC.HR,p.QC.CUSTOM],C=()=>{let e={id:`task-${Date.now()}`,title:"New Task",description:"",type:p.UA.TASK,priority:p.T8.MEDIUM,position:l.taskTemplates?.length||0,columnId:l.columns?.[0]?.id||"col-1",dependencies:[]};d({...l,taskTemplates:[...l.taskTemplates||[],e]})},N=(e,s)=>{d({...l,taskTemplates:(l.taskTemplates??[]).map(t=>t.id===e?s:t)})},b=e=>{d({...l,taskTemplates:(l.taskTemplates??[]).filter(s=>s.id!==e)})},T=(e,s)=>{d({...l,columns:(l.columns??[]).map(t=>t.id===e?s:t)})},k=e=>{d({...l,columns:(l.columns??[]).filter(s=>s.id!==e)})},y=l.taskTemplates?.reduce((e,s)=>e+(s.estimatedHours||0),0)||0;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Template Builder"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Create reusable project templates with pre-configured tasks"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.Button,{variant:"outline",onClick:()=>j(!n),children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),n?"Edit":"Preview"]}),t&&(0,a.jsx)(i.Button,{variant:"outline",onClick:t,children:"Cancel"}),(0,a.jsxs)(i.Button,{onClick:()=>{if(!l.name||!l.category){alert("Please fill in all required fields");return}let e={name:l.name,description:l.description||"",category:l.category,taskTemplates:l.taskTemplates||[],columns:l.columns||[],isPublic:l.isPublic||!1,tags:l.tags||[]};void 0!==l.defaultDuration&&(e.defaultDuration=l.defaultDuration),void 0!==l.estimatedHours&&(e.estimatedHours=l.estimatedHours),g(e,{onSuccess:e=>{s&&s(e)}})},disabled:v,children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),v?"Saving...":"Save Template"]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Template Information"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:"template-name",children:"Template Name *"}),(0,a.jsx)(i.Input,{id:"template-name",value:l.name,onChange:e=>d({...l,name:e.target.value}),placeholder:"e.g., Website Redesign, Product Launch..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:"template-category",children:"Category *"}),(0,a.jsxs)(i.Select,{value:l.category||"",onValueChange:e=>d({...l,category:e}),children:[(0,a.jsx)(i.SelectTrigger,{id:"template-category",children:(0,a.jsx)(i.SelectValue,{})}),(0,a.jsx)(i.SelectContent,{children:f.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e.replace("_"," ")},e))})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:"template-description",children:"Description"}),(0,a.jsx)(i.Textarea,{id:"template-description",value:l.description,onChange:e=>d({...l,description:e.target.value}),placeholder:"Describe what this template is for...",rows:3})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:"template-duration",children:"Default Duration (days)"}),(0,a.jsx)(i.Input,{id:"template-duration",type:"number",value:l.defaultDuration||"",onChange:e=>d({...l,defaultDuration:parseInt(e.target.value)||void 0}),placeholder:"30"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:"template-hours",children:"Estimated Hours"}),(0,a.jsx)(i.Input,{id:"template-hours",type:"number",value:l.estimatedHours||y,onChange:e=>d({...l,estimatedHours:parseInt(e.target.value)||void 0}),placeholder:y.toString()}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Auto-calculated: ",y,"h"]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:l.isPublic,onChange:e=>d({...l,isPublic:e.target.checked}),className:"rounded border-gray-300"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Make template public"})]})})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(i.CardTitle,{children:"Kanban Columns"}),(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{let e={id:`col-${Date.now()}`,name:"New Column",status:p.hY.TODO,position:l.columns?.length||0,tasks:[]};d({...l,columns:[...l.columns||[],e]})},children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Add Column"]})]})}),(0,a.jsx)(i.CardContent,{children:l.columns&&l.columns.length>0?l.columns.map(e=>(0,a.jsx)(x,{column:e,onUpdate:s=>T(e.id,s),onDelete:()=>k(e.id)},e.id)):(0,a.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No columns defined. Add columns to organize your tasks."})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.CardTitle,{children:"Task Templates"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[l.taskTemplates?.length||0," tasks \xb7 ",y,"h estimated"]})]}),(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:C,children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Add Task"]})]})}),(0,a.jsx)(i.CardContent,{children:l.taskTemplates&&l.taskTemplates.length>0?l.taskTemplates.map(e=>(0,a.jsx)(h,{task:e,columns:l.columns||[],onUpdate:s=>N(e.id,s),onDelete:()=>b(e.id)},e.id)):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"No tasks defined yet."}),(0,a.jsxs)(i.Button,{onClick:C,children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Add Your First Task"]})]})})]}),n&&(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Template Preview"})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:l.name||"Untitled Template"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:l.description}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)(i.Badge,{children:l.category?.replace("_"," ")}),l.isPublic&&(0,a.jsx)(i.Badge,{variant:"outline",children:"Public"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Duration"}),(0,a.jsxs)("p",{className:"font-semibold",children:[l.defaultDuration||"N/A"," days"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tasks"}),(0,a.jsx)("p",{className:"font-semibold",children:l.taskTemplates?.length||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Estimated Hours"}),(0,a.jsxs)("p",{className:"font-semibold",children:[y,"h"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Columns"}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:l.columns?.map(e=>a.jsxs(i.Badge,{variant:"outline",children:[e.name,e.wipLimit&&` (WIP: ${e.wipLimit})`]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Tasks Breakdown"}),(0,a.jsx)("div",{className:"space-y-2",children:l.taskTemplates?.map(e=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(i.Badge,{variant:"outline",children:e.type}),a.jsx(i.Badge,{variant:"outline",children:e.priority})]})]},e.id))})]})]})})]})]})}function g(){let e=(0,l.useRouter)(),{toast:s}=(0,i.useToast)();return(0,a.jsx)(j,{onSave:t=>{s({title:"Template created",description:`${t.name} is ready to use.`}),e.push("/dashboard/projects")},onCancel:()=>{e.push("/dashboard/projects")}})}},67280:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/projects/templates/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[2793,1009,6226,657,6032,4218,8502],()=>t(58446));module.exports=a})();