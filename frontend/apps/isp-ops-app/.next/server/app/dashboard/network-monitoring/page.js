(()=>{var e={};e.id=3359,e.ids=[3359],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},49089:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(45657),t(13321),t(46366),t(96560);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["dashboard",{children:["network-monitoring",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,45657)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network-monitoring/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],o=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network-monitoring/page.tsx"],m="/dashboard/network-monitoring/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/network-monitoring/page",pathname:"/dashboard/network-monitoring",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7397:(e,s,t)=>{Promise.resolve().then(t.bind(t,18306))},18306:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w,dynamic:()=>N});var a=t(10326),r=t(17577),l=t(48723),i=t(19228),n=t(69669),d=t(50949),c=t(41291),o=t(77506),m=t(21405),x=t(93892),h=t(29163),u=t(17069),p=t(88307),g=t(30361),j=t(48998),v=t(66697),f=t(29771);let N="force-dynamic";function w(){let{toast:e}=(0,l.useToast)(),[s,t]=(0,r.useState)(""),[N,w]=(0,r.useState)(void 0),[b,C]=(0,r.useState)(void 0),[S,P]=(0,r.useState)(null),[A,k]=(0,r.useState)(!1),[D,I]=(0,r.useState)(void 0),[T,_]=(0,r.useState)("time"),[U,q]=(0,r.useState)(!1),{overview:L,isLoading:F,refetch:E}=function(e={}){let{devicePage:s=1,devicePageSize:t=10,deviceType:a,deviceStatus:r,alertPage:l=1,alertPageSize:n=20,alertSeverity:d,enabled:c=!0,pollInterval:o=3e4}=e,{data:m,loading:x,error:h,refetch:u}=(0,i.cji)({variables:{devicePage:s,devicePageSize:t,deviceType:a,deviceStatus:r,alertPage:l,alertPageSize:n,alertSeverity:d},skip:!c,pollInterval:o,fetchPolicy:"cache-and-network"}),p=m?.networkOverview,g=m?.networkDevices?.devices??[],j=m?.networkDevices?.totalCount??0,v=m?.networkDevices?.hasNextPage??!1,f=m?.networkAlerts?.alerts??[],N=m?.networkAlerts?.totalCount??0,w=m?.networkAlerts?.hasNextPage??!1;return{overview:{totalDevices:p?.totalDevices??0,onlineDevices:p?.onlineDevices??0,offlineDevices:p?.offlineDevices??0,activeAlerts:p?.activeAlerts??0,criticalAlerts:p?.criticalAlerts??0,totalBandwidthGbps:p?.totalBandwidthGbps??0,uptimePercentage:p?.uptimePercentage??0,deviceTypeSummary:p?.deviceTypeSummary??[],recentAlerts:p?.recentAlerts??[]},devices:g,devicesTotal:j,devicesHasNextPage:v,alerts:f,alertsTotal:N,alertsHasNextPage:w,isLoading:x,error:h?.message,refetch:u}}({pollInterval:3e4}),{devices:M,isLoading:O,refetch:B}=function(e={}){let{page:s=1,pageSize:t=20,deviceType:a,status:r,search:l,enabled:n=!0,pollInterval:d=3e4}=e,{data:c,loading:o,error:m,refetch:x}=(0,i._A2)({variables:{page:s,pageSize:t,deviceType:a,status:r,search:l||void 0},skip:!n,pollInterval:d,fetchPolicy:"cache-and-network"}),h=c?.networkDevices?.devices??[];return{devices:h,total:c?.networkDevices?.totalCount??0,hasNextPage:c?.networkDevices?.hasNextPage??!1,hasPrevPage:c?.networkDevices?.hasPrevPage??!1,page:c?.networkDevices?.page??s,pageSize:c?.networkDevices?.pageSize??t,isLoading:o,error:m?.message,refetch:x}}({pageSize:100,status:N,deviceType:b,search:s||void 0,pollInterval:3e4}),{alerts:$,isLoading:Z,refetch:G}=function(e={}){let{page:s=1,pageSize:t=50,severity:a,activeOnly:r=!0,deviceId:l,deviceType:n,enabled:d=!0,pollInterval:c=15e3}=e,{data:o,loading:m,error:x,refetch:h}=(0,i.k9y)({variables:{page:s,pageSize:t,severity:a,activeOnly:r,deviceId:l,deviceType:n},skip:!d,pollInterval:c,fetchPolicy:"cache-and-network"}),u=o?.networkAlerts?.alerts??[];return{alerts:u,total:o?.networkAlerts?.totalCount??0,hasNextPage:o?.networkAlerts?.hasNextPage??!1,hasPrevPage:o?.networkAlerts?.hasPrevPage??!1,page:o?.networkAlerts?.page??s,pageSize:o?.networkAlerts?.pageSize??t,isLoading:m,error:x?.message,refetch:h}}({pageSize:50,pollInterval:3e4}),V=F||O||Z,X=M.map(e=>({...e,device_name:e.deviceName,device_type:e.deviceType,ip_address:e.ipAddress,status:e.status})),z=S?X.find(e=>e.deviceId===S):null,H=$.filter(e=>!D||e.severity===D).sort((e,s)=>{if("severity"===T){let t={[i.XAI.Critical]:0,[i.XAI.Warning]:1,[i.XAI.Info]:2};return(t[e.severity]||99)-(t[s.severity]||99)}return new Date(s.triggeredAt).getTime()-new Date(e.triggeredAt).getTime()}),R=e=>{switch(e){case"ONLINE":return"bg-green-500";case"DEGRADED":return"bg-yellow-500";case"OFFLINE":return"bg-red-500";default:return"bg-gray-500"}},W=e=>{switch(e){case"ONLINE":return"default";case"DEGRADED":return"warning";case"OFFLINE":return"destructive";default:return"secondary"}},J=e=>{switch(e){case i.XAI.Critical:return(0,a.jsx)(n.Z,{className:"h-4 w-4 text-red-500"});case i.XAI.Warning:return(0,a.jsx)(d.Z,{className:"h-4 w-4 text-yellow-500"});case i.XAI.Info:return(0,a.jsx)(c.Z,{className:"h-4 w-4 text-blue-500"});default:return(0,a.jsx)(c.Z,{className:"h-4 w-4 text-gray-500"})}},K=e=>{if(0===e)return"0 bps";let s=Math.floor(Math.log(e)/Math.log(1e3));return`${(e/Math.pow(1e3,s)).toFixed(2)} ${["bps","Kbps","Mbps","Gbps"][s]}`},Q=e=>{let s=Math.floor(e/86400),t=Math.floor(e%86400/3600),a=Math.floor(e%3600/60);return s>0?`${s}d ${t}h`:t>0?`${t}h ${a}m`:`${a}m`},Y=async s=>{q(!0);try{let t=`
        mutation AcknowledgeAlert($alertId: ID!) {
          acknowledgeAlert(alertId: $alertId) {
            id
            acknowledged
            acknowledgedAt
            acknowledgedBy
          }
        }
      `,a=await fetch("/api/v1/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t,variables:{alertId:s}})});if(!a.ok)throw Error(`Failed to acknowledge alert: ${a.statusText}`);let r=await a.json();if(r.errors)throw Error(r.errors[0]?.message||"GraphQL error");f.k.info("Alert acknowledged",{alertId:s}),e({title:"Success",description:"Alert acknowledged successfully"}),await G()}catch(s){f.k.error("Error acknowledging alert",s),e({title:"Error",description:s instanceof Error?s.message:"Failed to acknowledge alert. Please try again.",variant:"destructive"})}finally{q(!1)}};return(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Network Monitoring"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Monitor device health, traffic, and network alerts in real-time"})]}),(0,a.jsx)(l.Button,{onClick:()=>{E(),B(),G()},variant:"outline",disabled:V,children:V?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Refreshing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Refresh"]})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Total Devices"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:V?"...":L?.totalDevices||0}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{className:"text-green-600",children:[L?.onlineDevices||0," online"]})," • ",(0,a.jsxs)("span",{className:"text-red-600",children:[L?.offlineDevices||0," offline"]}),null]})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Active Alerts"}),(0,a.jsx)(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:V?"...":L?.activeAlerts||0}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{className:"text-red-600",children:[L?.criticalAlerts||0," critical"]})," • ",(0,a.jsxs)("span",{className:"text-yellow-600",children:[0," warning"]})]})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Bandwidth In"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:V?"...":K(L?.totalBandwidthGbps||0)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Current incoming traffic"})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Bandwidth Out"}),(0,a.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:V?"...":K(L?.totalBandwidthGbps||0)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Current outgoing traffic"})]})]})]}),(0,a.jsxs)(l.Tabs,{defaultValue:"devices",className:"space-y-4",children:[(0,a.jsxs)(l.TabsList,{children:[(0,a.jsx)(l.TabsTrigger,{value:"devices",children:"Devices"}),(0,a.jsxs)(l.TabsTrigger,{value:"alerts",children:["Alerts",L&&L.activeAlerts>0&&(0,a.jsx)(l.Badge,{variant:"destructive",className:"ml-2",children:L.activeAlerts})]}),(0,a.jsx)(l.TabsTrigger,{value:"overview",children:"Overview"})]}),(0,a.jsx)(l.TabsContent,{value:"devices",className:"space-y-4",children:(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsx)(l.CardTitle,{children:"Network Devices"}),(0,a.jsx)(l.CardDescription,{children:"Monitor device health and performance"})]}),(0,a.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(l.Input,{placeholder:"Search devices...",value:s,onChange:e=>t(e.target.value),className:"pl-8"})]})}),(0,a.jsxs)(l.Select,{value:N||"all",onValueChange:e=>w(e),children:[(0,a.jsx)(l.SelectTrigger,{className:"w-[180px]",children:(0,a.jsx)(l.SelectValue,{placeholder:"Status"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"all",children:"All Status"}),(0,a.jsx)(l.SelectItem,{value:"online",children:"Online"}),(0,a.jsx)(l.SelectItem,{value:"offline",children:"Offline"}),(0,a.jsx)(l.SelectItem,{value:"degraded",children:"Degraded"})]})]}),(0,a.jsxs)(l.Select,{value:b||"all",onValueChange:e=>C(e),children:[(0,a.jsx)(l.SelectTrigger,{className:"w-[180px]",children:(0,a.jsx)(l.SelectValue,{placeholder:"Type"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"all",children:"All Types"}),(0,a.jsx)(l.SelectItem,{value:"olt",children:"OLT"}),(0,a.jsx)(l.SelectItem,{value:"onu",children:"ONU"}),(0,a.jsx)(l.SelectItem,{value:"cpe",children:"CPE"}),(0,a.jsx)(l.SelectItem,{value:"router",children:"Router"}),(0,a.jsx)(l.SelectItem,{value:"switch",children:"Switch"}),(0,a.jsx)(l.SelectItem,{value:"firewall",children:"Firewall"})]})]})]}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Status"}),(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Name"}),(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Type"}),(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"IP Address"}),(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Location"}),(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"CPU"}),(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Memory"}),(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Uptime"}),(0,a.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:V?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:9,className:"h-24 text-center",children:"Loading devices..."})}):0===X.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:9,className:"h-24 text-center",children:"No devices found"})}):X.map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`h-2 w-2 rounded-full ${R(e.status)}`}),(0,a.jsx)(l.Badge,{variant:W(e.status),children:e.status})]})}),(0,a.jsx)("td",{className:"p-4 font-medium",children:e.device_name}),(0,a.jsx)("td",{className:"p-4 uppercase text-xs",children:e.device_type}),(0,a.jsx)("td",{className:"p-4 font-mono text-xs",children:e.ip_address||"-"}),(0,a.jsx)("td",{className:"p-4",children:e.location||"-"}),(0,a.jsx)("td",{className:"p-4",children:void 0!==e.cpuUsagePercent&&null!==e.cpuUsagePercent?(0,a.jsxs)("span",{className:e.cpuUsagePercent>80?"text-red-600":"",children:[e.cpuUsagePercent.toFixed(1),"%"]}):"-"}),(0,a.jsx)("td",{className:"p-4",children:void 0!==e.memoryUsagePercent&&null!==e.memoryUsagePercent?(0,a.jsxs)("span",{className:e.memoryUsagePercent>80?"text-red-600":"",children:[e.memoryUsagePercent.toFixed(1),"%"]}):"-"}),(0,a.jsx)("td",{className:"p-4",children:e.uptimeSeconds?Q(e.uptimeSeconds):"-"}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>{P(e.deviceId),k(!0)},children:"Details"})})]},e.deviceId))})]})})]})]})}),(0,a.jsx)(l.TabsContent,{value:"alerts",className:"space-y-4",children:(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsx)(l.CardTitle,{children:"Network Alerts"}),(0,a.jsx)(l.CardDescription,{children:"Active and recent network alerts"})]}),(0,a.jsxs)(l.CardContent,{children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsxs)(l.Select,{value:D||"all",onValueChange:e=>I("all"===e?void 0:e),children:[(0,a.jsx)(l.SelectTrigger,{className:"w-[180px]",children:(0,a.jsx)(l.SelectValue,{placeholder:"Severity"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"all",children:"All Severities"}),(0,a.jsx)(l.SelectItem,{value:i.XAI.Critical,children:"Critical"}),(0,a.jsx)(l.SelectItem,{value:i.XAI.Warning,children:"Warning"}),(0,a.jsx)(l.SelectItem,{value:i.XAI.Info,children:"Info"})]})]}),(0,a.jsxs)(l.Select,{value:T,onValueChange:e=>_(e),children:[(0,a.jsx)(l.SelectTrigger,{className:"w-[180px]",children:(0,a.jsx)(l.SelectValue,{})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"time",children:"Sort by Time"}),(0,a.jsx)(l.SelectItem,{value:"severity",children:"Sort by Severity"})]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:V?(0,a.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"Loading alerts..."}):0===H.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.Z,{className:"h-12 w-12 text-green-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"No active alerts"})]}):H.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"mt-1",children:J(e.severity)}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.title}),(0,a.jsx)(l.Badge,{variant:e.severity===i.XAI.Critical?"destructive":"default",children:e.severity}),e.deviceName&&(0,a.jsx)(l.Badge,{variant:"outline",children:e.deviceName})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),e.metricName&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.metricName,": ",e.currentValue?.toFixed(2)," (threshold:"," ",e.thresholdValue,")"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)(j.Z,{className:"h-3 w-3"}),new Date(e.triggeredAt).toLocaleString()]})]}),!e.isAcknowledged&&e.isActive&&(0,a.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>Y(e.alertId),disabled:U,children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):"Acknowledge"}),e.isAcknowledged&&(0,a.jsx)(l.Badge,{variant:"secondary",children:"Acknowledged"})]},e.alertId))})]})]})}),(0,a.jsx)(l.TabsContent,{value:"overview",className:"space-y-4",children:(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsx)(l.CardTitle,{children:"Network Overview"}),(0,a.jsx)(l.CardDescription,{children:"Summary by device type"})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L?.deviceTypeSummary?.map(e=>a.jsxs(l.Card,{children:[a.jsx(l.CardHeader,{className:"pb-3",children:a.jsx(l.CardTitle,{className:"text-sm uppercase",children:e.device_type})}),a.jsxs(l.CardContent,{className:"space-y-2",children:[a.jsx("div",{className:"text-2xl font-bold",children:e.total_count}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Online:"}),a.jsx("span",{className:"text-green-600 font-medium",children:e.online_count})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Offline:"}),a.jsx("span",{className:"text-red-600 font-medium",children:e.offline_count})]}),e.degraded_count>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Degraded:"}),a.jsx("span",{className:"text-yellow-600 font-medium",children:e.degraded_count})]})]}),void 0!==e.avg_cpu_usage&&a.jsxs("div",{className:"pt-2 border-t",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Avg CPU:"}),a.jsxs("span",{children:[e.avg_cpu_usage.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Avg Memory:"}),a.jsxs("span",{children:[e.avg_memory_usage?.toFixed(1),"%"]})]})]})]})]},e.device_type))})})]})})]}),z&&(0,a.jsx)(l.Dialog,{open:A,onOpenChange:k,children:(0,a.jsxs)(l.DialogContent,{className:"max-w-2xl",children:[(0,a.jsxs)(l.DialogHeader,{children:[(0,a.jsx)(l.DialogTitle,{children:"Device Details"}),(0,a.jsxs)(l.DialogDescription,{children:[z.device_name," • ",z.ip_address]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,a.jsx)("div",{className:`h-2 w-2 rounded-full ${R(z.status)}`}),(0,a.jsx)(l.Badge,{variant:W(z.status),children:z.status})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"text-sm font-medium text-muted-foreground",children:"Device Type"}),(0,a.jsx)("div",{className:"mt-1 uppercase text-sm",children:z.device_type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"text-sm font-medium text-muted-foreground",children:"IP Address"}),(0,a.jsx)("div",{className:"mt-1 font-mono text-sm",children:z.ip_address||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"text-sm font-medium text-muted-foreground",children:"Location"}),(0,a.jsx)("div",{className:"mt-1 text-sm",children:z.location||"N/A"})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),"Performance Metrics"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"text-sm font-medium text-muted-foreground",children:"CPU Usage"}),(0,a.jsx)("div",{className:"mt-1",children:void 0!==z.cpuUsagePercent&&null!==z.cpuUsagePercent?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[z.cpuUsagePercent.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"w-full bg-secondary rounded-full h-2 mt-2",children:(0,a.jsx)("div",{className:`h-2 rounded-full ${z.cpuUsagePercent>80?"bg-red-500":z.cpuUsagePercent>60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${z.cpuUsagePercent}%`}})})]}):(0,a.jsx)("div",{className:"text-muted-foreground",children:"N/A"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"text-sm font-medium text-muted-foreground",children:"Memory Usage"}),(0,a.jsx)("div",{className:"mt-1",children:void 0!==z.memoryUsagePercent&&null!==z.memoryUsagePercent?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[z.memoryUsagePercent.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"w-full bg-secondary rounded-full h-2 mt-2",children:(0,a.jsx)("div",{className:`h-2 rounded-full ${z.memoryUsagePercent>80?"bg-red-500":z.memoryUsagePercent>60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${z.memoryUsagePercent}%`}})})]}):(0,a.jsx)("div",{className:"text-muted-foreground",children:"N/A"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"text-sm font-medium text-muted-foreground",children:"Uptime"}),(0,a.jsx)("div",{className:"mt-1 text-lg font-semibold",children:z.uptimeSeconds?Q(z.uptimeSeconds):"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"text-sm font-medium text-muted-foreground",children:"Last Seen"}),(0,a.jsx)("div",{className:"mt-1 text-sm",children:z.lastSeen?new Date(z.lastSeen).toLocaleString():"N/A"})]})]})]})]}),(0,a.jsx)(l.DialogFooter,{children:(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>k(!1),children:"Close"})})]})})]})}function y({children:e,className:s=""}){return(0,a.jsx)("div",{className:`text-sm font-medium ${s}`,children:e})}},45657:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,dynamic:()=>r});var a=t(68570);let r=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network-monitoring/page.tsx#dynamic`),l=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network-monitoring/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[2793,1009,6226,657,6011,6032,4218,9228],()=>t(49089));module.exports=a})();