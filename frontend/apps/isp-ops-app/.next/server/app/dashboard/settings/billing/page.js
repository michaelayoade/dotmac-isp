(()=>{var e={};e.id=6298,e.ids=[6298],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},15735:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>l}),s(43412),s(13321),s(46366),s(96560);var n=s(23191),r=s(88716),i=s(37922),o=s.n(i),a=s(95231),d={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);s.d(t,d);let l=["",{children:["dashboard",{children:["settings",{children:["billing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,43412)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/settings/billing/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],c=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/settings/billing/page.tsx"],m="/dashboard/settings/billing/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/settings/billing/page",pathname:"/dashboard/settings/billing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},23528:(e,t,s)=>{Promise.resolve().then(s.bind(s,30021))},30021:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var n=s(10326),r=s(17577),i=s(59734),o=s(36283),a=s(28916),d=s(72257),l=s(6507),c=s(13027),m=s(77636),u=s(54014),x=s(42887),g=s(5932),p=s(89392),f=s(31215),b=s(49423),h=s(37358),_=s(85571),y=s(71821),v=s(48998),j=s(25276),N=s(21405),k=s(70600),w=s(30361),C=s(41291),S=s(54689),Z=s(59341),P=s(48723),A=s(29771);let D=e=>e instanceof Error?e:Error("string"==typeof e?e:String(e)),q={company_info:{name:"",legal_name:"",tax_id:"",registration_number:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"US",phone:"",email:"",website:"",logo_url:"",brand_color:"#0EA5E9"},tax_settings:{calculate_tax:!0,tax_inclusive_pricing:!1,tax_registrations:[],default_tax_rate:0,tax_provider:""},payment_settings:{enabled_payment_methods:["card","bank_account"],default_currency:"USD",supported_currencies:["USD"],default_payment_terms:30,late_payment_fee:0,retry_failed_payments:!0,max_retry_attempts:3,retry_interval_hours:24},invoice_settings:{invoice_number_prefix:"INV",invoice_number_format:"{prefix}-{year}-{sequence:06d}",default_due_days:30,include_payment_instructions:!0,payment_instructions:"",footer_text:"",terms_and_conditions:"",send_invoice_emails:!0,send_payment_reminders:!0,reminder_schedule_days:[7,3,1],logo_on_invoices:!0,color_scheme:"#0EA5E9"},notification_settings:{send_invoice_notifications:!0,send_payment_confirmations:!0,send_overdue_notices:!0,send_receipt_emails:!0,webhook_url:"",webhook_events:[],webhook_secret:""},features_enabled:{invoicing:!0,payments:!0,credit_notes:!0,receipts:!0,tax_calculation:!0,webhooks:!0,reporting:!0}},E=[{id:"company",label:"Company",icon:i.Z},{id:"invoice",label:"Invoice & Numbering",icon:o.Z},{id:"payment",label:"Payment",icon:a.Z},{id:"tax",label:"Tax",icon:d.Z},{id:"notifications",label:"Notifications",icon:l.Z},{id:"features",label:"Features",icon:c.Z}];function I(){let[e,t]=(0,r.useState)("company"),[s,o]=(0,r.useState)(q),[a,d]=(0,r.useState)(!1),[l,I]=(0,r.useState)(!1),[R,U]=(0,r.useState)(null),T=(0,P.useConfirmDialog)(),F=async e=>{I(!0),U(null);try{let t=e?s[`${e}_settings`]||s[e]:s,n=await Z.x1.put("/billing/settings",t);n.data&&o(n.data),U({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>U(null),3e3)}catch(e){A.k.error("Error saving billing settings",D(e)),U({type:"error",text:"Failed to save settings"})}finally{I(!1)}},L=async()=>{if(await T({title:"Reset billing settings",description:"Are you sure you want to reset all settings to defaults?",confirmText:"Reset",variant:"destructive"})){I(!0);try{let e=await Z.x1.post("/billing/settings/reset");e.data&&o(e.data),U({type:"success",text:"Settings reset to defaults!"}),setTimeout(()=>U(null),3e3)}catch(e){A.k.error("Error resetting billing settings",D(e)),U({type:"error",text:"Failed to reset settings"})}finally{I(!1)}}};return(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Billing Settings"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-1",children:"Configure billing, invoicing, and payment settings for your organization"})]}),R&&(0,n.jsxs)("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-2 ${"success"===R.type?"bg-green-100 dark:bg-green-950/20 border border-green-500/20 text-green-600 dark:text-green-400":"bg-rose-100 dark:bg-rose-950/20 border border-rose-500/20 text-rose-600 dark:text-rose-400"}`,children:["success"===R.type?(0,n.jsx)(w.Z,{className:"h-4 w-4 flex-shrink-0"}):(0,n.jsx)(C.Z,{className:"h-4 w-4 flex-shrink-0"}),(0,n.jsx)("span",{className:"text-sm",children:R.text})]}),(0,n.jsx)("div",{className:"mb-6 border-b border-border",children:(0,n.jsx)("nav",{className:"flex space-x-8",children:E.map(s=>(0,n.jsxs)("button",{onClick:()=>t(s.id),className:`flex items-center gap-2 py-3 px-1 border-b-2 transition-colors text-sm font-medium ${e===s.id?"border-sky-500 text-sky-600 dark:text-sky-400":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:[(0,n.jsx)(s.icon,{className:"h-4 w-4"}),s.label]},s.id))})}),(0,n.jsx)("div",{className:"bg-card/50 border border-border rounded-lg p-6",children:a?(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsx)("div",{className:"text-muted-foreground",children:"Loading settings..."})}):(()=>{switch(e){case"company":return(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Company Information"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(i.Z,{className:"inline h-4 w-4 mr-1"}),"Company Name *"]}),(0,n.jsx)("input",{type:"text",value:s.company_info.name||"",onChange:e=>o({...s,company_info:{...s.company_info,name:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Acme Corporation"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Legal Name"}),(0,n.jsx)("input",{type:"text",value:s.company_info.legal_name||"",onChange:e=>o({...s,company_info:{...s.company_info,legal_name:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Acme Corporation Ltd."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Tax ID"}),(0,n.jsx)("input",{type:"text",value:s.company_info.tax_id||"",onChange:e=>o({...s,company_info:{...s.company_info,tax_id:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"12-3456789"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Registration Number"}),(0,n.jsx)("input",{type:"text",value:s.company_info.registration_number||"",onChange:e=>o({...s,company_info:{...s.company_info,registration_number:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"C123456"})]})]}),(0,n.jsx)("h4",{className:"text-md font-medium text-foreground mt-6 mb-3",children:"Address"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(m.Z,{className:"inline h-4 w-4 mr-1"}),"Street Address *"]}),(0,n.jsx)("input",{type:"text",value:s.company_info.address_line1||"",onChange:e=>o({...s,company_info:{...s.company_info,address_line1:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"123 Business Street"}),(0,n.jsx)("input",{type:"text",value:s.company_info.address_line2||"",onChange:e=>o({...s,company_info:{...s.company_info,address_line2:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500 mt-2",placeholder:"Suite 100 (optional)"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"City *"}),(0,n.jsx)("input",{type:"text",value:s.company_info.city||"",onChange:e=>o({...s,company_info:{...s.company_info,city:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"San Francisco"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"State/Province"}),(0,n.jsx)("input",{type:"text",value:s.company_info.state||"",onChange:e=>o({...s,company_info:{...s.company_info,state:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"CA"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Postal Code *"}),(0,n.jsx)("input",{type:"text",value:s.company_info.postal_code||"",onChange:e=>o({...s,company_info:{...s.company_info,postal_code:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"94105"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(u.Z,{className:"inline h-4 w-4 mr-1"}),"Country *"]}),(0,n.jsxs)("select",{value:s.company_info.country||"",onChange:e=>o({...s,company_info:{...s.company_info,country:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",children:[(0,n.jsx)("option",{value:"US",children:"United States"}),(0,n.jsx)("option",{value:"CA",children:"Canada"}),(0,n.jsx)("option",{value:"GB",children:"United Kingdom"}),(0,n.jsx)("option",{value:"AU",children:"Australia"}),(0,n.jsx)("option",{value:"DE",children:"Germany"}),(0,n.jsx)("option",{value:"FR",children:"France"})]})]})]}),(0,n.jsx)("h4",{className:"text-md font-medium text-foreground mt-6 mb-3",children:"Contact & Branding"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(x.Z,{className:"inline h-4 w-4 mr-1"}),"Phone"]}),(0,n.jsx)("input",{type:"tel",value:s.company_info.phone||"",onChange:e=>o({...s,company_info:{...s.company_info,phone:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"+1 (555) 123-4567"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(g.Z,{className:"inline h-4 w-4 mr-1"}),"Email"]}),(0,n.jsx)("input",{type:"email",value:s.company_info.email||"",onChange:e=>o({...s,company_info:{...s.company_info,email:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"billing@company.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(u.Z,{className:"inline h-4 w-4 mr-1"}),"Website"]}),(0,n.jsx)("input",{type:"url",value:s.company_info.website||"",onChange:e=>o({...s,company_info:{...s.company_info,website:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"https://company.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(p.Z,{className:"inline h-4 w-4 mr-1"}),"Brand Color"]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"color",value:s.company_info.brand_color||"",onChange:e=>o({...s,company_info:{...s.company_info,brand_color:e.target.value}}),className:"h-10 w-20 bg-accent border border-border rounded cursor-pointer"}),(0,n.jsx)("input",{type:"text",value:s.company_info.brand_color||"",onChange:e=>o({...s,company_info:{...s.company_info,brand_color:e.target.value}}),className:"flex-1 px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"#0EA5E9"})]})]})]}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsxs)("button",{onClick:()=>F("company"),disabled:l,className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 disabled:bg-muted text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4"}),l?"Saving...":"Save Company Info"]})})]})});case"invoice":return(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Invoice & Numbering Settings"}),(0,n.jsxs)("div",{className:"bg-muted/50 border border-border rounded-lg p-4 mb-6",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-foreground mb-3",children:"Invoice Numbering System"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(b.Z,{className:"inline h-4 w-4 mr-1"}),"Invoice Number Prefix"]}),(0,n.jsx)("input",{type:"text",value:s.invoice_settings.invoice_number_prefix||"",onChange:e=>o({...s,invoice_settings:{...s.invoice_settings,invoice_number_prefix:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"INV",maxLength:10})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Number Format Template"}),(0,n.jsxs)("select",{value:s.invoice_settings.invoice_number_format||"",onChange:e=>o({...s,invoice_settings:{...s.invoice_settings,invoice_number_format:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",children:[(0,n.jsxs)("option",{value:"{prefix}-{year}-{sequence:06d}",children:[s.invoice_settings.invoice_number_prefix,"-2024-000001"]}),(0,n.jsxs)("option",{value:"{prefix}/{year}/{sequence:04d}",children:[s.invoice_settings.invoice_number_prefix,"/2024/0001"]}),(0,n.jsxs)("option",{value:"{prefix}-{sequence:08d}",children:[s.invoice_settings.invoice_number_prefix,"-00000001"]}),(0,n.jsx)("option",{value:"{year}{month:02d}-{sequence:04d}",children:"202401-0001"}),(0,n.jsxs)("option",{value:"{prefix}_{year}_{month:02d}_{sequence:04d}",children:[s.invoice_settings.invoice_number_prefix,"_2024_01_0001"]})]})]})]}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Preview: Your next invoice number will be formatted like the selected template"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(h.Z,{className:"inline h-4 w-4 mr-1"}),"Default Due Days"]}),(0,n.jsx)("input",{type:"number",value:s.invoice_settings.default_due_days||"",onChange:e=>o({...s,invoice_settings:{...s.invoice_settings,default_due_days:parseInt(e.target.value)}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",min:"0",max:"365"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(p.Z,{className:"inline h-4 w-4 mr-1"}),"Invoice Color Scheme"]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"color",value:s.invoice_settings.color_scheme||"",onChange:e=>o({...s,invoice_settings:{...s.invoice_settings,color_scheme:e.target.value}}),className:"h-10 w-20 bg-accent border border-border rounded cursor-pointer"}),(0,n.jsx)("input",{type:"text",value:s.invoice_settings.color_scheme||"",onChange:e=>o({...s,invoice_settings:{...s.invoice_settings,color_scheme:e.target.value}}),className:"flex-1 px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 border border-border rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Include Payment Instructions"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Show payment instructions on invoices"})]}),(0,n.jsx)("button",{onClick:()=>o({...s,invoice_settings:{...s.invoice_settings,include_payment_instructions:!s.invoice_settings.include_payment_instructions}}),className:"text-muted-foreground hover:text-foreground",children:s.invoice_settings.include_payment_instructions?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]}),s.invoice_settings.include_payment_instructions&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Payment Instructions"}),(0,n.jsx)("textarea",{value:s.invoice_settings.payment_instructions||"",onChange:e=>o({...s,invoice_settings:{...s.invoice_settings,payment_instructions:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",rows:3,maxLength:500,placeholder:"Please pay within the specified due date. Bank details are provided below..."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Footer Text"}),(0,n.jsx)("textarea",{value:s.invoice_settings.footer_text||"",onChange:e=>o({...s,invoice_settings:{...s.invoice_settings,footer_text:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",rows:2,maxLength:500,placeholder:"Thank you for your business!"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Terms and Conditions"}),(0,n.jsx)("textarea",{value:s.invoice_settings.terms_and_conditions||"",onChange:e=>o({...s,invoice_settings:{...s.invoice_settings,terms_and_conditions:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",rows:4,maxLength:2e3,placeholder:"Standard terms and conditions apply..."})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 border border-border rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Logo on Invoices"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Display company logo on PDF invoices"})]}),(0,n.jsx)("button",{onClick:()=>o({...s,invoice_settings:{...s.invoice_settings,logo_on_invoices:!s.invoice_settings.logo_on_invoices}}),className:"text-muted-foreground hover:text-foreground",children:s.invoice_settings.logo_on_invoices?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]})]}),(0,n.jsx)("h4",{className:"text-md font-medium text-foreground mt-6 mb-3",children:"Email Settings"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 border border-border rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Send Invoice Emails"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Automatically email invoices to customers"})]}),(0,n.jsx)("button",{onClick:()=>o({...s,invoice_settings:{...s.invoice_settings,send_invoice_emails:!s.invoice_settings.send_invoice_emails}}),className:"text-muted-foreground hover:text-foreground",children:s.invoice_settings.send_invoice_emails?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 border border-border rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Send Payment Reminders"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Send reminder emails for unpaid invoices"})]}),(0,n.jsx)("button",{onClick:()=>o({...s,invoice_settings:{...s.invoice_settings,send_payment_reminders:!s.invoice_settings.send_payment_reminders}}),className:"text-muted-foreground hover:text-foreground",children:s.invoice_settings.send_payment_reminders?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]}),s.invoice_settings.send_payment_reminders&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Reminder Schedule (days before due date)"}),(0,n.jsx)("div",{className:"flex gap-2",children:s.invoice_settings.reminder_schedule_days.map((e,t)=>(0,n.jsx)("input",{type:"number",value:e,onChange:e=>{let n=[...s.invoice_settings.reminder_schedule_days];n[t]=parseInt(e.target.value),o({...s,invoice_settings:{...s.invoice_settings,reminder_schedule_days:n}})},className:"w-20 px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",min:"1",max:"30"},t))}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Reminders will be sent 7, 3, and 1 day(s) before due date"})]})]}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsxs)("button",{onClick:()=>F("invoice"),disabled:l,className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 disabled:bg-muted text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4"}),l?"Saving...":"Save Invoice Settings"]})})]})});case"payment":return(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Payment Settings"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Enabled Payment Methods"}),(0,n.jsx)("div",{className:"space-y-2",children:["card","bank_account","digital_wallet","check","wire_transfer"].map(e=>(0,n.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-muted/50 border border-border rounded-lg cursor-pointer hover:bg-muted",children:[(0,n.jsx)("input",{type:"checkbox",checked:s.payment_settings.enabled_payment_methods.includes(e),onChange:t=>{let n=t.target.checked?[...s.payment_settings.enabled_payment_methods,e]:s.payment_settings.enabled_payment_methods.filter(t=>t!==e);o({...s,payment_settings:{...s.payment_settings,enabled_payment_methods:n}})},className:"h-4 w-4 rounded border-border bg-accent text-sky-500"}),(0,n.jsx)("span",{className:"text-sm text-foreground capitalize",children:e.replace("_"," ")})]},e))})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(y.Z,{className:"inline h-4 w-4 mr-1"}),"Default Currency"]}),(0,n.jsxs)("select",{value:s.payment_settings.default_currency||"",onChange:e=>o({...s,payment_settings:{...s.payment_settings,default_currency:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",children:[(0,n.jsx)("option",{value:"USD",children:"USD - US Dollar"}),(0,n.jsx)("option",{value:"EUR",children:"EUR - Euro"}),(0,n.jsx)("option",{value:"GBP",children:"GBP - British Pound"}),(0,n.jsx)("option",{value:"CAD",children:"CAD - Canadian Dollar"}),(0,n.jsx)("option",{value:"AUD",children:"AUD - Australian Dollar"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(v.Z,{className:"inline h-4 w-4 mr-1"}),"Default Payment Terms (days)"]}),(0,n.jsx)("input",{type:"number",value:s.payment_settings.default_payment_terms||"",onChange:e=>o({...s,payment_settings:{...s.payment_settings,default_payment_terms:parseInt(e.target.value)}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",min:"0",max:"365"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(j.Z,{className:"inline h-4 w-4 mr-1"}),"Late Payment Fee (%)"]}),(0,n.jsx)("input",{type:"number",value:s.payment_settings.late_payment_fee||"",onChange:e=>o({...s,payment_settings:{...s.payment_settings,late_payment_fee:parseFloat(e.target.value)}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",min:"0",max:"100",step:"0.1"})]})]}),(0,n.jsxs)("div",{className:"bg-muted/50 border border-border rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-foreground mb-3",children:"Failed Payment Retry Settings"}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Retry Failed Payments"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Automatically retry failed payment attempts"})]}),(0,n.jsx)("button",{onClick:()=>o({...s,payment_settings:{...s.payment_settings,retry_failed_payments:!s.payment_settings.retry_failed_payments}}),className:"text-muted-foreground hover:text-foreground",children:s.payment_settings.retry_failed_payments?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]}),s.payment_settings.retry_failed_payments&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(N.Z,{className:"inline h-4 w-4 mr-1"}),"Max Retry Attempts"]}),(0,n.jsx)("input",{type:"number",value:s.payment_settings.max_retry_attempts||"",onChange:e=>o({...s,payment_settings:{...s.payment_settings,max_retry_attempts:parseInt(e.target.value)}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",min:"1",max:"10"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Retry Interval (hours)"}),(0,n.jsx)("input",{type:"number",value:s.payment_settings.retry_interval_hours||"",onChange:e=>o({...s,payment_settings:{...s.payment_settings,retry_interval_hours:parseInt(e.target.value)}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",min:"1",max:"168"})]})]})]})]}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsxs)("button",{onClick:()=>F("payment"),disabled:l,className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 disabled:bg-muted text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4"}),l?"Saving...":"Save Payment Settings"]})})]})});case"tax":return(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Tax Settings"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 border border-border rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Calculate Tax Automatically"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Enable automatic tax calculation on invoices"})]}),(0,n.jsx)("button",{onClick:()=>o({...s,tax_settings:{...s.tax_settings,calculate_tax:!s.tax_settings.calculate_tax}}),className:"text-muted-foreground hover:text-foreground",children:s.tax_settings.calculate_tax?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 border border-border rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Tax-Inclusive Pricing"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Prices already include tax"})]}),(0,n.jsx)("button",{onClick:()=>o({...s,tax_settings:{...s.tax_settings,tax_inclusive_pricing:!s.tax_settings.tax_inclusive_pricing}}),className:"text-muted-foreground hover:text-foreground",children:s.tax_settings.tax_inclusive_pricing?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(j.Z,{className:"inline h-4 w-4 mr-1"}),"Default Tax Rate (%)"]}),(0,n.jsx)("input",{type:"number",value:s.tax_settings.default_tax_rate||"",onChange:e=>o({...s,tax_settings:{...s.tax_settings,default_tax_rate:parseFloat(e.target.value)}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",min:"0",max:"100",step:"0.01"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground",children:"Tax Registrations"}),(0,n.jsx)("button",{onClick:()=>{o({...s,tax_settings:{...s.tax_settings,tax_registrations:[...s.tax_settings.tax_registrations,{jurisdiction:"",registration_number:""}]}})},className:"px-3 py-1 text-xs bg-muted hover:bg-accent text-foreground rounded-lg",children:"Add Registration"})]}),(0,n.jsx)("div",{className:"space-y-2",children:s.tax_settings.tax_registrations.map((e,t)=>(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:e.jurisdiction||"",onChange:e=>{let n=[...s.tax_settings.tax_registrations],r=n[t];r&&(n[t]={...r,jurisdiction:e.target.value},o({...s,tax_settings:{...s.tax_settings,tax_registrations:n}}))},className:"flex-1 px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Jurisdiction (e.g., US-CA)"}),(0,n.jsx)("input",{type:"text",value:e.registration_number||"",onChange:e=>{let n=[...s.tax_settings.tax_registrations],r=n[t];r&&(n[t]={...r,registration_number:e.target.value},o({...s,tax_settings:{...s.tax_settings,tax_registrations:n}}))},className:"flex-1 px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Registration Number"}),(0,n.jsx)("button",{onClick:()=>{let e=s.tax_settings.tax_registrations.filter((e,s)=>s!==t);o({...s,tax_settings:{...s.tax_settings,tax_registrations:e}})},className:"px-3 py-2 text-rose-600 dark:text-rose-400 hover:text-rose-700 dark:hover:text-rose-300",children:"Remove"})]},t))})]})]}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsxs)("button",{onClick:()=>F("tax"),disabled:l,className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 disabled:bg-muted text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4"}),l?"Saving...":"Save Tax Settings"]})})]})});case"notifications":return(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Notification Settings"}),(0,n.jsx)("h4",{className:"text-md font-medium text-foreground mb-3",children:"Email Notifications"}),(0,n.jsx)("div",{className:"space-y-4",children:[{key:"send_invoice_notifications",label:"Invoice Notifications",desc:"Send emails when invoices are created"},{key:"send_payment_confirmations",label:"Payment Confirmations",desc:"Send emails when payments are received"},{key:"send_overdue_notices",label:"Overdue Notices",desc:"Send emails for overdue invoices"},{key:"send_receipt_emails",label:"Receipt Emails",desc:"Send receipts after successful payments"}].map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 border border-border rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:e.label}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:e.desc})]}),(0,n.jsx)("button",{onClick:()=>o({...s,notification_settings:{...s.notification_settings,[e.key]:!s.notification_settings[e.key]}}),className:"text-muted-foreground hover:text-foreground",children:s.notification_settings[e.key]?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]},e.key))}),(0,n.jsx)("h4",{className:"text-md font-medium text-foreground mt-6 mb-3",children:"Webhook Settings"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:[(0,n.jsx)(k.Z,{className:"inline h-4 w-4 mr-1"}),"Webhook URL"]}),(0,n.jsx)("input",{type:"url",value:s.notification_settings.webhook_url||"",onChange:e=>o({...s,notification_settings:{...s.notification_settings,webhook_url:e.target.value}}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"https://your-api.com/webhooks/billing"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Webhook Events"}),(0,n.jsx)("div",{className:"space-y-2",children:["invoice.created","invoice.paid","payment.succeeded","payment.failed","subscription.updated"].map(e=>(0,n.jsxs)("label",{className:"flex items-center gap-3",children:[(0,n.jsx)("input",{type:"checkbox",checked:s.notification_settings.webhook_events.includes(e),onChange:t=>{let n=t.target.checked?[...s.notification_settings.webhook_events,e]:s.notification_settings.webhook_events.filter(t=>t!==e);o({...s,notification_settings:{...s.notification_settings,webhook_events:n}})},className:"h-4 w-4 rounded border-border bg-accent text-sky-500"}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:e})]},e))})]})]}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsxs)("button",{onClick:()=>F("notifications"),disabled:l,className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 disabled:bg-muted text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4"}),l?"Saving...":"Save Notification Settings"]})})]})});case"features":return(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Feature Toggles"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground mb-6",children:"Enable or disable specific billing features for your organization"}),(0,n.jsx)("div",{className:"space-y-4",children:Object.entries(s.features_enabled).map(([e,t])=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 border border-border rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground capitalize",children:e.replace("_"," ")}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:["invoicing"===e&&"Create and manage invoices","payments"===e&&"Accept and process payments","credit_notes"===e&&"Issue credit notes and refunds","receipts"===e&&"Generate payment receipts","tax_calculation"===e&&"Automatic tax calculation","webhooks"===e&&"Send webhook notifications","reporting"===e&&"Advanced reporting and analytics"]})]}),(0,n.jsx)("button",{onClick:()=>o({...s,features_enabled:{...s.features_enabled,[e]:!t}}),className:"text-muted-foreground hover:text-foreground",children:t?(0,n.jsx)(c.Z,{className:"h-6 w-6 text-sky-600 dark:text-sky-400"}):(0,n.jsx)(_.Z,{className:"h-6 w-6"})})]},e))}),(0,n.jsx)("div",{className:"mt-6 flex gap-3",children:(0,n.jsxs)("button",{onClick:()=>F("features"),disabled:l,className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 disabled:bg-muted text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4"}),l?"Saving...":"Save Feature Settings"]})})]})});default:return null}})()}),(0,n.jsx)("div",{className:"mt-6 flex justify-end gap-3",children:(0,n.jsxs)("button",{onClick:L,disabled:l,className:"px-4 py-2 border border-border text-muted-foreground hover:bg-accent rounded-lg transition-colors flex items-center gap-2",children:[(0,n.jsx)(S.Z,{className:"h-4 w-4"}),"Reset to Defaults"]})})]})})}},43412:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(68570).createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/settings/billing/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[2793,1009,6226,657,6032,4218],()=>s(15735));module.exports=n})();