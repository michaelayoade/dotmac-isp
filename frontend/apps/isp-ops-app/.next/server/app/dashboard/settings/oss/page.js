(()=>{var e={};e.id=3722,e.ids=[3722],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59662:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(71598),t(13321),t(46366),t(96560);var a=t(23191),r=t(88716),i=t(37922),n=t.n(i),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["dashboard",{children:["settings",{children:["oss",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,71598)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/settings/oss/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],c=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/settings/oss/page.tsx"],u="/dashboard/settings/oss/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/settings/oss/page",pathname:"/dashboard/settings/oss",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2324:(e,s,t)=>{Promise.resolve().then(t.bind(t,57365))},57365:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>H,dynamic:()=>Z,dynamicParams:()=>L});var a=t(10326),r=t(17577),i=t(48723),n=t(51110),l=t(27379),o=t(88319),d=t(86359),c=t(88378),u=t(48324),m=t(44976),x=t(17010);let h=t(36607).LM.api.baseUrl,p="/api/isp/v1/admin",g={voltha:{name:"VOLTHA",description:"Virtual OLT Hardware Abstraction - PON/ONT management",icon:"Network"},genieacs:{name:"GenieACS",description:"TR-069 Auto Configuration Server - CPE management",icon:"Router"},netbox:{name:"NetBox",description:"IP Address Management and DCIM",icon:"Database"},ansible:{name:"Ansible AWX",description:"Automation and orchestration platform",icon:"Cog"}};class j{constructor(){this.baseUrl=h}getAuthHeaders(){return{"Content-Type":"application/json",credentials:"include"}}async handleResponse(e){if(!e.ok)throw Error(await e.text()||`HTTP ${e.status}: ${e.statusText}`);return e.json()}async getConfiguration(e){let s=await fetch(`${this.baseUrl}${p}/tenant/oss/${e}`,{method:"GET",headers:this.getAuthHeaders(),credentials:"include"});return this.handleResponse(s)}async getAllConfigurations(){let e=["voltha","genieacs","netbox","ansible"].map(e=>this.getConfiguration(e));return(await Promise.allSettled(e)).filter(e=>"fulfilled"===e.status).map(e=>e.value)}async updateConfiguration(e,s){let t=await fetch(`${this.baseUrl}${p}/tenant/oss/${e}`,{method:"PATCH",headers:this.getAuthHeaders(),credentials:"include",body:JSON.stringify(s)});return this.handleResponse(t)}async resetConfiguration(e){let s=await fetch(`${this.baseUrl}${p}/tenant/oss/${e}`,{method:"DELETE",headers:this.getAuthHeaders(),credentials:"include"});if(!s.ok&&204!==s.status)throw Error(await s.text()||`HTTP ${s.status}: ${s.statusText}`)}hasOverrides(e){return Object.keys(e.overrides).length>0}getOverriddenFields(e){return Object.keys(e.overrides)}validateUpdate(e){let s=[];if(void 0!==e.url&&null!==e.url)try{new URL(e.url)}catch{s.push("Invalid URL format")}return void 0!==e.timeout_seconds&&null!==e.timeout_seconds&&e.timeout_seconds<1&&s.push("Timeout must be at least 1 second"),void 0!==e.max_retries&&null!==e.max_retries&&e.max_retries<0&&s.push("Max retries cannot be negative"),{valid:0===s.length,errors:s}}async testConnection(e){try{let s=Date.now();await this.getConfiguration(e);let t=Date.now()-s;return{success:!0,message:"Configuration retrieved successfully",latency:t}}catch(e){return{success:!1,message:e instanceof Error?e.message:"Connection test failed"}}}}let f=new j,v={all:["oss-config"],lists:()=>[...v.all,"list"],list:e=>[...v.lists(),e],details:()=>[...v.all,"detail"],detail:e=>[...v.details(),e],allConfigurations:()=>[...v.all,"all-configurations"]};function N(e,s=!0){return(0,u.a)({queryKey:v.detail(e),queryFn:()=>f.getConfiguration(e),enabled:s&&!!e,staleTime:3e5,gcTime:6e5})}function b(){return(0,u.a)({queryKey:v.allConfigurations(),queryFn:()=>f.getAllConfigurations(),staleTime:3e5,gcTime:6e5})}var C=t(69669),y=t(66307),w=t(12978),S=t(31215),T=t(18019),_=t(54689),P=t(41291),A=t(91216),k=t(12714);function O({service:e}){var s;let{data:t,isLoading:n}=N(e),{hasOverrides:l,overriddenFields:o,validateUpdate:d,isConfigured:u}=function(e){let{data:s}=N(e),t=!!s&&f.hasOverrides(s),a=s?f.getOverriddenFields(s):[];return{config:s,hasOverrides:t,overriddenFields:a,validateUpdate:e=>f.validateUpdate(e),isConfigured:!!s?.config.url}}(e),h=function(e){let s=(0,m.NL)();return(0,x.D)({mutationFn:({service:e,updates:s})=>f.updateConfiguration(e,s),onSuccess:(e,t)=>{s.invalidateQueries({queryKey:v.detail(t.service)}),s.invalidateQueries({queryKey:v.allConfigurations()})},onError:(e,s)=>{}})}(),p=function(e){let s=(0,m.NL)();return(0,x.D)({mutationFn:e=>f.resetConfiguration(e),onSuccess:(e,t)=>{s.invalidateQueries({queryKey:v.detail(t)}),s.invalidateQueries({queryKey:v.allConfigurations()})},onError:(e,s)=>{}})}(),j=(0,x.D)({mutationFn:e=>f.testConnection(e),onSuccess:(e,s)=>{},onError:(e,t)=>{s?.onError?.(e)}}),[b,O]=(0,r.useState)(!1),[D,q]=(0,r.useState)(!1),[Z,L]=(0,r.useState)(!1),[U,H]=(0,r.useState)({}),[E,R]=(0,r.useState)([]),F=g[e],B=async()=>{let s=d(U);if(!s.valid){R(s.errors);return}let a={};if(Object.entries(U).forEach(([e,s])=>{void 0!==s&&s!==t?.config[e]&&(a[e]=s)}),0===Object.keys(a).length){O(!1);return}h.mutate({service:e,updates:a},{onSuccess:()=>{O(!1),H({}),R([])}})};return n?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(i.Skeleton,{className:"h-32 w-full"}),(0,a.jsx)(i.Skeleton,{className:"h-96 w-full"})]}):t?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[F.name," Configuration",u?(0,a.jsxs)(i.Badge,{variant:"default",className:"gap-1",children:[(0,a.jsx)(y.Z,{className:"h-3 w-3"}),"Active"]}):(0,a.jsxs)(i.Badge,{variant:"destructive",className:"gap-1",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3"}),"Not Configured"]})]}),(0,a.jsx)(i.CardDescription,{children:F.description})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>{O(!1),H({}),R([])},disabled:h.isPending,children:"Cancel"}),(0,a.jsxs)(i.Button,{size:"sm",onClick:B,disabled:h.isPending,children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),h.isPending?"Saving...":"Save"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{j.mutate(e)},disabled:!u||j.isPending,children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Test"]}),(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{t&&H({url:t.config.url||"",username:t.config.username||null,password:t.config.password||null,api_token:t.config.api_token||null,verify_ssl:t.config.verify_ssl,timeout_seconds:t.config.timeout_seconds,max_retries:t.config.max_retries}),O(!0),R([])},children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Configure"]})]})})]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[!b&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"text-xs text-muted-foreground",children:"Service URL"}),(0,a.jsx)("p",{className:"font-mono text-sm mt-1",children:t.config.url||(0,a.jsx)("span",{className:"text-muted-foreground",children:"Not set"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"text-xs text-muted-foreground",children:"SSL Verification"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:t.config.verify_ssl?"Enabled":"Disabled"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"text-xs text-muted-foreground",children:"Timeout"}),(0,a.jsxs)("p",{className:"text-sm mt-1",children:[t.config.timeout_seconds,"s"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"text-xs text-muted-foreground",children:"Max Retries"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:t.config.max_retries})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"text-xs text-muted-foreground",children:"Authentication"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:t.config.api_token?"API Token":t.config.username?"Username/Password":"None"})]})]}),l&&(0,a.jsx)("div",{className:"pt-3 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(i.Label,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(T.Z,{className:"h-3 w-3"}),"Tenant Overrides"]}),(0,a.jsxs)("p",{className:"text-sm mt-1",children:[o.length," field",1!==o.length?"s":""," customized:"," ",o.join(", ")]})]}),(0,a.jsxs)(i.AlertDialog,{children:[(0,a.jsx)(i.AlertDialogTrigger,{asChild:!0,children:(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",disabled:p.isPending,children:[(0,a.jsx)(_.Z,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]})}),(0,a.jsxs)(i.AlertDialogContent,{children:[(0,a.jsxs)(i.AlertDialogHeader,{children:[(0,a.jsx)(i.AlertDialogTitle,{children:"Reset to Default Configuration?"}),(0,a.jsxs)(i.AlertDialogDescription,{children:["This will remove all tenant-specific overrides and restore the default settings for ",F.name,". This action cannot be undone."]})]}),(0,a.jsxs)(i.AlertDialogFooter,{children:[(0,a.jsx)(i.AlertDialogCancel,{children:"Cancel"}),(0,a.jsx)(i.AlertDialogAction,{onClick:()=>{p.mutate(e,{onSuccess:()=>{O(!1),H({})}})},children:"Reset Configuration"})]})]})]})]})})]}),b&&(0,a.jsxs)("div",{className:"space-y-4",children:[E.length>0&&(0,a.jsx)(i.Card,{className:"border-destructive",children:(0,a.jsx)(i.CardContent,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 text-destructive mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-destructive",children:"Validation Errors"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground list-disc list-inside mt-1",children:E.map((e,s)=>(0,a.jsx)("li",{children:e},s))})]})]})})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(i.Label,{htmlFor:"url",children:["Service URL ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.Input,{id:"url",type:"url",placeholder:"https://...",value:U.url||"",onChange:e=>H({...U,url:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:"Authentication"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"username",children:"Username (Optional)"}),(0,a.jsx)(i.Input,{id:"username",type:"text",placeholder:"admin",value:U.username||"",onChange:e=>H({...U,username:e.target.value||null})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"password",children:"Password (Optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Input,{id:"password",type:D?"text":"password",placeholder:"••••••••",value:U.password||"",onChange:e=>H({...U,password:e.target.value||null})}),(0,a.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>q(!D),children:D?(0,a.jsx)(A.Z,{className:"h-4 w-4"}):(0,a.jsx)(k.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"api_token",children:"API Token (Optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Input,{id:"api_token",type:Z?"text":"password",placeholder:"token_...",value:U.api_token||"",onChange:e=>H({...U,api_token:e.target.value||null})}),(0,a.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>L(!Z),children:Z?(0,a.jsx)(A.Z,{className:"h-4 w-4"}):(0,a.jsx)(k.Z,{className:"h-4 w-4"})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:"Connection Settings"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(i.Label,{htmlFor:"verify_ssl",children:"Verify SSL Certificate"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enable SSL certificate verification"})]}),(0,a.jsx)(i.Switch,{id:"verify_ssl",checked:U.verify_ssl??t.config.verify_ssl,onCheckedChange:e=>H({...U,verify_ssl:e})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"timeout",children:"Timeout (seconds)"}),(0,a.jsx)(i.Input,{id:"timeout",type:"number",min:"1",step:"1",value:U.timeout_seconds??t.config.timeout_seconds,onChange:e=>H({...U,timeout_seconds:parseFloat(e.target.value)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"max_retries",children:"Max Retries"}),(0,a.jsx)(i.Input,{id:"max_retries",type:"number",min:"0",step:"1",value:U.max_retries??t.config.max_retries,onChange:e=>H({...U,max_retries:parseInt(e.target.value)})})]})]})]})]})]})}):(0,a.jsx)(i.Card,{children:(0,a.jsxs)(i.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(C.Z,{className:"h-12 w-12 text-destructive mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Configuration Not Available"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Unable to load configuration for ",F.name]})]})})}let D={voltha:n.Z,genieacs:l.Z,netbox:o.Z,ansible:d.Z};function q({configurations:e,statistics:s}){let t=e=>e?(0,a.jsx)(y.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(C.Z,{className:"h-4 w-4 text-red-500"}),r=e=>(0,a.jsxs)(i.Badge,{variant:e?"default":"destructive",className:"gap-1",children:[t(e),e?"Configured":"Not Configured"]}),n=(e,s)=>e?(0,a.jsxs)(i.Badge,{variant:"secondary",className:"gap-1",children:[(0,a.jsx)(c.Z,{className:"h-3 w-3"}),s," Override",1!==s?"s":""]}):(0,a.jsx)(i.Badge,{variant:"outline",children:"Default Settings"});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{className:"pb-3",children:(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Services"})}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-purple-500"}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:s.totalServices})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"OSS integrations available"})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{className:"pb-3",children:(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Configured"})}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsxs)("span",{className:"text-2xl font-bold",children:[s.configuredCount,"/",s.totalServices]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Services with valid configuration"})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{className:"pb-3",children:(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Tenant Overrides"})}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:s.overriddenCount})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Services with custom settings"})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{className:"text-base",children:"OSS Services Status"}),(0,a.jsx)(i.CardDescription,{children:"Configuration status for all OSS integrations"})]}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(i.Table,{children:[(0,a.jsx)(i.TableHeader,{children:(0,a.jsxs)(i.TableRow,{children:[(0,a.jsx)(i.TableHead,{children:"Service"}),(0,a.jsx)(i.TableHead,{children:"Description"}),(0,a.jsx)(i.TableHead,{children:"URL"}),(0,a.jsx)(i.TableHead,{children:"Status"}),(0,a.jsx)(i.TableHead,{children:"Configuration"})]})}),(0,a.jsx)(i.TableBody,{children:e.map(e=>{let t=D[e.service],l=g[e.service],o=s.services.find(s=>s.service===e.service);return(0,a.jsxs)(i.TableRow,{children:[(0,a.jsx)(i.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:l.name})]})}),(0,a.jsx)(i.TableCell,{children:(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:l.description})}),(0,a.jsx)(i.TableCell,{children:e.config.url?(0,a.jsx)("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:e.config.url}):(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"})}),(0,a.jsx)(i.TableCell,{children:r(o?.configured||!1)}),(0,a.jsx)(i.TableCell,{children:n(o?.hasOverrides||!1,o?.overrideCount||0)})]},e.service)})})]})})})]}),s.configuredCount<s.totalServices&&(0,a.jsxs)(i.Card,{className:"border-amber-500",children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2 text-amber-600",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4"}),"Configuration Required"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s.totalServices-s.configuredCount," OSS service",s.totalServices-s.configuredCount!=1?"s are":" is"," not configured. Configure each service in its respective tab to enable full functionality."]})})]})]})}let Z="force-dynamic",L=!0,U=[{service:"voltha",icon:n.Z},{service:"genieacs",icon:l.Z},{service:"netbox",icon:o.Z},{service:"ansible",icon:d.Z}];function H(){let[e,s]=(0,r.useState)("overview"),{data:t,isLoading:n}=b(),{statistics:l,isLoading:o}=function(){let{data:e,isLoading:s}=b(),t={totalServices:e?.length||0,configuredCount:e?.filter(e=>e.config.url&&""!==e.config.url).length||0,overriddenCount:e?.filter(e=>f.hasOverrides(e)).length||0,services:e?.map(e=>({service:e.service,configured:!!e.config.url,hasOverrides:f.hasOverrides(e),overrideCount:Object.keys(e.overrides).length}))||[]};return{statistics:t,isLoading:s,hasAnyConfigured:t.configuredCount>0,hasAnyOverridden:t.overriddenCount>0}}();return n||o?(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Skeleton,{className:"h-8 w-64 mb-2"}),(0,a.jsx)(i.Skeleton,{className:"h-4 w-96"})]}),(0,a.jsx)(i.Skeleton,{className:"h-32 w-full"}),(0,a.jsx)(i.Skeleton,{className:"h-96 w-full"})]}):(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-8 w-8"}),"OSS Integration Configuration"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Configure tenant-specific settings for Operations Support Systems (OSS) integrations"})]}),(0,a.jsxs)(i.Tabs,{value:e,onValueChange:e=>s(e),children:[(0,a.jsxs)(i.TabsList,{className:"grid w-full grid-cols-5 lg:w-[800px]",children:[(0,a.jsxs)(i.TabsTrigger,{value:"overview",className:"gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Overview"]}),U.map(({service:e,icon:s})=>(0,a.jsxs)(i.TabsTrigger,{value:e,className:"gap-2",children:[(0,a.jsx)(s,{className:"h-4 w-4"}),e.toUpperCase()]},e))]}),(0,a.jsx)(i.TabsContent,{value:"overview",className:"space-y-6",children:(0,a.jsx)(q,{configurations:t||[],statistics:l})}),U.map(({service:e})=>(0,a.jsx)(i.TabsContent,{value:e,className:"space-y-6",children:(0,a.jsx)(O,{service:e})},e))]})]})}},71598:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,dynamic:()=>r,dynamicParams:()=>i});var a=t(68570);let r=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/settings/oss/page.tsx#dynamic`),i=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/settings/oss/page.tsx#dynamicParams`),n=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/settings/oss/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[2793,1009,6226,657,6032,4218],()=>t(59662));module.exports=a})();