(()=>{var e={};e.id=7419,e.ids=[7419],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},11341:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>i,routeModule:()=>x,tree:()=>l}),s(821),s(13321),s(46366),s(96560);var r=s(23191),n=s(88716),a=s(37922),o=s.n(a),c=s(95231),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);s.d(t,d);let l=["",{children:["dashboard",{children:["banking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,821)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/banking/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],i=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/banking/page.tsx"],u="/dashboard/banking/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/banking/page",pathname:"/dashboard/banking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},32494:(e,t,s)=>{Promise.resolve().then(s.bind(s,99986))},99986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var r=s(10326),n=s(17577),a=s(59734),o=s(95964),c=s(71383),d=s(15188),l=s(36283),i=s(17129),u=s(83495),m=s(30361),x=s(48998),p=s(69669),g=s(41291),b=s(83855),h=s(91216),f=s(12714),y=s(58038),j=s(39447),v=s(88307),N=s(41137),k=s(31540),_=s(63685),w=s(93158),C=s(48723),S=s(29771);let P=[{id:"accounts",label:"Bank Accounts",icon:a.Z},{id:"payments",label:"Manual Payments",icon:o.Z},{id:"reconciliation",label:"Reconciliation",icon:c.Z}],A=[{value:"cash",label:"Cash",icon:d.Z},{value:"check",label:"Check",icon:l.Z},{value:"bank_transfer",label:"Bank Transfer",icon:a.Z},{value:"wire_transfer",label:"Wire Transfer",icon:i.Z},{value:"mobile_money",label:"Mobile Money",icon:u.Z}];function Z(){let{toast:e}=(0,C.useToast)(),{api:t}=(0,w.M)(),s=t.baseUrl,[i,Z]=(0,n.useState)("accounts"),[D,U]=(0,n.useState)([]),[B,T]=(0,n.useState)(null),[q,F]=(0,n.useState)([]),[M,R]=(0,n.useState)(!1),[E,I]=(0,n.useState)(!1),[$,O]=(0,n.useState)(!1),[G,L]=(0,n.useState)("cash"),[z,J]=(0,n.useState)(null),[W,V]=(0,n.useState)({account_name:"",account_nickname:"",bank_name:"",bank_address:"",bank_country:"US",account_number:"",account_type:"business",currency:"USD",routing_number:"",swift_code:"",iban:"",is_primary:!1,accepts_deposits:!0,notes:""}),[K,H]=(0,n.useState)({customer_id:"",invoice_id:"",bank_account_id:null,amount:0,currency:"USD",payment_date:new Date().toISOString().split("T")[0],notes:"",cash_register_id:"",cashier_name:"",check_number:"",check_bank_name:"",sender_name:"",sender_bank:"",sender_account_last_four:"",mobile_number:"",mobile_provider:""}),X=(0,n.useCallback)(async()=>{R(!0);try{let e=await fetch(`${s}/api/v1/billing/bank-accounts`,{credentials:"include"});if(e.ok){let t=await e.json();U(t)}else 401===e.status&&(window.location.href="/login")}catch(t){S.k.error("Failed to load bank accounts",t),e({title:"Error",description:"Failed to load bank accounts",variant:"destructive"})}finally{R(!1)}},[s,e]),Y=(0,n.useCallback)(async t=>{try{let e=await fetch(`${s}/api/v1/billing/bank-accounts/${t}/summary`,{credentials:"include"});if(e.ok){let t=await e.json();T(t)}else 401===e.status&&(window.location.href="/login")}catch(t){S.k.error("Failed to load account summary",t),e({title:"Error",description:"Failed to load account summary",variant:"destructive"})}},[s,e]),Q=(0,n.useCallback)(async()=>{R(!0);try{let e=await fetch(`${s}/api/v1/billing/payments/search`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(e.ok){let t=await e.json();F(t)}else 401===e.status&&(window.location.href="/login")}catch(t){S.k.error("Failed to load manual payments",t),e({title:"Error",description:"Failed to load manual payments",variant:"destructive"})}finally{R(!1)}},[s,e]),ee=async()=>{try{(await fetch(`${s}/api/v1/billing/bank-accounts`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})).ok&&(S.k.info("Bank account created",{bankName:W.bank_name,accountType:W.account_type}),await X(),I(!1),en(),e({title:"Success",description:"Bank account added successfully"}))}catch(t){S.k.error("Failed to create bank account",t),e({title:"Error",description:"Failed to create bank account. Please try again.",variant:"destructive"})}},et=async()=>{try{let t=`${s}/api/v1/billing/payments/${G.replace("_","-")}`,r={...K,payment_method:G};(await fetch(t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(S.k.info("Manual payment recorded",{paymentMethod:G,amount:K.amount,customerId:K.customer_id}),await Q(),O(!1),ea(),e({title:"Success",description:"Payment recorded successfully"}))}catch(t){S.k.error("Failed to record payment",t),e({title:"Error",description:"Failed to record payment. Please try again.",variant:"destructive"})}},es=async t=>{try{(await fetch(`${s}/api/v1/billing/bank-accounts/${t}/verify`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:"Verified via admin panel"})})).ok&&(S.k.info("Bank account verified",{accountId:t}),await X(),e({title:"Success",description:"Bank account verified successfully"}))}catch(t){S.k.error("Failed to verify account",t),e({title:"Error",description:"Failed to verify bank account. Please try again.",variant:"destructive"})}},er=async t=>{try{(await fetch(`${s}/api/v1/billing/payments/${t}/verify`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok&&(S.k.info("Payment verified",{paymentId:t}),await Q(),e({title:"Success",description:"Payment verified successfully"}))}catch(t){S.k.error("Failed to verify payment",t),e({title:"Error",description:"Failed to verify payment. Please try again.",variant:"destructive"})}},en=()=>{V({account_name:"",account_nickname:"",bank_name:"",bank_address:"",bank_country:"US",account_number:"",account_type:"business",currency:"USD",routing_number:"",swift_code:"",iban:"",is_primary:!1,accepts_deposits:!0,notes:""})},ea=()=>{H({customer_id:"",invoice_id:"",bank_account_id:null,amount:0,currency:"USD",payment_date:new Date().toISOString().split("T")[0],notes:"",cash_register_id:"",cashier_name:"",check_number:"",check_bank_name:"",sender_name:"",sender_bank:"",sender_account_last_four:"",mobile_number:"",mobile_provider:""})},eo=e=>{let t={verified:"bg-emerald-500/10 text-emerald-400",pending:"bg-amber-500/10 text-amber-400",failed:"bg-rose-500/10 text-rose-400",suspended:"bg-muted/10 text-muted-foreground",reconciled:"bg-sky-500/10 text-sky-400"},s={verified:(0,r.jsx)(m.Z,{className:"h-3 w-3"}),pending:(0,r.jsx)(x.Z,{className:"h-3 w-3"}),failed:(0,r.jsx)(p.Z,{className:"h-3 w-3"}),suspended:(0,r.jsx)(g.Z,{className:"h-3 w-3"}),reconciled:(0,r.jsx)(c.Z,{className:"h-3 w-3"})};return(0,r.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ${t[e]||t.pending}`,children:[s[e],e]})};return(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Banking & Payments"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage bank accounts and record manual payments"})]}),(0,r.jsx)("div",{className:"mb-6 border-b border-border",children:(0,r.jsx)("nav",{className:"flex space-x-8",children:P.map(e=>(0,r.jsxs)("button",{onClick:()=>Z(e.id),className:`flex items-center gap-2 py-3 px-1 border-b-2 transition-colors text-sm font-medium ${i===e.id?"border-sky-500 text-sky-400":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:[(0,r.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.id))})}),(0,r.jsxs)("div",{className:"bg-card/50 border border-border rounded-lg p-6",children:["accounts"===i&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-foreground",children:"Company Bank Accounts"}),(0,r.jsxs)("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4"}),"Add Bank Account"]})]}),M?(0,r.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading accounts..."}):0===D.length?(0,r.jsxs)("div",{className:"text-center py-12 bg-accent/50 rounded-lg border border-border",children:[(0,r.jsx)(a.Z,{className:"h-12 w-12 text-foreground mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"No bank accounts configured"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your company bank accounts to receive payments"})]}):(0,r.jsx)("div",{className:"grid gap-4",children:D.map(e=>(0,r.jsx)("div",{className:"bg-accent/50 border border-border rounded-lg p-4 hover:bg-accent/70 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-foreground",children:e.account_nickname||e.account_name}),e.is_primary&&(0,r.jsx)("span",{className:"text-xs px-2 py-0.5 bg-sky-500/20 text-sky-400 rounded-full",children:"Primary"}),eo(e.status)]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-muted-foreground",children:"Bank"}),(0,r.jsx)("div",{className:"text-muted-foreground",children:e.bank_name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-muted-foreground",children:"Account"}),(0,r.jsx)("div",{className:"text-muted-foreground font-mono flex items-center gap-2",children:z===e.id?(0,r.jsxs)(r.Fragment,{children:["****",e.account_number_last_four,(0,r.jsx)("button",{onClick:()=>J(null),children:(0,r.jsx)(h.Z,{className:"h-3 w-3 text-muted-foreground"})})]}):(0,r.jsxs)(r.Fragment,{children:["••••",e.account_number_last_four,(0,r.jsx)("button",{onClick:()=>J(e.id),children:(0,r.jsx)(f.Z,{className:"h-3 w-3 text-muted-foreground"})})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-muted-foreground",children:"Type"}),(0,r.jsx)("div",{className:"text-muted-foreground capitalize",children:e.account_type})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-muted-foreground",children:"Currency"}),(0,r.jsx)("div",{className:"text-muted-foreground",children:e.currency})]})]}),e.routing_number&&(0,r.jsxs)("div",{className:"mt-3 flex gap-4 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Routing: ",e.routing_number]}),e.swift_code&&(0,r.jsxs)("span",{children:["SWIFT: ",e.swift_code]}),e.iban&&(0,r.jsxs)("span",{children:["IBAN: ",e.iban]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["pending"===e.status&&(0,r.jsx)("button",{onClick:()=>es(e.id),className:"px-3 py-1.5 text-sm bg-emerald-500/10 text-emerald-400 rounded-lg hover:bg-emerald-500/20",children:(0,r.jsx)(y.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>Y(e.id),className:"px-3 py-1.5 text-sm bg-muted text-muted-foreground rounded-lg hover:bg-accent",children:"View Details"}),(0,r.jsx)("button",{className:"text-muted-foreground hover:text-muted-foreground",children:(0,r.jsx)(j.Z,{className:"h-4 w-4"})})]})]})},e.id))}),B&&(0,r.jsxs)("div",{className:"mt-6 p-4 bg-card/50 border border-border rounded-lg",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-foreground mb-4",children:"Account Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Month-to-Date"}),(0,r.jsxs)("div",{className:"text-lg font-semibold text-foreground",children:["$",B.total_deposits_mtd.toLocaleString()]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Year-to-Date"}),(0,r.jsxs)("div",{className:"text-lg font-semibold text-foreground",children:["$",B.total_deposits_ytd.toLocaleString()]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Pending Payments"}),(0,r.jsx)("div",{className:"text-lg font-semibold text-amber-400",children:B.pending_payments})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Last Reconciled"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:B.last_reconciliation?new Date(B.last_reconciliation).toLocaleDateString():"Never"})]})]})]})]}),"payments"===i&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-foreground",children:"Manual Payment Records"}),(0,r.jsxs)("button",{onClick:()=>O(!0),className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4"}),"Record Payment"]})]}),(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)("input",{type:"text",placeholder:"Search payments...",className:"w-full pl-10 pr-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,r.jsxs)("button",{className:"px-4 py-2 bg-accent border border-border text-muted-foreground rounded-lg hover:bg-muted flex items-center gap-2",children:[(0,r.jsx)(N.Z,{className:"h-4 w-4"}),"Filter"]}),(0,r.jsxs)("button",{className:"px-4 py-2 bg-accent border border-border text-muted-foreground rounded-lg hover:bg-muted flex items-center gap-2",children:[(0,r.jsx)(k.Z,{className:"h-4 w-4"}),"Export"]})]}),M?(0,r.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading payments..."}):0===q.length?(0,r.jsxs)("div",{className:"text-center py-12 bg-accent/50 rounded-lg border border-border",children:[(0,r.jsx)(o.Z,{className:"h-12 w-12 text-foreground mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"No manual payments recorded"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Record cash, check, and other manual payments here"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:(0,r.jsxs)("tr",{className:"border-b border-border",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Reference"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Customer"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Method"}),(0,r.jsx)("th",{className:"text-right py-3 px-4",children:"Amount"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Date"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Status"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-border",children:q.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-accent/50 transition-colors",children:[(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)("div",{className:"font-mono text-sm text-muted-foreground",children:e.payment_reference})}),(0,r.jsxs)("td",{className:"py-3 px-4",children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:e.customer_name||e.customer_id}),e.invoice_id&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Invoice: ",e.invoice_id]})]}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["cash"===e.payment_method&&(0,r.jsx)(d.Z,{className:"h-4 w-4"}),"check"===e.payment_method&&(0,r.jsx)(l.Z,{className:"h-4 w-4"}),"bank_transfer"===e.payment_method&&(0,r.jsx)(a.Z,{className:"h-4 w-4"}),"mobile_money"===e.payment_method&&(0,r.jsx)(u.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"capitalize",children:e.payment_method.replace("_"," ")})]})}),(0,r.jsx)("td",{className:"py-3 px-4 text-right",children:(0,r.jsxs)("div",{className:"font-medium text-foreground",children:[e.currency," ",e.amount.toLocaleString()]})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:new Date(e.payment_date).toLocaleDateString()})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[eo(e.status),e.reconciled&&(0,r.jsx)("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:(0,r.jsx)(c.Z,{className:"h-3 w-3"})})]})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["pending"===e.status&&(0,r.jsx)("button",{onClick:()=>er(e.id),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300",children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{className:"text-muted-foreground hover:text-muted-foreground",children:(0,r.jsx)(f.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),"reconciliation"===i&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-foreground",children:"Payment Reconciliation"}),(0,r.jsx)("button",{className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg transition-colors",children:"Start Reconciliation"})]}),(0,r.jsx)("div",{className:"bg-accent/50 border border-border rounded-lg p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c.Z,{className:"h-12 w-12 text-foreground mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Reconciliation helps match payments with bank statements"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Upload bank statements or manually reconcile payments to ensure accurate records"}),(0,r.jsxs)("div",{className:"mt-6 flex justify-center gap-4",children:[(0,r.jsxs)("button",{className:"px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-accent flex items-center gap-2",children:[(0,r.jsx)(_.Z,{className:"h-4 w-4"}),"Upload Statement"]}),(0,r.jsx)("button",{className:"px-4 py-2 border border-border text-muted-foreground rounded-lg hover:bg-accent",children:"Manual Reconciliation"})]})]})})]})]}),E&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Add Bank Account"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Account Name *"}),(0,r.jsx)("input",{type:"text",value:W.account_name,onChange:e=>V({...W,account_name:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Company Name on Account"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Nickname"}),(0,r.jsx)("input",{type:"text",value:W.account_nickname,onChange:e=>V({...W,account_nickname:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Main Operating Account"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Bank Name *"}),(0,r.jsx)("input",{type:"text",value:W.bank_name,onChange:e=>V({...W,bank_name:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Chase Bank"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Account Number *"}),(0,r.jsx)("input",{type:"text",value:W.account_number,onChange:e=>V({...W,account_number:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500 font-mono",placeholder:"1234567890"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Account Type"}),(0,r.jsxs)("select",{value:W.account_type,onChange:e=>V({...W,account_type:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",children:[(0,r.jsx)("option",{value:"checking",children:"Checking"}),(0,r.jsx)("option",{value:"savings",children:"Savings"}),(0,r.jsx)("option",{value:"business",children:"Business"}),(0,r.jsx)("option",{value:"money_market",children:"Money Market"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Currency"}),(0,r.jsxs)("select",{value:W.currency,onChange:e=>V({...W,currency:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",children:[(0,r.jsx)("option",{value:"USD",children:"USD"}),(0,r.jsx)("option",{value:"EUR",children:"EUR"}),(0,r.jsx)("option",{value:"GBP",children:"GBP"}),(0,r.jsx)("option",{value:"CAD",children:"CAD"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Country"}),(0,r.jsxs)("select",{value:W.bank_country,onChange:e=>V({...W,bank_country:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",children:[(0,r.jsx)("option",{value:"US",children:"United States"}),(0,r.jsx)("option",{value:"CA",children:"Canada"}),(0,r.jsx)("option",{value:"GB",children:"United Kingdom"}),(0,r.jsx)("option",{value:"EU",children:"European Union"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Routing Number"}),(0,r.jsx)("input",{type:"text",value:W.routing_number,onChange:e=>V({...W,routing_number:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500 font-mono",placeholder:"021000021"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"SWIFT Code"}),(0,r.jsx)("input",{type:"text",value:W.swift_code,onChange:e=>V({...W,swift_code:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500 font-mono",placeholder:"CHASUS33"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"IBAN"}),(0,r.jsx)("input",{type:"text",value:W.iban,onChange:e=>V({...W,iban:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500 font-mono",placeholder:"GB33BUKB20201555555555"})]})]}),(0,r.jsxs)("div",{className:"space-y-3 border-t border-border pt-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:W.is_primary,onChange:e=>V({...W,is_primary:e.target.checked}),className:"h-4 w-4 rounded border-border bg-accent text-sky-500"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Set as primary account"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:W.accepts_deposits,onChange:e=>V({...W,accepts_deposits:e.target.checked}),className:"h-4 w-4 rounded border-border bg-accent text-sky-500"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Accept deposits to this account"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Notes"}),(0,r.jsx)("textarea",{value:W.notes,onChange:e=>V({...W,notes:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",rows:3,placeholder:"Internal notes about this account"})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>{I(!1),en()},className:"px-4 py-2 border border-border text-muted-foreground rounded-lg hover:bg-accent",children:"Cancel"}),(0,r.jsx)("button",{onClick:ee,className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg",children:"Add Bank Account"})]})]})}),$&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Record Manual Payment"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Payment Method"}),(0,r.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:A.map(e=>(0,r.jsxs)("button",{onClick:()=>L(e.value),className:`p-3 border rounded-lg flex flex-col items-center gap-2 transition-colors ${G===e.value?"border-sky-500 bg-sky-500/10 text-sky-400":"border-border text-muted-foreground hover:bg-accent"}`,children:[(0,r.jsx)(e.icon,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"text-xs",children:e.label})]},e.value))})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Customer ID *"}),(0,r.jsx)("input",{type:"text",value:K.customer_id,onChange:e=>H({...K,customer_id:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"CUST-001"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Invoice ID"}),(0,r.jsx)("input",{type:"text",value:K.invoice_id,onChange:e=>H({...K,invoice_id:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"INV-001 (optional)"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Amount *"}),(0,r.jsx)("input",{type:"number",value:K.amount,onChange:e=>H({...K,amount:parseFloat(e.target.value)}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"0.00",step:"0.01"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Currency"}),(0,r.jsxs)("select",{value:K.currency,onChange:e=>H({...K,currency:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",children:[(0,r.jsx)("option",{value:"USD",children:"USD"}),(0,r.jsx)("option",{value:"EUR",children:"EUR"}),(0,r.jsx)("option",{value:"GBP",children:"GBP"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Payment Date *"}),(0,r.jsx)("input",{type:"date",value:K.payment_date,onChange:e=>H({...K,payment_date:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500"})]})]}),"cash"===G&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Register ID"}),(0,r.jsx)("input",{type:"text",value:K.cash_register_id,onChange:e=>H({...K,cash_register_id:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"REG-001"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Cashier Name"}),(0,r.jsx)("input",{type:"text",value:K.cashier_name,onChange:e=>H({...K,cashier_name:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"John Doe"})]})]}),"check"===G&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Check Number *"}),(0,r.jsx)("input",{type:"text",value:K.check_number,onChange:e=>H({...K,check_number:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"1234"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Bank Name"}),(0,r.jsx)("input",{type:"text",value:K.check_bank_name,onChange:e=>H({...K,check_bank_name:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Wells Fargo"})]})]}),("bank_transfer"===G||"wire_transfer"===G)&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Sender Name"}),(0,r.jsx)("input",{type:"text",value:K.sender_name,onChange:e=>H({...K,sender_name:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Company Name / Individual"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Sender Bank"}),(0,r.jsx)("input",{type:"text",value:K.sender_bank,onChange:e=>H({...K,sender_bank:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Bank of America"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Account Last 4"}),(0,r.jsx)("input",{type:"text",value:K.sender_account_last_four,onChange:e=>H({...K,sender_account_last_four:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500 font-mono",placeholder:"1234",maxLength:4})]})]})]}),"mobile_money"===G&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Mobile Number *"}),(0,r.jsx)("input",{type:"text",value:K.mobile_number,onChange:e=>H({...K,mobile_number:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"+254700000000"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Provider *"}),(0,r.jsx)("input",{type:"text",value:K.mobile_provider,onChange:e=>H({...K,mobile_provider:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"M-Pesa"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Deposit To Account"}),(0,r.jsxs)("select",{value:K.bank_account_id||"",onChange:e=>H({...K,bank_account_id:e.target.value?parseInt(e.target.value):null}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",children:[(0,r.jsx)("option",{value:"",children:"Select bank account"}),D.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.account_nickname||e.account_name," - ••••",e.account_number_last_four]},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Notes"}),(0,r.jsx)("textarea",{value:K.notes,onChange:e=>H({...K,notes:e.target.value}),className:"w-full px-3 py-2 bg-accent border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-sky-500",rows:3,placeholder:"Additional payment details or notes"})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>{O(!1),ea()},className:"px-4 py-2 border border-border text-muted-foreground rounded-lg hover:bg-accent",children:"Cancel"}),(0,r.jsx)("button",{onClick:et,className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg",children:"Record Payment"})]})]})})]})})}},821:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/banking/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[2793,1009,6226,657,6032,4218],()=>s(11341));module.exports=r})();