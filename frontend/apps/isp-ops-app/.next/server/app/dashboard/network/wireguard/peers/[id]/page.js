(()=>{var e={};e.id=212,e.ids=[212],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},95842:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(77550),t(13321),t(46366),t(96560);var a=t(23191),r=t(88716),i=t(37922),n=t.n(i),d=t(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let c=["",{children:["dashboard",{children:["network",{children:["wireguard",{children:["peers",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,77550)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network/wireguard/peers/[id]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],o=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network/wireguard/peers/[id]/page.tsx"],p="/dashboard/network/wireguard/peers/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/network/wireguard/peers/[id]/page",pathname:"/dashboard/network/wireguard/peers/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8290:(e,s,t)=>{Promise.resolve().then(t.bind(t,72262))},72262:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D,dynamic:()=>C,dynamicParams:()=>k});var a=t(10326),r=t(17577),i=t(90434),n=t(35047),d=t(48723),l=t(86333),c=t(24061),o=t(31540),p=t(21405),m=t(69508),u=t(98091),x=t(66697),h=t(54014),g=t(51110),f=t(30361),j=t(43810),b=t(76828),v=t(29163),N=t(17069),y=t(48998),w=t(93892),_=t(4743),q=t(89098);let C="force-dynamic",k=!0;function D({params:e}){let{id:s}=e,t=(0,n.useRouter)(),[C,k]=(0,r.useState)(null),{data:D,isLoading:P,error:$,refetch:S}=(0,_.aN)(s),{mutate:Z,isPending:K}=(0,_.Mp)(),{mutate:T}=(0,_.vY)(),{mutate:E,isPending:B}=(0,_.d4)(),L=(0,d.useConfirmDialog)(),Q=async()=>{D&&await L({title:"Delete peer",description:`Are you sure you want to delete peer "${D.name}"? This action cannot be undone.`,confirmText:"Delete peer",variant:"destructive"})&&Z(s,{onSuccess:()=>{t.push("/dashboard/network/wireguard/peers")}})},F=()=>{T(s)},I=async()=>{await L({title:"Regenerate configuration",description:"Regenerating the configuration will create new keys. The old configuration will no longer work. Continue?",confirmText:"Regenerate",variant:"warning"})&&E(s,{onSuccess:()=>{S()}})},R=async(e,s)=>{await navigator.clipboard.writeText(e),k(s),setTimeout(()=>k(null),2e3)};return P?(0,a.jsx)("div",{className:"space-y-6 p-6",children:(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading peer details..."})})}):$||!D?(0,a.jsx)("div",{className:"space-y-6 p-6",children:(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsxs)("p",{className:"text-red-500",children:["Error loading peer: ",String($)||"Peer not found"]}),(0,a.jsxs)(d.Button,{className:"mt-4",onClick:()=>t.back(),children:[(0,a.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})}):(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(d.Button,{variant:"outline",onClick:()=>t.back(),children:[(0,a.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-8 w-8"}),D.name]}),D.description&&(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:D.description})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(d.Button,{variant:"outline",onClick:F,children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Download Config"]}),(0,a.jsxs)(d.Button,{variant:"outline",onClick:()=>S(),children:[(0,a.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,a.jsx)(i.default,{href:`/dashboard/network/wireguard/peers/${s}/edit`,children:(0,a.jsxs)(d.Button,{variant:"outline",children:[(0,a.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Edit"]})}),(0,a.jsxs)(d.Button,{variant:"destructive",onClick:()=>{Q()},disabled:K,children:[(0,a.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Status"}),(0,a.jsx)(d.Badge,{className:`mt-2 ${q.Cz[D.status]}`,children:D.status})]}),(0,a.jsx)(x.Z,{className:"h-10 w-10 text-blue-500"})]})}),(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connection"}),(0,a.jsx)(d.Badge,{className:`mt-2 ${D.is_online?"bg-green-500":"bg-gray-500"}`,children:D.is_online?"Online":"Offline"})]}),(0,a.jsx)(h.Z,{className:"h-10 w-10 text-green-500"})]})}),(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enabled"}),(0,a.jsx)(d.Badge,{className:`mt-2 ${D.enabled?"bg-blue-500":"bg-gray-500"}`,children:D.enabled?"Yes":"No"})]}),(0,a.jsx)(x.Z,{className:"h-10 w-10 text-blue-500"})]})}),(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Traffic"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(0,q.td)(D.total_bytes)})]}),(0,a.jsx)(g.Z,{className:"h-10 w-10 text-purple-500"})]})})]}),(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5"}),"Peer Configuration"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2 flex items-center gap-1",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),"Peer IPv4"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"text-sm font-mono flex-1",children:D.peer_ipv4}),(0,a.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>R(D.peer_ipv4,"ipv4"),children:"ipv4"===C?(0,a.jsx)(f.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(j.Z,{className:"h-4 w-4"})})]})]}),D.peer_ipv6&&(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Peer IPv6"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"text-sm font-mono flex-1 break-all",children:D.peer_ipv6}),(0,a.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>R(D.peer_ipv6||"","ipv6"),children:"ipv6"===C?(0,a.jsx)(f.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(j.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded col-span-2",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2 flex items-center gap-1",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),"Public Key"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"text-sm font-mono flex-1 break-all",children:D.public_key}),(0,a.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>R(D.public_key,"public_key"),children:"public_key"===C?(0,a.jsx)(f.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(j.Z,{className:"h-4 w-4"})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Allowed IPs"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:D.allowed_ips.map((e,s)=>(0,a.jsx)(d.Badge,{variant:"outline",children:e},s))})]})]})]}),(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5"}),"Connection Status"]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Handshake"}),(0,a.jsx)("p",{className:"font-semibold",children:D.last_handshake?(0,q.pi)(D.last_handshake):"Never"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Endpoint"}),(0,a.jsx)("p",{className:"font-semibold font-mono text-sm",children:D.endpoint||"N/A"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Online Status"}),(0,a.jsx)("p",{className:"font-semibold",children:D.is_online?"\uD83D\uDFE2 Online":"⚫ Offline"})]})]})})]}),(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5"}),"Traffic Statistics"]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"p-6 bg-green-50 border border-green-200 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("p",{className:"text-sm text-green-900 font-medium",children:"Received"}),(0,a.jsx)(v.Z,{className:"h-5 w-5 text-green-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-900",children:(0,q.td)(D.rx_bytes)})]}),(0,a.jsxs)("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("p",{className:"text-sm text-blue-900 font-medium",children:"Transmitted"}),(0,a.jsx)(N.Z,{className:"h-5 w-5 text-blue-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:(0,q.td)(D.tx_bytes)})]}),(0,a.jsxs)("div",{className:"p-6 bg-purple-50 border border-purple-200 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("p",{className:"text-sm text-purple-900 font-medium",children:"Total Traffic"}),(0,a.jsx)(x.Z,{className:"h-5 w-5 text-purple-600"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-purple-900",children:(0,q.td)(D.total_bytes)})]})]}),D.last_stats_update&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-4 flex items-center gap-1",children:[(0,a.jsx)(y.Z,{className:"h-3 w-3"}),"Last updated: ",(0,q.pi)(D.last_stats_update)]})]}),(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5"}),"Server Information"]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connected to Server"}),(0,a.jsx)(i.default,{href:`/dashboard/network/wireguard/servers/${D.server_id}`,className:"text-blue-600 hover:underline font-semibold",children:"View Server Details →"})]})]}),D.expires_at&&(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5"}),"Expiration"]}),(0,a.jsxs)("div",{className:`p-4 rounded ${D.is_expired?"bg-red-50 border border-red-200":new Date(D.expires_at).getTime()-Date.now()<6048e5?"bg-yellow-50 border border-yellow-200":"bg-green-50 border border-green-200"}`,children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Expires On"}),(0,a.jsxs)("p",{className:`text-lg font-bold ${D.is_expired?"text-red-900":new Date(D.expires_at).getTime()-Date.now()<6048e5?"text-yellow-900":"text-green-900"}`,children:[new Date(D.expires_at).toLocaleString(),D.is_expired&&" (EXPIRED)"]})]})]}),D.notes&&(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Notes"}),(0,a.jsx)("div",{className:"p-4 bg-gray-50 rounded",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:D.notes})})]}),(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Configuration Management"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)(d.Button,{onClick:F,size:"lg",children:[(0,a.jsx)(o.Z,{className:"mr-2 h-5 w-5"}),"Download Configuration File"]}),(0,a.jsxs)(d.Button,{onClick:()=>{I()},variant:"outline",size:"lg",disabled:B,children:[(0,a.jsx)(p.Z,{className:`mr-2 h-5 w-5 ${B?"animate-spin":""}`}),B?"Regenerating...":"Regenerate Keys"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Regenerating keys will invalidate the current configuration. You'll need to redistribute the new config file."})]}),D.metadata_&&Object.keys(D.metadata_).length>0&&(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Additional Metadata"}),(0,a.jsx)("div",{className:"p-4 bg-gray-50 rounded",children:(0,a.jsx)("pre",{className:"text-sm overflow-x-auto",children:JSON.stringify(D.metadata_,null,2)})})]}),(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5"}),"Timestamps"]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Created"}),(0,a.jsx)("p",{className:"font-semibold",children:new Date(D.created_at).toLocaleString()})]}),D.updated_at&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),(0,a.jsx)("p",{className:"font-semibold",children:new Date(D.updated_at).toLocaleString()})]}),D.last_stats_update&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Stats Update"}),(0,a.jsx)("p",{className:"font-semibold",children:new Date(D.last_stats_update).toLocaleString()})]})]})]})]})}},4743:(e,s,t)=>{"use strict";t.d(s,{EQ:()=>x,Eb:()=>p,FP:()=>g,JI:()=>o,Ml:()=>j,Mp:()=>v,Nd:()=>m,aN:()=>f,d4:()=>N,f2:()=>h,f_:()=>y,mI:()=>u,sZ:()=>b,v6:()=>w,vY:()=>_});var a=t(48324),r=t(44976),i=t(17010),n=t(59341);let d="/wireguard",l=["wireguard"],c={all:l,servers:{all:[...l,"servers"],lists:()=>[...l,"servers","list"],list:e=>[...l,"servers","list",e],detail:e=>[...l,"servers","detail",e],health:e=>[...l,"servers","health",e]},peers:{all:[...l,"peers"],lists:()=>[...l,"peers","list"],list:e=>[...l,"peers","list",e],detail:e=>[...l,"peers","detail",e],config:e=>[...l,"peers","config",e]},dashboard:()=>[...l,"dashboard"]};function o(e={}){return(0,a.a)({queryKey:c.servers.list(e),queryFn:async()=>{let s=new URLSearchParams;e.status&&s.append("status",e.status),e.location&&s.append("location",e.location),e.limit&&s.append("limit",String(e.limit)),e.offset&&s.append("offset",String(e.offset));let t=`${d}/servers?${s.toString()}`;return(await n.x1.get(t)).data},staleTime:3e4})}function p(e){return(0,a.a)({queryKey:c.servers.detail(e),queryFn:async()=>(await n.x1.get(`${d}/servers/${e}`)).data,enabled:!!e,staleTime:6e4})}function m(e){return(0,a.a)({queryKey:c.servers.health(e),queryFn:async()=>(await n.x1.get(`${d}/servers/${e}/health`)).data,enabled:!!e,staleTime:1e4,refetchInterval:3e4})}function u(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async e=>(await n.x1.post(`${d}/servers`,e)).data,onSuccess:()=>{e.invalidateQueries({queryKey:c.servers.lists()}),e.invalidateQueries({queryKey:c.dashboard()})}})}function x(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async({serverId:e,data:s})=>(await n.x1.patch(`${d}/servers/${e}`,s)).data,onSuccess:(s,t)=>{e.invalidateQueries({queryKey:c.servers.detail(t.serverId)}),e.invalidateQueries({queryKey:c.servers.lists()}),e.invalidateQueries({queryKey:c.dashboard()})}})}function h(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async e=>(await n.x1.delete(`${d}/servers/${e}`),e),onSuccess:()=>{e.invalidateQueries({queryKey:c.servers.lists()}),e.invalidateQueries({queryKey:c.dashboard()})}})}function g(e={}){return(0,a.a)({queryKey:c.peers.list(e),queryFn:async()=>{let s=new URLSearchParams;e.server_id&&s.append("server_id",e.server_id),e.customer_id&&s.append("customer_id",e.customer_id),e.subscriber_id&&s.append("subscriber_id",e.subscriber_id),e.status&&s.append("status",e.status),e.limit&&s.append("limit",String(e.limit)),e.offset&&s.append("offset",String(e.offset));let t=`${d}/peers?${s.toString()}`;return(await n.x1.get(t)).data},staleTime:3e4})}function f(e){return(0,a.a)({queryKey:c.peers.detail(e),queryFn:async()=>(await n.x1.get(`${d}/peers/${e}`)).data,enabled:!!e,staleTime:6e4})}function j(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async e=>(await n.x1.post(`${d}/peers`,e)).data,onSuccess:s=>{e.invalidateQueries({queryKey:c.peers.lists()}),e.invalidateQueries({queryKey:c.servers.detail(s.server_id)}),e.invalidateQueries({queryKey:c.dashboard()})}})}function b(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async({peerId:e,data:s})=>(await n.x1.patch(`${d}/peers/${e}`,s)).data,onSuccess:(s,t)=>{e.invalidateQueries({queryKey:c.peers.detail(t.peerId)}),e.invalidateQueries({queryKey:c.peers.lists()}),e.invalidateQueries({queryKey:c.servers.detail(s.server_id)}),e.invalidateQueries({queryKey:c.dashboard()})}})}function v(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async e=>(await n.x1.delete(`${d}/peers/${e}`),e),onSuccess:()=>{e.invalidateQueries({queryKey:c.peers.lists()}),e.invalidateQueries({queryKey:c.servers.lists()}),e.invalidateQueries({queryKey:c.dashboard()})}})}function N(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async e=>(await n.x1.post(`${d}/peers/${e}/regenerate`)).data,onSuccess:(s,t)=>{e.invalidateQueries({queryKey:c.peers.detail(t)}),e.invalidateQueries({queryKey:c.peers.config(t)})}})}function y(){return(0,a.a)({queryKey:c.dashboard(),queryFn:async()=>(await n.x1.get(`${d}/dashboard`)).data,staleTime:1e4,refetchInterval:3e4})}function w(){let e=(0,r.NL)();return(0,i.D)({mutationFn:async e=>(await n.x1.post(`${d}/provision`,e)).data,onSuccess:()=>{e.invalidateQueries({queryKey:c.peers.lists()}),e.invalidateQueries({queryKey:c.servers.lists()}),e.invalidateQueries({queryKey:c.dashboard()})}})}function _(){return(0,i.D)({mutationFn:async e=>{let s=(await n.x1.get(`${d}/peers/${e}/config`)).data,t=new Blob([s.config_file],{type:"text/plain"}),a=window.URL.createObjectURL(t),r=document.createElement("a");return r.href=a,r.download=`${s.peer_name}.conf`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a),s}})}},89098:(e,s,t)=>{"use strict";var a,r;t.d(s,{Aj:()=>i,Cz:()=>n,Sc:()=>r,dN:()=>a,pi:()=>l,td:()=>d}),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.DEGRADED="degraded",e.MAINTENANCE="maintenance"}(a||(a={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.DISABLED="disabled",e.EXPIRED="expired"}(r||(r={}));let i={active:"bg-green-500",inactive:"bg-gray-500",degraded:"bg-yellow-500",maintenance:"bg-blue-500"},n={active:"bg-green-500",inactive:"bg-gray-500",disabled:"bg-red-500",expired:"bg-orange-500"};function d(e){if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,s)).toFixed(2))} ${["B","KB","MB","GB","TB"][s]}`}function l(e){if(!e)return"Never";let s=Math.floor((new Date().getTime()-new Date(e).getTime())/1e3),t=Math.floor(s/60),a=Math.floor(t/60),r=Math.floor(a/24);return r>0?`${r}d ago`:a>0?`${a}h ago`:t>0?`${t}m ago`:`${s}s ago`}},77550:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,dynamic:()=>r,dynamicParams:()=>i});var a=t(68570);let r=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network/wireguard/peers/[id]/page.tsx#dynamic`),i=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network/wireguard/peers/[id]/page.tsx#dynamicParams`),n=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/network/wireguard/peers/[id]/page.tsx#default`)}};var s=require("../../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[2793,1009,6226,657,6032,4218],()=>t(95842));module.exports=a})();