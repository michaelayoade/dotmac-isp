(()=>{var e={};e.id=5465,e.ids=[5465],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},28612:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(33936),t(13321),t(46366),t(96560);var r=t(23191),a=t(88716),i=t(37922),n=t.n(i),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["dashboard",{children:["wireless",{children:["coverage",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,33936)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/wireless/coverage/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],c=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/wireless/coverage/page.tsx"],x="/dashboard/wireless/coverage/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/wireless/coverage/page",pathname:"/dashboard/wireless/coverage",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},65384:(e,s,t)=>{Promise.resolve().then(t.bind(t,94316))},94316:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(10326),a=t(17577),i=t(48723),n=t(46502),l=t(51716),o=t(36607),d=t(21405),c=t(66697),x=t(77636),m=t(32534),h=t(41137),u=t(88307),p=t(11890),g=t(39183),j=t(90434);function v(){let{hasPermission:e}=(0,n.ss)(),s=o.LM.features.enableNetwork&&e("isp.ipam.read"),[t,v]=(0,a.useState)(""),[f]=(0,a.useState)(50),[N,b]=(0,a.useState)(0),{zones:w,total:C,hasNextPage:y,loading:P,error:q,refetch:k}=(0,l.k_)({limit:f,offset:N,search:t,pollInterval:6e4});if(!s)return(0,r.jsx)("main",{className:"max-w-7xl mx-auto px-6 py-12 space-y-8",children:(0,r.jsx)(i.Card,{children:(0,r.jsxs)(i.CardHeader,{children:[(0,r.jsx)(i.CardTitle,{children:"Coverage Zones"}),(0,r.jsxs)(i.CardDescription,{children:["Access requires ",(0,r.jsx)("code",{children:"isp.ipam.read"})," permission."]})]})})});let S=e=>e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),A=e=>e?e>=-50?"text-green-600":e>=-70?"text-amber-600":"text-red-600":"text-gray-600",z=e=>{switch(e){case"PRIMARY":return"default";case"SECONDARY":default:return"secondary";case"OVERLAP":return"outline"}};return(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-12 space-y-8",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Coverage Zones"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Wireless coverage area definitions and signal strength mapping"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.Button,{variant:"outline",onClick:()=>k(),children:[(0,r.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,r.jsx)(j.default,{href:"/dashboard/wireless",children:(0,r.jsxs)(i.Button,{variant:"outline",children:[(0,r.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})]})]}),!P&&w.length>0&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)(i.Card,{children:[(0,r.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Total Zones"}),(0,r.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(i.CardContent,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:C})})]}),(0,r.jsxs)(i.Card,{children:[(0,r.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Avg Coverage Radius"}),(0,r.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(i.CardContent,{children:(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[(w.reduce((e,s)=>e+((s.coverageAreaSqm?Math.sqrt(s.coverageAreaSqm/Math.PI):0)||0),0)/w.length).toFixed(0),"m"]})})]}),(0,r.jsxs)(i.Card,{children:[(0,r.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Avg Signal Strength"}),(0,r.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(i.CardContent,{children:(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[(w.reduce((e,s)=>e+(s.signalStrengthAvgDbm||0),0)/w.filter(e=>e.signalStrengthAvgDbm).length).toFixed(1)," ","dBm"]})})]}),(0,r.jsxs)(i.Card,{children:[(0,r.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Total Coverage Area"}),(0,r.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(i.CardContent,{children:(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[w.reduce((e,s)=>e+((s.coverageAreaSqm?Math.sqrt(s.coverageAreaSqm/Math.PI):0)?Math.PI*Math.pow((s.coverageAreaSqm?Math.sqrt(s.coverageAreaSqm/Math.PI):0)/1e3,2):0),0).toFixed(2)," ","km\xb2"]})})]})]}),(0,r.jsxs)(i.Card,{children:[(0,r.jsx)(i.CardHeader,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5"}),(0,r.jsx)(i.CardTitle,{children:"Filters"})]}),(0,r.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>v(""),children:"Clear Filters"})]})}),(0,r.jsx)(i.CardContent,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.Label,{htmlFor:"search",children:"Search"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(i.Input,{id:"search",placeholder:"Search zones by name...",value:t,onChange:e=>{v(e.target.value),b(0)},className:"pl-8"})]})]})})]}),(0,r.jsxs)(i.Card,{children:[(0,r.jsxs)(i.CardHeader,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(i.CardTitle,{children:["Coverage Zones"," ",C>0&&(0,r.jsxs)("span",{className:"text-muted-foreground",children:["(",C,")"]})]}),P&&(0,r.jsx)(i.Badge,{variant:"outline",children:"Loading..."})]}),q&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:q})]}),(0,r.jsx)(i.CardContent,{children:0!==w.length||P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(e=>(0,r.jsxs)(i.Card,{className:"hover:border-primary/50 transition-colors",children:[(0,r.jsx)(i.CardHeader,{children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,r.jsx)(i.CardTitle,{className:"text-lg",children:e.name}),(0,r.jsx)(i.CardDescription,{children:"Unknown Access Point"})]}),e.areaType&&(0,r.jsx)(i.Badge,{variant:z(e.areaType),children:S(e.areaType)})]})}),(0,r.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:"Location"}),(0,r.jsxs)("div",{className:"font-mono text-xs text-muted-foreground",children:["Site: ",e.siteName||e.siteId]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-muted-foreground mb-1",children:"Coverage Radius"}),(0,r.jsx)("div",{className:"font-medium",children:(e.coverageAreaSqm?Math.sqrt(e.coverageAreaSqm/Math.PI):0)?`${(e.coverageAreaSqm?Math.sqrt(e.coverageAreaSqm/Math.PI):0).toFixed(0)}m`:"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-muted-foreground mb-1",children:"Signal Strength"}),(0,r.jsx)("div",{className:`font-medium ${A(e.signalStrengthAvgDbm)}`,children:e.signalStrengthAvgDbm?`${e.signalStrengthAvgDbm} dBm`:"-"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Frequency Band"}),(0,r.jsx)(i.Badge,{variant:"outline",children:"Mixed Bands"})]}),e.description&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),(0,r.jsx)("div",{className:"text-sm",children:e.description})]}),(0,r.jsxs)(i.Button,{variant:"outline",className:"w-full mt-2",size:"sm",children:[(0,r.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"View on Map"]})]})]},e.id))}),C>f&&(0,r.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t mt-6",children:[(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",N+1," to ",Math.min(N+f,C)," of"," ",C," zones"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{N>0&&b(Math.max(0,N-f))},disabled:0===N||P,children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,r.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{y&&b(N+f)},disabled:!y||P,children:["Next",(0,r.jsx)(g.Z,{className:"h-4 w-4 ml-1"})]})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(x.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No coverage zones found"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:t?"Try adjusting your search":"No coverage zones have been defined yet"}),(0,r.jsx)(i.Button,{variant:"outline",onClick:()=>k(),children:"Refresh"})]})})]}),(0,r.jsxs)(i.Card,{children:[(0,r.jsxs)(i.CardHeader,{children:[(0,r.jsx)(i.CardTitle,{children:"Coverage Map"}),(0,r.jsx)(i.CardDescription,{children:"Geographic visualization of wireless coverage zones"})]}),(0,r.jsx)(i.CardContent,{children:(0,r.jsx)("div",{className:"h-96 rounded-lg border bg-muted flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)(x.Z,{className:"h-8 w-8 mx-auto text-muted-foreground"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Interactive coverage map will be displayed here"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Showing ",w.length," coverage zones"]})]})})})]})]})}},51716:(e,s,t)=>{"use strict";t.d(s,{ET:()=>m,OP:()=>p,SN:()=>n,Se:()=>x,TJ:()=>u,Uk:()=>d,cM:()=>l,hH:()=>h,k_:()=>c,t7:()=>o});var r=t(19228);let a=e=>void 0!==e,i=(e,s,t,r)=>!!s&&!r&&!t&&e;function n(e={}){let{limit:s=50,offset:t=0,status:n,siteId:l,search:o,enabled:d=!0,pollInterval:c=3e4}=e,{data:x,loading:m,error:h,refetch:u}=(0,r.sh8)({variables:{limit:s,offset:t,status:n,siteId:l,search:o||void 0},skip:!d,pollInterval:c,fetchPolicy:"cache-and-network"}),p=x?.accessPoints?.accessPoints??[];return{accessPoints:p,total:x?.accessPoints?.totalCount??0,hasNextPage:x?.accessPoints?.hasNextPage??!1,limit:s,offset:t,loading:i(m,d,a(x),h),error:h?.message,refetch:u}}function l(e){let{id:s,enabled:t=!0,pollInterval:n=1e4}=e,{data:l,loading:o,error:d,refetch:c}=(0,r.Bvd)({variables:{id:s},skip:!t||!s,pollInterval:n,fetchPolicy:"cache-and-network"});return{accessPoint:l?.accessPoint??null,loading:i(o,t&&!!s,a(l),d),error:d?.message,refetch:c}}function o(e={}){let{limit:s=50,offset:t=0,accessPointId:n,customerId:l,frequencyBand:o,search:d,enabled:c=!0,pollInterval:x=15e3}=e,{data:m,loading:h,error:u,refetch:p}=(0,r.VHq)({variables:{limit:s,offset:t,accessPointId:n,customerId:l,frequencyBand:o,search:d||void 0},skip:!c,pollInterval:x,fetchPolicy:"cache-and-network"}),g=m?.wirelessClients?.clients??[];return{clients:g,total:m?.wirelessClients?.totalCount??0,hasNextPage:m?.wirelessClients?.hasNextPage??!1,limit:s,offset:t,loading:i(h,c,a(m),u),error:u?.message,refetch:p}}function d(e){let{accessPointId:s,enabled:t=!0,pollInterval:n=15e3}=e,{data:l,loading:o,error:d,refetch:c}=(0,r.yGZ)({variables:{accessPointId:s},skip:!t||!s,pollInterval:n,fetchPolicy:"cache-and-network"});return{clients:l?.wirelessClientsByAccessPoint??[],loading:i(o,t&&!!s,a(l),d),error:d?.message,refetch:c}}function c(e={}){let{limit:s=50,offset:t=0,siteId:n,search:l,enabled:o=!0,pollInterval:d=6e4}=e,{data:c,loading:x,error:m,refetch:h}=(0,r.tFq)({variables:{limit:s,offset:t,siteId:n},skip:!o,pollInterval:d,fetchPolicy:"cache-and-network"}),u=c?.coverageZones?.zones??[];return{zones:u,total:c?.coverageZones?.totalCount??0,hasNextPage:c?.coverageZones?.hasNextPage??!1,limit:s,offset:t,loading:i(x,o,a(c),m),error:m?.message,refetch:h}}function x(e){let{siteId:s,enabled:t=!0,pollInterval:n=3e4}=e,{data:l,loading:o,error:d,refetch:c}=(0,r.Gv9)({variables:{siteId:s},skip:!t||!s,pollInterval:n,fetchPolicy:"cache-and-network"});return{analytics:l?.rfAnalytics??null,loading:i(o,t&&!!s,a(l),d),error:d?.message,refetch:c}}function m(e){let{siteId:s,band:t,enabled:n=!0,pollInterval:l=3e4}=e,{data:o,loading:d,error:c,refetch:x}=(0,r.o2N)({variables:{siteId:s,frequencyBand:t},skip:!n||!s||!t,pollInterval:l,fetchPolicy:"cache-and-network"});return{channelUtilization:o?.channelUtilization??[],loading:i(d,n&&!!s&&!!t,a(o),c),error:c?.message,refetch:x}}function h(e={}){let{enabled:s=!0,pollInterval:t=3e4}=e,{data:n,loading:l,error:o,refetch:d}=(0,r.xFP)({skip:!s,pollInterval:t,fetchPolicy:"cache-and-network"});return{dashboard:n?.wirelessDashboard??null,loading:i(l,s,a(n),o),error:o?.message,refetch:d}}function u(e){return e?e>=-50?"Excellent":e>=-60?"Good":e>=-70?"Fair":"Poor":"Unknown"}function p(e){if(!e)return"Unknown";switch(e){case r.zvb.Band_2_4Ghz:return"2.4 GHz";case r.zvb.Band_5Ghz:return"5 GHz";case r.zvb.Band_6Ghz:return"6 GHz";default:return"Unknown"}}},33936:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/wireless/coverage/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[2793,1009,6226,657,6011,6032,4218,9228],()=>t(28612));module.exports=r})();