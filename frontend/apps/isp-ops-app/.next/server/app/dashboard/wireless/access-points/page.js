(()=>{var e={};e.id=5421,e.ids=[5421],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},69404:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),t(97209),t(13321),t(46366),t(96560);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["wireless",{children:["access-points",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,97209)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/wireless/access-points/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],o=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/wireless/access-points/page.tsx"],x="/dashboard/wireless/access-points/page",h={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/wireless/access-points/page",pathname:"/dashboard/wireless/access-points",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37480:(e,s,t)=>{Promise.resolve().then(t.bind(t,14470))},14470:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N,dynamic:()=>g});var a=t(10326),r=t(17577),l=t(48723),i=t(46502),n=t(51716),c=t(19228),d=t(93158),o=t(21405),x=t(66697),h=t(45091),u=t(41137),m=t(88307),p=t(11890),j=t(39183),f=t(90434);let g="force-dynamic",b=[c.zbi.Online,c.zbi.Offline,c.zbi.Degraded,c.zbi.Maintenance];function N(){let{hasPermission:e}=(0,i.ss)(),{features:s}=(0,d.M)(),t=s.enableNetwork&&e("isp.ipam.read"),[c,g]=(0,r.useState)(""),[N,v]=(0,r.useState)(void 0),[w,C]=(0,r.useState)(void 0),[y]=(0,r.useState)(50),[P,T]=(0,r.useState)(0),{accessPoints:k,total:A,hasNextPage:S,loading:q,error:D,refetch:H}=(0,n.SN)({limit:y,offset:P,status:N,siteId:w,search:c,pollInterval:6e4});if(!t)return(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-6 py-12 space-y-8",children:(0,a.jsx)(l.Card,{children:(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsx)(l.CardTitle,{children:"Access Points"}),(0,a.jsxs)(l.CardDescription,{children:["Access requires ",(0,a.jsx)("code",{children:"isp.ipam.read"})," permission."]})]})})});let z=e=>e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),_=e=>{switch(e){case"ONLINE":return"default";case"OFFLINE":return"destructive";case"DEGRADED":case"MAINTENANCE":return"secondary";default:return"outline"}},E=e=>{switch(e){case"ONLINE":return"bg-green-500";case"OFFLINE":return"bg-red-500";case"DEGRADED":return"bg-yellow-500";case"MAINTENANCE":return"bg-blue-500";default:return"bg-gray-500"}},B=e=>e>50?"text-red-600 font-semibold":e>30?"text-amber-600":"text-green-600";return(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-12 space-y-8",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Access Points"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage and monitor wireless access point infrastructure"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.Button,{variant:"outline",onClick:()=>H(),children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,a.jsx)(f.default,{href:"/dashboard/wireless",children:(0,a.jsxs)(l.Button,{variant:"outline",children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})]})]}),!q&&k.length>0&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Total Access Points"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:A})})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Online"}),(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:k.filter(e=>"ONLINE"===e.status).length})})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Offline"}),(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-red-500"})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:k.filter(e=>"OFFLINE"===e.status).length})})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Total Clients"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:k.reduce((e,s)=>e+(s.performance?.connectedClients||0),0)})})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),(0,a.jsx)(l.CardTitle,{children:"Filters"})]}),(0,a.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>{g(""),v(void 0),C(void 0),T(0)},children:"Clear Filters"})]})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"search",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(l.Input,{id:"search",placeholder:"Search by name, IP, or site...",value:c,onChange:e=>{g(e.target.value),T(0)},className:"pl-8"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(l.Select,{value:N||"all",onValueChange:e=>{v("all"===e?void 0:e),T(0)},children:[(0,a.jsx)(l.SelectTrigger,{id:"status",children:(0,a.jsx)(l.SelectValue,{placeholder:"All statuses"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"all",children:"All statuses"}),b.map(e=>(0,a.jsx)(l.SelectItem,{value:e,children:z(e)},e))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"site",children:"Site"}),(0,a.jsxs)(l.Select,{value:"all",onValueChange:e=>C("all"===e?void 0:e),children:[(0,a.jsx)(l.SelectTrigger,{id:"site",children:(0,a.jsx)(l.SelectValue,{placeholder:"All sites"})}),(0,a.jsx)(l.SelectContent,{children:(0,a.jsx)(l.SelectItem,{value:"all",children:"All sites"})})]})]})]})})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(l.CardTitle,{children:["Access Points"," ",A>0&&(0,a.jsxs)("span",{className:"text-muted-foreground",children:["(",A,")"]})]}),q&&(0,a.jsx)(l.Badge,{variant:"outline",children:"Loading..."})]}),D&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:D})]}),(0,a.jsx)(l.CardContent,{children:0!==k.length||q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(l.Table,{children:[(0,a.jsx)(l.TableHeader,{children:(0,a.jsxs)(l.TableRow,{children:[(0,a.jsx)(l.TableHead,{children:"Status"}),(0,a.jsx)(l.TableHead,{children:"Name"}),(0,a.jsx)(l.TableHead,{children:"Site"}),(0,a.jsx)(l.TableHead,{children:"IP Address"}),(0,a.jsx)(l.TableHead,{children:"MAC Address"}),(0,a.jsx)(l.TableHead,{className:"text-right",children:"Radios"}),(0,a.jsx)(l.TableHead,{className:"text-right",children:"Clients"}),(0,a.jsx)(l.TableHead,{className:"text-right",children:"Uptime"}),(0,a.jsx)(l.TableHead,{})]})}),(0,a.jsx)(l.TableBody,{children:k.map(e=>(0,a.jsxs)(l.TableRow,{children:[(0,a.jsx)(l.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`h-2 w-2 rounded-full ${E(e.status)}`}),(0,a.jsx)(l.Badge,{variant:_(e.status),children:z(e.status)})]})}),(0,a.jsx)(l.TableCell,{className:"font-medium",children:e.name}),(0,a.jsx)(l.TableCell,{className:"text-sm",children:e.siteName||"-"}),(0,a.jsx)(l.TableCell,{className:"font-mono text-xs",children:e.ipAddress||"-"}),(0,a.jsx)(l.TableCell,{className:"font-mono text-xs",children:e.macAddress||"-"}),(0,a.jsx)(l.TableCell,{className:"text-right",children:2}),(0,a.jsx)(l.TableCell,{className:"text-right",children:(0,a.jsx)("span",{className:B(e.performance?.connectedClients||0),children:e.performance?.connectedClients||0})}),(0,a.jsx)(l.TableCell,{className:"text-right text-sm",children:(e.lastRebootAt?Math.floor((Date.now()-new Date(e.lastRebootAt).getTime())/1e3):0)?`${Math.floor((e.lastRebootAt?Math.floor((Date.now()-new Date(e.lastRebootAt).getTime())/1e3):0)/3600)}h`:"-"}),(0,a.jsx)(l.TableCell,{children:(0,a.jsx)(f.default,{href:`/dashboard/wireless/access-points/${e.id}`,children:(0,a.jsx)(l.Button,{variant:"ghost",size:"sm",children:"Details"})})})]},e.id))})]})}),A>y&&(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",P+1," to ",Math.min(P+y,A)," of ",A," ","access points"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{P>0&&T(Math.max(0,P-y))},disabled:0===P||q,children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,a.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{S&&T(P+y)},disabled:!S||q,children:["Next",(0,a.jsx)(j.Z,{className:"h-4 w-4 ml-1"})]})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No access points found"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:c||N?"Try adjusting your filters":"No access points have been added to the system yet"}),(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>H(),children:"Refresh"})]})})]})]})}},51716:(e,s,t)=>{"use strict";t.d(s,{ET:()=>h,OP:()=>p,SN:()=>i,Se:()=>x,TJ:()=>m,Uk:()=>d,cM:()=>n,hH:()=>u,k_:()=>o,t7:()=>c});var a=t(19228);let r=e=>void 0!==e,l=(e,s,t,a)=>!!s&&!a&&!t&&e;function i(e={}){let{limit:s=50,offset:t=0,status:i,siteId:n,search:c,enabled:d=!0,pollInterval:o=3e4}=e,{data:x,loading:h,error:u,refetch:m}=(0,a.sh8)({variables:{limit:s,offset:t,status:i,siteId:n,search:c||void 0},skip:!d,pollInterval:o,fetchPolicy:"cache-and-network"}),p=x?.accessPoints?.accessPoints??[];return{accessPoints:p,total:x?.accessPoints?.totalCount??0,hasNextPage:x?.accessPoints?.hasNextPage??!1,limit:s,offset:t,loading:l(h,d,r(x),u),error:u?.message,refetch:m}}function n(e){let{id:s,enabled:t=!0,pollInterval:i=1e4}=e,{data:n,loading:c,error:d,refetch:o}=(0,a.Bvd)({variables:{id:s},skip:!t||!s,pollInterval:i,fetchPolicy:"cache-and-network"});return{accessPoint:n?.accessPoint??null,loading:l(c,t&&!!s,r(n),d),error:d?.message,refetch:o}}function c(e={}){let{limit:s=50,offset:t=0,accessPointId:i,customerId:n,frequencyBand:c,search:d,enabled:o=!0,pollInterval:x=15e3}=e,{data:h,loading:u,error:m,refetch:p}=(0,a.VHq)({variables:{limit:s,offset:t,accessPointId:i,customerId:n,frequencyBand:c,search:d||void 0},skip:!o,pollInterval:x,fetchPolicy:"cache-and-network"}),j=h?.wirelessClients?.clients??[];return{clients:j,total:h?.wirelessClients?.totalCount??0,hasNextPage:h?.wirelessClients?.hasNextPage??!1,limit:s,offset:t,loading:l(u,o,r(h),m),error:m?.message,refetch:p}}function d(e){let{accessPointId:s,enabled:t=!0,pollInterval:i=15e3}=e,{data:n,loading:c,error:d,refetch:o}=(0,a.yGZ)({variables:{accessPointId:s},skip:!t||!s,pollInterval:i,fetchPolicy:"cache-and-network"});return{clients:n?.wirelessClientsByAccessPoint??[],loading:l(c,t&&!!s,r(n),d),error:d?.message,refetch:o}}function o(e={}){let{limit:s=50,offset:t=0,siteId:i,search:n,enabled:c=!0,pollInterval:d=6e4}=e,{data:o,loading:x,error:h,refetch:u}=(0,a.tFq)({variables:{limit:s,offset:t,siteId:i},skip:!c,pollInterval:d,fetchPolicy:"cache-and-network"}),m=o?.coverageZones?.zones??[];return{zones:m,total:o?.coverageZones?.totalCount??0,hasNextPage:o?.coverageZones?.hasNextPage??!1,limit:s,offset:t,loading:l(x,c,r(o),h),error:h?.message,refetch:u}}function x(e){let{siteId:s,enabled:t=!0,pollInterval:i=3e4}=e,{data:n,loading:c,error:d,refetch:o}=(0,a.Gv9)({variables:{siteId:s},skip:!t||!s,pollInterval:i,fetchPolicy:"cache-and-network"});return{analytics:n?.rfAnalytics??null,loading:l(c,t&&!!s,r(n),d),error:d?.message,refetch:o}}function h(e){let{siteId:s,band:t,enabled:i=!0,pollInterval:n=3e4}=e,{data:c,loading:d,error:o,refetch:x}=(0,a.o2N)({variables:{siteId:s,frequencyBand:t},skip:!i||!s||!t,pollInterval:n,fetchPolicy:"cache-and-network"});return{channelUtilization:c?.channelUtilization??[],loading:l(d,i&&!!s&&!!t,r(c),o),error:o?.message,refetch:x}}function u(e={}){let{enabled:s=!0,pollInterval:t=3e4}=e,{data:i,loading:n,error:c,refetch:d}=(0,a.xFP)({skip:!s,pollInterval:t,fetchPolicy:"cache-and-network"});return{dashboard:i?.wirelessDashboard??null,loading:l(n,s,r(i),c),error:c?.message,refetch:d}}function m(e){return e?e>=-50?"Excellent":e>=-60?"Good":e>=-70?"Fair":"Poor":"Unknown"}function p(e){if(!e)return"Unknown";switch(e){case a.zvb.Band_2_4Ghz:return"2.4 GHz";case a.zvb.Band_5Ghz:return"5 GHz";case a.zvb.Band_6Ghz:return"6 GHz";default:return"Unknown"}}},97209:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,dynamic:()=>r});var a=t(68570);let r=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/wireless/access-points/page.tsx#dynamic`),l=(0,a.createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/wireless/access-points/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[2793,1009,6226,657,6011,6032,4218,9228],()=>t(69404));module.exports=a})();