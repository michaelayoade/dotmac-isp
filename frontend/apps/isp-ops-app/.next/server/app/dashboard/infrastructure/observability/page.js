(()=>{var e={};e.id=8811,e.ids=[8811],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},66595:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(9331),t(13321),t(46366),t(96560);var a=t(23191),r=t(88716),i=t(37922),n=t.n(i),d=t(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let c=["",{children:["dashboard",{children:["infrastructure",{children:["observability",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9331)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/infrastructure/observability/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],o=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/infrastructure/observability/page.tsx"],x="/dashboard/infrastructure/observability/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/infrastructure/observability/page",pathname:"/dashboard/infrastructure/observability",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},66706:(e,s,t)=>{Promise.resolve().then(t.bind(t,24917))},24917:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>E});var a=t(10326),r=t(17577),i=t(48723),n=t(66307),d=t(69669),l=t(41291),c=t(31540),o=t(21405),x=t(66697),m=t(77506),u=t(3634),h=t(12714),p=t(81538),j=t(56625),f=t(48998),g=t(93892),v=t(51110),y=t(88319),b=t(30660),N=t(10669),C=t(18423),w=t(62637),_=t(9997),T=t(42559),S=t(47445),q=t(14958),k=t(52735),L=t(74390),P=t(49844),Z=t(8564),D=t(94464),A=t(74250);function E(){let[e,s]=(0,r.useState)("24h"),[t,E]=(0,r.useState)("all"),{traces:$,isLoading:H,refetch:F}=function(e={}){let{toast:s}=(0,i.useToast)(),{apiBaseUrl:t}=(0,A.L)(),[a,n]=(0,r.useState)([]),[d,l]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null),[x,m]=(0,r.useState)({total:0,page:1,page_size:50,has_more:!1}),u=(0,r.useMemo)(()=>JSON.stringify(e??{}),[e]),h=(0,r.useMemo)(()=>JSON.parse(u),[u]);return{traces:a,isLoading:d,error:c,pagination:x,refetch:(0,r.useCallback)(async e=>{let a={...h,...e};try{l(!0),o(null);let e=new URLSearchParams;a.service&&e.append("service",a.service),a.status&&e.append("status",a.status),a.min_duration&&e.append("min_duration",a.min_duration.toString()),a.start_time&&e.append("start_time",a.start_time),a.end_time&&e.append("end_time",a.end_time),a.page&&e.append("page",a.page.toString()),a.page_size&&e.append("page_size",a.page_size.toString());let s=await D.default.get(`${t}/api/v1/observability/traces?${e.toString()}`,{withCredentials:!0});n(s.data.traces),m({total:s.data.total,page:s.data.page,page_size:s.data.page_size,has_more:s.data.has_more})}catch(t){let e=D.default.isAxiosError(t)?t.response?.data?.detail||"Failed to fetch traces":"An error occurred";o(e),s({title:"Error",description:e,variant:"destructive"})}finally{l(!1)}},[h,s,t]),fetchTraceDetails:async e=>{try{return(await D.default.get(`${t}/api/v1/observability/traces/${e}`,{withCredentials:!0})).data}catch(e){return console.error("Failed to fetch trace details:",e),null}}}}((0,r.useMemo)(()=>"all"!==t?{service:t}:{},[t])),{metrics:B,isLoading:R,refetch:M}=function(e){let{toast:s}=(0,i.useToast)(),{apiBaseUrl:t}=(0,A.L)(),[a,n]=(0,r.useState)([]),[d,l]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null);return{metrics:a,isLoading:d,error:c,refetch:(0,r.useCallback)(async(e,a,r)=>{let i=e||void 0;try{l(!0),o(null);let e=new URLSearchParams;i&&i.length>0&&e.append("metrics",i.join(",")),a&&e.append("start_time",a),r&&e.append("end_time",r);let s=await D.default.get(`${t}/api/v1/observability/metrics?${e.toString()}`,{withCredentials:!0});n(s.data.metrics)}catch(t){let e=D.default.isAxiosError(t)?t.response?.data?.detail||"Failed to fetch metrics":"An error occurred";o(e),s({title:"Error",description:e,variant:"destructive"})}finally{l(!1)}},[void 0,s,t])}}(),{serviceMap:U,isLoading:K,refetch:z}=function(){let{toast:e}=(0,i.useToast)(),{apiBaseUrl:s}=(0,A.L)(),[t,a]=(0,r.useState)(null),[n,d]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null);return{serviceMap:t,isLoading:n,error:l,refetch:(0,r.useCallback)(async()=>{try{d(!0),c(null);let e=await D.default.get(`${s}/api/v1/observability/service-map`,{withCredentials:!0});a(e.data)}catch(t){let s=D.default.isAxiosError(t)?t.response?.data?.detail||"Failed to fetch service map":"An error occurred";c(s),e({title:"Error",description:s,variant:"destructive"})}finally{d(!1)}},[e,s])}}(),{performance:O,isLoading:G,refetch:V}=function(){let{toast:e}=(0,i.useToast)(),{apiBaseUrl:s}=(0,A.L)(),[t,a]=(0,r.useState)(null),[n,d]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null);return{performance:t,isLoading:n,error:l,refetch:(0,r.useCallback)(async()=>{try{d(!0),c(null);let e=await D.default.get(`${s}/api/v1/observability/performance`,{withCredentials:!0});a(e.data)}catch(t){let s=D.default.isAxiosError(t)?t.response?.data?.detail||"Failed to fetch performance metrics":"An error occurred";c(s),e({title:"Error",description:s,variant:"destructive"})}finally{d(!1)}},[e,s])}}(),W=H||R||K||G,I=e=>{switch(e){case"success":return(0,a.jsx)(i.Badge,{variant:"default",className:"bg-green-500",children:"Success"});case"error":return(0,a.jsx)(i.Badge,{variant:"destructive",children:"Error"});case"warning":return(0,a.jsx)(i.Badge,{variant:"secondary",children:"Warning"});default:return(0,a.jsx)(i.Badge,{variant:"outline",children:"Unknown"})}},J=e=>{switch(e){case"success":return(0,a.jsx)(n.Z,{className:"h-4 w-4 text-green-600 dark:text-green-400"});case"error":return(0,a.jsx)(d.Z,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"warning":return(0,a.jsx)(l.Z,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});default:return(0,a.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})}},X=B&&B.length>0&&B[0]?.data_points?B[0].data_points.map((e,s)=>({time:new Date(e.timestamp).toLocaleTimeString(),requests:B.find(e=>"request_count"===e.name)?.data_points?.[s]?.value||0,errors:B.find(e=>"error_count"===e.name)?.data_points?.[s]?.value||0,latency:B.find(e=>"latency_ms"===e.name)?.data_points?.[s]?.value||0})):[],Q=B.find(e=>"request_count"===e.name)?.data_points?.reduce((e,s)=>e+s.value,0)||0,Y=B.find(e=>"error_count"===e.name)?.data_points?.reduce((e,s)=>e+s.value,0)||0,ee=Q>0?Y/Q*100:0,es=B.find(e=>"latency_ms"===e.name),et=es?.data_points?.reduce((e,s)=>e+s.value,0)??0,ea=es?.data_points?.length??1;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Observability"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Monitor traces, metrics, and system performance"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:e,onChange:e=>s(e.target.value),className:"h-10 w-[120px] rounded-md border border-border bg-card px-3 text-sm text-foreground",children:[(0,a.jsx)("option",{value:"1h",children:"Last Hour"}),(0,a.jsx)("option",{value:"6h",children:"Last 6 Hours"}),(0,a.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,a.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,a.jsx)("option",{value:"30d",children:"Last 30 Days"})]}),(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([JSON.stringify({traces:$,metrics:B,serviceMap:U,performance:O,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=`observability-${new Date().toISOString()}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s)},children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,a.jsxs)(i.Button,{onClick:()=>{F(),M(),z(),V()},disabled:W,size:"sm",children:[(0,a.jsx)(o.Z,{className:`h-4 w-4 mr-2 ${W?"animate-spin":""}`}),"Refresh"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Total Requests"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:R?(0,a.jsx)(m.Z,{className:"h-6 w-6 animate-spin"}):Q>=1e6?`${(Q/1e6).toFixed(1)}M`:Q>=1e3?`${(Q/1e3).toFixed(1)}K`:Q}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Error Rate"}),(0,a.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:R?(0,a.jsx)(m.Z,{className:"h-6 w-6 animate-spin"}):`${ee.toFixed(2)}%`}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[Y," errors"]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Avg Latency"}),(0,a.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:R?(0,a.jsx)(m.Z,{className:"h-6 w-6 animate-spin"}):`${(et/ea).toFixed(0)}ms`}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Active Traces"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:H?(0,a.jsx)(m.Z,{className:"h-6 w-6 animate-spin"}):$.length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Across ",U?.services.length||0," services"]})]})]})]}),(0,a.jsxs)(i.Tabs,{defaultValue:"traces",children:[(0,a.jsxs)(i.TabsList,{children:[(0,a.jsx)(i.TabsTrigger,{value:"traces",children:"Distributed Traces"}),(0,a.jsx)(i.TabsTrigger,{value:"metrics",children:"Metrics"}),(0,a.jsx)(i.TabsTrigger,{value:"dependencies",children:"Service Map"}),(0,a.jsx)(i.TabsTrigger,{value:"performance",children:"Performance"})]}),(0,a.jsx)(i.TabsContent,{value:"traces",className:"space-y-4",children:(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(i.CardTitle,{children:"Recent Traces"}),(0,a.jsxs)("select",{value:t,onChange:e=>E(e.target.value),className:"h-10 w-[200px] rounded-md border border-border bg-card px-3 text-sm text-foreground",children:[(0,a.jsx)("option",{value:"all",children:"All Services"}),U?.services.map(e=>a.jsx("option",{value:e,children:e},e))]})]})}),(0,a.jsx)(i.CardContent,{children:H?(0,a.jsxs)("div",{className:"flex items-center justify-center h-[400px]",children:[(0,a.jsx)(m.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,a.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading traces..."})]}):(0,a.jsx)("div",{className:"space-y-4",children:$.slice(0,10).map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[J(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:e.operation}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Service: ",e.service," • Trace ID: ",e.trace_id]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(p.Z,{className:"h-3 w-3"}),e.duration,"ms"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.Z,{className:"h-3 w-3"}),e.spans," spans"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.Z,{className:"h-3 w-3"}),new Date(e.timestamp).toLocaleTimeString()]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[I(e.status),(0,a.jsx)(i.Button,{size:"sm",variant:"outline",children:"View Details"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"Trace Timeline"}),(0,a.jsx)("div",{className:"h-8 bg-muted rounded relative overflow-hidden",children:(0,a.jsx)("div",{className:`h-full ${"success"===e.status?"bg-green-400 dark:bg-green-600":"error"===e.status?"bg-red-400 dark:bg-red-600":"bg-yellow-400 dark:bg-yellow-600"}`,style:{width:`${Math.min(e.duration/2e3*100,100)}%`}})})]})]},e.trace_id))})})]})}),(0,a.jsx)(i.TabsContent,{value:"metrics",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Request Volume"})}),(0,a.jsx)(i.CardContent,{children:R?(0,a.jsx)("div",{className:"flex items-center justify-center h-[300px]",children:(0,a.jsx)(m.Z,{className:"h-8 w-8 animate-spin"})}):(0,a.jsx)(b.h,{width:"100%",height:300,children:(0,a.jsxs)(N.T,{data:X,children:[(0,a.jsx)(C.q,{strokeDasharray:"3 3"}),(0,a.jsx)(w.K,{dataKey:"time"}),(0,a.jsx)(_.B,{}),(0,a.jsx)(T.u,{}),(0,a.jsx)(S.u,{type:"monotone",dataKey:"requests",stroke:"#3b82f6",fill:"#93c5fd",fillOpacity:.6,strokeWidth:2})]})})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Latency Trend"})}),(0,a.jsx)(i.CardContent,{children:R?(0,a.jsx)("div",{className:"flex items-center justify-center h-[300px]",children:(0,a.jsx)(m.Z,{className:"h-8 w-8 animate-spin"})}):(0,a.jsx)(b.h,{width:"100%",height:300,children:(0,a.jsxs)(q.w,{data:X,children:[(0,a.jsx)(C.q,{strokeDasharray:"3 3"}),(0,a.jsx)(w.K,{dataKey:"time"}),(0,a.jsx)(_.B,{}),(0,a.jsx)(T.u,{}),(0,a.jsx)(k.D,{}),(0,a.jsx)(L.x,{type:"monotone",dataKey:"latency",stroke:"#10b981",name:"Avg Latency (ms)",strokeWidth:2}),(0,a.jsx)(L.x,{type:"monotone",dataKey:"errors",stroke:"#ef4444",name:"Errors",strokeWidth:2})]})})})]}),(0,a.jsxs)(i.Card,{className:"lg:col-span-2",children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Service Health Score"})}),(0,a.jsx)(i.CardContent,{children:K?(0,a.jsx)("div",{className:"flex items-center justify-center h-[200px]",children:(0,a.jsx)(m.Z,{className:"h-8 w-8 animate-spin"})}):(0,a.jsx)("div",{className:"space-y-4",children:U?.services.map(e=>{let s=U.health_scores[e]||0;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:e}),a.jsxs("span",{className:"text-sm font-medium",children:[s.toFixed(0),"%"]})]}),a.jsx(i.Progress,{value:s,className:"h-2"})]},e)})})})]})]})}),(0,a.jsx)(i.TabsContent,{value:"dependencies",className:"space-y-4",children:(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{children:"Service Dependency Map"}),(0,a.jsx)(i.CardDescription,{children:"Visualize service interactions and dependencies"})]}),(0,a.jsx)(i.CardContent,{children:K?(0,a.jsx)("div",{className:"flex items-center justify-center h-[400px]",children:(0,a.jsx)(m.Z,{className:"h-8 w-8 animate-spin"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsx)(i.Card,{children:(0,a.jsx)(i.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Total Services"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:U?.services.length||0})]})})}),(0,a.jsx)(i.Card,{children:(0,a.jsx)(i.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Active Connections"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:U?.dependencies.length||0})]})})}),(0,a.jsx)(i.Card,{children:(0,a.jsx)(i.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Avg Error Rate"})]}),(0,a.jsxs)("span",{className:"text-2xl font-bold",children:[((U?.dependencies.reduce((e,s)=>e+s.error_rate,0)||0)/(U?.dependencies.length||1)*100).toFixed(2),"%"]})]})})})]}),(0,a.jsx)("div",{className:"space-y-3",children:U?.dependencies.map((e,s)=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium",children:[e.from_service," → ",e.to_service]}),a.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[e.request_count.toLocaleString()," requests •"," ",e.avg_latency.toFixed(1),"ms avg latency"]})]}),a.jsxs(i.Badge,{variant:e.error_rate>.05?"destructive":"outline",children:[(100*e.error_rate).toFixed(2),"% errors"]})]})},s))})]})})]})}),(0,a.jsxs)(i.TabsContent,{value:"performance",className:"space-y-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{children:"Performance Percentiles"}),(0,a.jsx)(i.CardDescription,{children:"Response time percentiles compared to SLA targets"})]}),(0,a.jsx)(i.CardContent,{children:G?(0,a.jsx)("div",{className:"flex items-center justify-center h-[300px]",children:(0,a.jsx)(m.Z,{className:"h-8 w-8 animate-spin"})}):(0,a.jsx)(b.h,{width:"100%",height:300,children:(0,a.jsxs)(P.v,{data:O?.percentiles||[],children:[(0,a.jsx)(C.q,{strokeDasharray:"3 3"}),(0,a.jsx)(w.K,{dataKey:"percentile"}),(0,a.jsx)(_.B,{}),(0,a.jsx)(T.u,{}),(0,a.jsx)(k.D,{}),(0,a.jsx)(Z.$,{dataKey:"value",fill:"#3b82f6",name:"Actual"}),(0,a.jsx)(Z.$,{dataKey:"target",fill:"hsl(var(--muted))",name:"Target"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Slowest Endpoints"})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"space-y-3",children:O?.slowest_endpoints.map((e,s)=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:e.endpoint}),a.jsxs(i.Badge,{variant:e.avg_latency>2e3?"destructive":"secondary",children:[e.avg_latency,"ms"]})]},s))})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Most Frequent Errors"})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"space-y-3",children:O?.most_frequent_errors.map((e,s)=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:e.error_type}),a.jsxs(i.Badge,{variant:"secondary",children:[e.status_code," (",e.count,")"]})]},s))})})]})]})]})]})]})}},9331:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/infrastructure/observability/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[2793,1009,6226,657,6032,4218],()=>t(66595));module.exports=a})();