(()=>{var e={};e.id=7049,e.ids=[7049],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},26535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(94619),s(13321),s(46366),s(96560);var r=s(23191),a=s(88716),i=s(37922),n=s.n(i),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["dashboard",{children:["billing-revenue",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94619)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/billing-revenue/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],d=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/billing-revenue/page.tsx"],u="/dashboard/billing-revenue/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/billing-revenue/page",pathname:"/dashboard/billing-revenue",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},12594:(e,t,s)=>{Promise.resolve().then(s.bind(s,26321))},26321:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var r=s(10326),a=s(17577),i=s(90434),n=s(28916),l=s(71821),o=s(48705),c=s(36283),d=s(41291),u=s(44713),m=s(37358),x=s(43460),p=s(57176),g=s(59341),h=s(20892),b=s(48723),v=s(21030);function f({data:e}){let t=e.map(e=>({label:e.month,value:e.revenue}));return(0,r.jsxs)("div",{className:"rounded-lg border border-border bg-card p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Revenue Trend"}),(0,r.jsx)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-600 dark:bg-blue-400"}),(0,r.jsx)("span",{children:"MRR"})]})})]}),(0,r.jsx)(v.w,{data:t,height:220,showGrid:!0,showLabels:!0,showValues:!0,animated:!0,gradient:!0})]})}function j({items:e}){let t={success:"text-green-600 dark:text-green-400",pending:"text-yellow-600 dark:text-yellow-400",failed:"text-red-600 dark:text-red-400"};return(0,r.jsxs)("div",{className:"rounded-lg border border-border bg-card",children:[(0,r.jsx)("div",{className:"p-6 border-b border-border",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Recent Transactions"})}),(0,r.jsx)("div",{className:"divide-y divide-border",children:0===e.length?(0,r.jsx)("div",{className:"p-6 text-center text-muted-foreground",children:"No recent transactions"}):e.map(e=>(0,r.jsx)("div",{className:"p-4 hover:bg-accent/50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-accent rounded-lg",children:(0,r.jsx)(n.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-foreground",children:e.description}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.timestamp})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-medium text-foreground",children:["$",(e.amount/100).toFixed(2)]}),(0,r.jsx)("p",{className:`text-xs ${t[e.status]}`,children:e.status})]})]})},e.id))})]})}function y(){let[e,t]=(0,a.useState)(null),[s,h]=(0,a.useState)([]),[v,y]=(0,a.useState)([]),[N,w]=(0,a.useState)(!0),[C,S]=(0,a.useState)(null),M=async()=>{try{w(!0),S(null);let e=await x.vY.getBillingMetrics();t(e);try{let e=await g.x1.get("/billing/payments?limit=5");if(e.data?.payments){let t=e.data.payments.map((e,t)=>({id:e.id||`trans-${t}`,type:e.type||"payment",description:e.description||`Payment from ${e.customer_name||"Customer"}`,amount:e.amount||0,timestamp:e.created_at?new Date(e.created_at).toLocaleString():"Recently",status:e.status||"pending"}));h(t)}}catch(e){console.error("Failed to fetch recent transactions:",e)}if(e.revenue.mrr>0){let t=e.revenue.mrr,s=e.revenue.revenueGrowth/100,r=["Jan","Feb","Mar","Apr","May","Jun"].map((r,a)=>({month:r,revenue:Math.round(t*(1+s*(a-3)/3)),subscriptions:e.subscriptions.active+Math.round((a-3)*5)}));y(r)}}catch(e){console.error("Failed to fetch billing metrics:",e),S(e instanceof Error?e.message:"Failed to load billing data")}finally{w(!1)}};return(0,r.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,r.jsx)(b.Breadcrumb,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Billing & Revenue"}]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Billing & Revenue"}),(0,r.jsx)("p",{className:"mt-2 text-sm md:text-base text-muted-foreground",children:"Manage invoices, subscriptions, payments, and pricing plans"})]}),(0,r.jsx)(p.Y,{category:"billing",maxAlerts:3}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.SkeletonMetricCard,{}),(0,r.jsx)(b.SkeletonMetricCard,{}),(0,r.jsx)(b.SkeletonMetricCard,{}),(0,r.jsx)(b.SkeletonMetricCard,{})]}):C?(0,r.jsx)("div",{className:"col-span-full",children:(0,r.jsx)(b.ErrorState,{message:C,onRetry:M,variant:"card"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.MetricCardEnhanced,{title:"Monthly Recurring Revenue",value:e?.revenue.mrr||0,subtitle:"MRR",icon:l.Z,trend:{value:e?.revenue.revenueGrowth||0,isPositive:(e?.revenue.revenueGrowth||0)>0},currency:!0,emptyStateMessage:"No revenue data available yet"}),(0,r.jsx)(b.MetricCardEnhanced,{title:"Active Subscriptions",value:e?.subscriptions.active||0,subtitle:`${e?.subscriptions.trial||0} in trial`,icon:o.Z,trend:{value:Math.abs(e?.subscriptions.churnRate||0),isPositive:5>(e?.subscriptions.churnRate||0)},href:"/dashboard/billing-revenue/subscriptions",emptyStateMessage:"No active subscriptions"}),(0,r.jsx)(b.MetricCardEnhanced,{title:"Outstanding Invoices",value:e?.invoices.pending||0,subtitle:`${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e?.invoices.overdueAmount||0)} overdue`,icon:c.Z,href:"/dashboard/billing-revenue/invoices",emptyStateMessage:"No pending invoices"}),(0,r.jsx)(b.MetricCardEnhanced,{title:"Payment Success Rate",value:`${e?.payments.successRate||0}%`,subtitle:`${e?.payments.failed||0} failed`,icon:n.Z,emptyStateMessage:"No payment data yet"})]})}),e?.invoices.overdue&&e.invoices.overdue>0&&(0,r.jsx)("div",{className:"rounded-lg border border-orange-900/20 bg-orange-950/20 p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5 text-orange-400 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-orange-400",children:"Payment Attention Required"}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:[e.invoices.overdue," invoices are overdue totaling"," ",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.invoices.overdueAmount||0),".",(0,r.jsx)(i.default,{href:"/dashboard/billing-revenue/invoices?status=overdue",className:"ml-2 text-orange-400 hover:text-orange-300",children:"View overdue invoices â†’"})]})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsx)(f,{data:v}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Billing Management"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)(i.default,{href:"/dashboard/billing-revenue/invoices",className:"flex items-center gap-4 rounded-lg border border-border bg-card p-4 hover:border-border transition-colors",children:[(0,r.jsx)("div",{className:"p-2 bg-accent rounded-lg",children:(0,r.jsx)(c.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-foreground",children:"Invoices"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"View and manage invoices"})]}),(0,r.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.default,{href:"/dashboard/billing-revenue/subscriptions",className:"flex items-center gap-4 rounded-lg border border-border bg-card p-4 hover:border-border transition-colors",children:[(0,r.jsx)("div",{className:"p-2 bg-accent rounded-lg",children:(0,r.jsx)(m.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-foreground",children:"Subscriptions"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage recurring billing"})]}),(0,r.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.default,{href:"/dashboard/billing-revenue/payments",className:"flex items-center gap-4 rounded-lg border border-border bg-card p-4 hover:border-border transition-colors",children:[(0,r.jsx)("div",{className:"p-2 bg-accent rounded-lg",children:(0,r.jsx)(n.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-foreground",children:"Payments"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Process and track payments"})]}),(0,r.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.default,{href:"/dashboard/billing-revenue/plans",className:"flex items-center gap-4 rounded-lg border border-border bg-card p-4 hover:border-border transition-colors",children:[(0,r.jsx)("div",{className:"p-2 bg-accent rounded-lg",children:(0,r.jsx)(o.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-foreground",children:"Pricing Plans"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure pricing tiers"})]}),(0,r.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)(j,{items:s})})]})]})}function N(){return(0,r.jsx)(h.eu,{permission:"billing.read",children:(0,r.jsx)(y,{})})}},57176:(e,t,s)=>{"use strict";s.d(t,{Y:()=>b});var r=s(10326),a=s(17577),i=s(90434),n=s(50949),l=s(41291),o=s(18019),c=s(30361),d=s(39183),u=s(94019),m=s(21405),x=s(6507),p=s(67215);let g={critical:{icon:n.Z,bgColor:"bg-red-950/20",borderColor:"border-red-900/20",iconColor:"text-red-400",textColor:"text-red-400"},warning:{icon:l.Z,bgColor:"bg-orange-950/20",borderColor:"border-orange-900/20",iconColor:"text-orange-400",textColor:"text-orange-400"},info:{icon:o.Z,bgColor:"bg-blue-950/20",borderColor:"border-blue-900/20",iconColor:"text-blue-400",textColor:"text-blue-400"},success:{icon:c.Z,bgColor:"bg-green-950/20",borderColor:"border-green-900/20",iconColor:"text-green-400",textColor:"text-green-400"}};function h({alert:e,onDismiss:t}){let s=g[e.severity],a=s.icon;return(0,r.jsx)("div",{className:`rounded-lg border ${s.borderColor} ${s.bgColor} p-4`,children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(a,{className:`h-5 w-5 mt-0.5 ${s.iconColor}`}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:`font-medium ${s.textColor}`,children:e.title}),(0,r.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:e.message}),e.actionUrl&&(0,r.jsxs)(i.default,{href:e.actionUrl,className:`inline-flex items-center gap-1 mt-2 text-sm ${s.textColor} hover:underline`,children:[e.actionText||"View Details",(0,r.jsx)(d.Z,{className:"h-3 w-3"})]})]}),(0,r.jsx)("button",{onClick:()=>t(e.id),className:"text-slate-500 hover:text-slate-400 transition-colors p-2 min-h-[44px] min-w-[44px] flex items-center justify-center touch-manipulation","aria-label":`Dismiss ${e.title} alert`,children:(0,r.jsx)(u.Z,{className:"h-4 w-4"})})]})})}function b({category:e,maxAlerts:t=3,collapsible:s=!0}){let{alerts:i,dismissAlert:n,refreshAlerts:l,loading:o}=function(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)({total:0,critical:0,warning:0,info:0,byCategory:{security:0,billing:0,performance:0,system:0,compliance:0}}),[i,n]=(0,a.useState)(!0),l=(0,a.useCallback)(e=>{p.A.dismissAlert(e)},[]);return{alerts:e,stats:s,loading:i,dismissAlert:l,refreshAlerts:(0,a.useCallback)(async()=>{n(!0),await p.A.refresh(),n(!1)},[]),getAlertsBySeverity:(0,a.useCallback)(e=>p.A.getAlertsBySeverity(e),[]),getAlertsByCategory:(0,a.useCallback)(e=>p.A.getAlertsByCategory(e),[])}}(),[c,d]=(0,a.useState)(!1),[u,g]=(0,a.useState)(!1),b=[...e?i.filter(t=>t.category===e):i].sort((e,t)=>{let s={critical:0,warning:1,info:2,success:3};return e.severity!==t.severity?s[e.severity]-s[t.severity]:t.timestamp.getTime()-e.timestamp.getTime()}),v=c?[]:b.slice(0,t),f=b.length-v.length,j=async()=>{g(!0),await l(),g(!1)};return o?(0,r.jsx)("div",{className:"rounded-lg border border-slate-800 bg-slate-900 p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{className:"text-sm",children:"Loading alerts..."})]})}):0===b.length?null:(0,r.jsxs)("div",{className:"space-y-4",children:[s&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("button",{onClick:()=>d(!c),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-slate-300 transition-colors",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:c?`Show ${b.length} alert${1!==b.length?"s":""}`:"Hide alerts"})]}),(0,r.jsx)("button",{onClick:j,disabled:u,className:"text-slate-400 hover:text-slate-300 transition-colors","aria-label":"Refresh alerts",children:(0,r.jsx)(m.Z,{className:`h-4 w-4 ${u?"animate-spin":""}`})})]}),!c&&(0,r.jsxs)("div",{className:"space-y-3",children:[v.map(e=>(0,r.jsx)(h,{alert:e,onDismiss:n},e.id)),f>0&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("button",{onClick:()=>d(!1),className:"text-sm text-slate-400 hover:text-slate-300 transition-colors",children:["+",f," more alert",1!==f?"s":""]})})]})]})}},21030:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});var r=s(10326),a=s(17577),i=s(77863);function n({data:e,className:t="",height:s=200,showGrid:n=!0,showLabels:l=!0,showValues:o=!1,animated:c=!0,gradient:d=!0}){let[u,m]=a.useState(null),x=a.useId();if(!e||0===e.length)return(0,r.jsx)("div",{className:(0,i.cn)("flex items-center justify-center",t),style:{height:s},children:(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No data available"})});let p=Math.max(...e.map(e=>e.value)),g=Math.min(...e.map(e=>e.value)),h=p-g||1,b=e.map((t,s)=>({x:s/(e.length-1)*100,y:100-(t.value-g)/h*60,value:t.value,label:t.label})),v=b.map((e,t)=>`${0===t?"M":"L"} ${e.x} ${e.y}`).join(" "),f=b[b.length-1],j=d&&f?`${v} L ${f.x} 100 L 0 100 Z`:"";return(0,r.jsxs)("div",{className:(0,i.cn)("relative",t),children:[l&&(0,r.jsx)("div",{className:"flex justify-between mb-2 px-2",children:e.map((e,t)=>(0,r.jsx)("span",{className:(0,i.cn)("text-xs transition-colors",u===t?"text-sky-500 font-medium":"text-slate-600 dark:text-slate-400"),children:e.label},t))}),(0,r.jsxs)("div",{className:"relative",style:{height:s},children:[(0,r.jsxs)("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full",children:[n&&(0,r.jsx)("g",{className:"opacity-20",children:[0,25,50,75,100].map(e=>(0,r.jsx)("line",{x1:"0",y1:e,x2:"100",y2:e,stroke:"currentColor",strokeWidth:"0.2",className:"text-slate-400 dark:text-slate-600"},e))}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:x,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"rgb(14, 165, 233)",stopOpacity:"0.3"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"rgb(14, 165, 233)",stopOpacity:"0"})]})}),(0,r.jsx)("path",{d:j,fill:`url(#${x})`,className:c?"animate-in fade-in duration-500":""})]}),(0,r.jsx)("path",{d:v,fill:"none",stroke:"rgb(14, 165, 233)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:c?"animate-in slide-in-from-left duration-700":""}),b.map((e,t)=>(0,r.jsxs)("g",{children:[(0,r.jsx)("circle",{cx:e.x,cy:e.y,r:u===t?6:4,fill:"rgb(14, 165, 233)",className:(0,i.cn)("transition-all duration-200 cursor-pointer",c&&"animate-in zoom-in",u===t&&"drop-shadow-lg"),style:{animationDelay:`${50*t}ms`},onMouseEnter:()=>m(t),onMouseLeave:()=>m(null)}),u===t&&o&&(0,r.jsx)("text",{x:e.x,y:e.y-10,textAnchor:"middle",className:"text-xs fill-sky-500 font-medium",style:{fontSize:"4px"},children:e.value})]},t))]}),null!==u&&b[u]&&e[u]&&(0,r.jsxs)("div",{className:"absolute bg-slate-900 dark:bg-slate-800 text-white px-3 py-2 rounded-lg shadow-lg text-sm pointer-events-none z-10 animate-in fade-in zoom-in duration-200",style:{left:`${b[u].x}%`,top:`${b[u].y}%`,transform:"translate(-50%, -120%)"},children:[(0,r.jsx)("div",{className:"font-medium",children:e[u].label}),(0,r.jsx)("div",{className:"text-sky-400",children:b[u].value.toLocaleString()})]})]})]})}},43460:(e,t,s)=>{"use strict";s.d(t,{vY:()=>a});var r=s(59341);let a={getDashboardMetrics:async function(e="30d"){return(await r.x1.get(`/metrics/dashboard?timeRange=${e}`)).data},getBillingMetrics:async function(e="30d"){return(await r.x1.get(`/analytics/billing/metrics?timeRange=${e}`)).data},getInfrastructureMetrics:async function(){return(await r.x1.get("/monitoring/infrastructure/metrics")).data},getOperationsMetrics:async function(){let e=(await r.x1.get("/analytics/operations/metrics")).data??{};return{customers:{total:e.customers?.total??e.totalCustomers??0,newThisMonth:e.customers?.newThisMonth??e.newCustomersThisMonth??0,growthRate:e.customers?.growthRate??e.customerGrowthRate??0,churnRisk:e.customers?.churnRisk??e.customersAtRisk??0},communications:{totalSent:e.communications?.totalSent??e.totalCommunications??0,sentToday:e.communications?.sentToday??e.communicationsSentToday??0,deliveryRate:e.communications?.deliveryRate??e.communicationDeliveryRate??0},files:{totalFiles:e.files?.totalFiles??e.totalFiles??0,totalSize:e.files?.totalSize??e.totalFileSize??0,uploadsToday:e.files?.uploadsToday??e.filesUploadedToday??0,downloadsToday:e.files?.downloadsToday??e.fileDownloadsToday??0},activity:{eventsPerHour:e.activity?.eventsPerHour??e.eventsPerHour??0,activeUsers:e.activity?.activeUsers??e.activeUsers??0}}},getSecurityMetrics:async function(){return(await r.x1.get("/analytics/security/metrics")).data},getMetric:async function(e,t="30d",s="1d"){return(await r.x1.get(`/metrics/${e}?timeRange=${t}&interval=${s}`)).data},getMetrics:async function(e,t="30d"){return(await r.x1.post("/metrics/batch",{metrics:e,timeRange:t})).data},getTimeSeriesData:async function(e,t="7d",s="1h"){return(await r.x1.get(`/metrics/${e}/timeseries?timeRange=${t}&interval=${s}`)).data},calculateMetricChange:function(e,t){let s=e-t,r=0!==t?s/t*100:0,a="stable";return Math.abs(r)>1&&(a=r>0?"up":"down"),{change:s,changePercent:r,trend:a}},formatMetricValue:function(e,t){switch(t){case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);case"percent":return`${e.toFixed(2)}%`;case"number":return new Intl.NumberFormat("en-US").format(e);default:return e.toString()}}}},94619:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/billing-revenue/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[2793,1009,6226,657,6032,4218],()=>s(26535));module.exports=r})();