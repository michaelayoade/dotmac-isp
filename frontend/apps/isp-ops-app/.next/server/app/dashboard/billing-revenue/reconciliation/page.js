(()=>{var e={};e.id=4595,e.ids=[4595],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},18718:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),a(5009),a(13321),a(46366),a(96560);var s=a(23191),n=a(88716),i=a(37922),l=a.n(i),r=a(95231),c={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>r[e]);a.d(t,c);let d=["",{children:["dashboard",{children:["billing-revenue",{children:["reconciliation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5009)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/billing-revenue/reconciliation/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],o=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/billing-revenue/reconciliation/page.tsx"],x="/dashboard/billing-revenue/reconciliation/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/billing-revenue/reconciliation/page",pathname:"/dashboard/billing-revenue/reconciliation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77736:(e,t,a)=>{Promise.resolve().then(a.bind(a,86974))},86974:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var s=a(10326),n=a(17577),i=a.n(n),l=a(44976),r=a(48324),c=a(17010),d=a(34041),o=a(83855),x=a(77506),u=a(36283),m=a(30361),p=a(48998),h=a(41291),j=a(71821),g=a(41137),b=a(88307),_=a(12714),v=a(32933),f=a(11890),y=a(39183),N=a(35047),C=a(20892),w=a(48723),S=a(93158);let T=e=>`${e}/api/v1/billing/reconciliations`,P=async(e,t)=>{let a=new URLSearchParams;t.page&&a.append("page",t.page.toString()),t.page_size&&a.append("page_size",t.page_size.toString()),t.bank_account_id&&a.append("bank_account_id",t.bank_account_id.toString()),t.status&&"all"!==t.status&&a.append("status",t.status),t.start_date&&a.append("start_date",t.start_date),t.end_date&&a.append("end_date",t.end_date),t.search&&a.append("search",t.search);let s=await fetch(`${T(e)}?${a.toString()}`,{credentials:"include"});if(!s.ok)throw Error("Failed to fetch reconciliations");return s.json()},k=async e=>{let t=await fetch(`${T(e)}/summary`,{credentials:"include"});if(!t.ok)throw Error("Failed to fetch reconciliation summary");return t.json()},F=async(e,t)=>{let a=await fetch(T(e),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to create reconciliation");return a.json()},A=async(e,t)=>{let a=await fetch(`${T(e)}/${t}/complete`,{method:"POST",credentials:"include"});if(!a.ok)throw Error("Failed to complete reconciliation");return a.json()},D=async(e,t)=>{let a=await fetch(`${T(e)}/${t}/approve`,{method:"POST",credentials:"include"});if(!a.ok)throw Error("Failed to approve reconciliation");return a.json()},q=e=>`$${(e/100).toFixed(2)}`,I=e=>{switch(e){case"in_progress":return(0,s.jsx)(w.Badge,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-300",children:"In Progress"});case"completed":return(0,s.jsx)(w.Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:"Completed"});case"approved":return(0,s.jsx)(w.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:"Approved"});default:return(0,s.jsx)(w.Badge,{variant:"outline",children:e})}},H=e=>{let t=Math.abs(e);return 0===t?"text-green-600":t>1e4?"text-red-600 font-semibold":"text-orange-600"};function B(){let e=(0,N.useRouter)(),t=(0,l.NL)(),{toast:a}=(0,w.useToast)(),T=(0,w.useConfirmDialog)(),{api:B}=(0,S.M)(),M=B.baseUrl,[Z,L]=(0,n.useState)(1),[$]=(0,n.useState)(10),[R,U]=(0,n.useState)({bank_account_id:void 0,status:"all",start_date:"",end_date:"",search:""}),[E,O]=(0,n.useState)(!1),[z,K]=(0,n.useState)({bank_account_id:1,period_start:"",period_end:"",opening_balance:0,statement_balance:0,statement_file_url:"",notes:""}),{data:V,isLoading:Q}=(0,r.a)({queryKey:["reconciliation-summary",M],queryFn:()=>k(M),refetchInterval:3e4}),{data:W,isLoading:G,refetch:J}=(0,r.a)({queryKey:["reconciliations",M,Z,$,R],queryFn:()=>P(M,{page:Z,page_size:$,...void 0!==R.bank_account_id&&{bank_account_id:R.bank_account_id},..."all"!==R.status&&{status:R.status},...R.start_date&&{start_date:R.start_date},...R.end_date&&{end_date:R.end_date},...R.search&&{search:R.search}}),refetchInterval:3e4}),X=(0,c.D)({mutationFn:e=>F(M,e),onSuccess:()=>{t.invalidateQueries({queryKey:["reconciliations"]}),t.invalidateQueries({queryKey:["reconciliation-summary"]}),a({title:"Reconciliation session created successfully"}),O(!1),et()},onError:e=>{a({title:`Failed to create reconciliation: ${e.message}`,variant:"destructive"})}}),Y=(0,c.D)({mutationFn:e=>A(M,e),onSuccess:()=>{t.invalidateQueries({queryKey:["reconciliations"]}),t.invalidateQueries({queryKey:["reconciliation-summary"]}),a({title:"Reconciliation completed successfully"})},onError:e=>{a({title:`Failed to complete reconciliation: ${e.message}`,variant:"destructive"})}}),ee=(0,c.D)({mutationFn:e=>D(M,e),onSuccess:()=>{t.invalidateQueries({queryKey:["reconciliations"]}),t.invalidateQueries({queryKey:["reconciliation-summary"]}),a({title:"Reconciliation approved successfully"})},onError:e=>{a({title:`Failed to approve reconciliation: ${e.message}`,variant:"destructive"})}}),et=()=>{K({bank_account_id:1,period_start:"",period_end:"",opening_balance:0,statement_balance:0,statement_file_url:"",notes:""})},ea=async e=>{await T({title:"Complete reconciliation",description:"Are you sure you want to complete this reconciliation?",confirmText:"Complete"})&&Y.mutate(e)},es=async e=>{await T({title:"Approve reconciliation",description:"Are you sure you want to approve this reconciliation?",confirmText:"Approve"})&&ee.mutate(e)};return(0,s.jsx)(C.eu,{permission:["billing:write"],children:(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Payment Reconciliation"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage and track bank statement reconciliations"})]}),(0,s.jsxs)(w.Dialog,{open:E,onOpenChange:O,children:[(0,s.jsx)(w.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(w.Button,{children:[(0,s.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"New Reconciliation"]})}),(0,s.jsxs)(w.DialogContent,{className:"max-w-2xl",children:[(0,s.jsxs)(w.DialogHeader,{children:[(0,s.jsx)(w.DialogTitle,{children:"Create New Reconciliation Session"}),(0,s.jsx)(w.DialogDescription,{children:"Start a new reconciliation session for a specific period and bank account."})]}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"bank_account",children:"Bank Account"}),(0,s.jsxs)(w.Select,{value:z.bank_account_id.toString(),onValueChange:e=>K({...z,bank_account_id:parseInt(e)}),children:[(0,s.jsx)(w.SelectTrigger,{id:"bank_account",children:(0,s.jsx)(w.SelectValue,{placeholder:"Select bank account"})}),(0,s.jsxs)(w.SelectContent,{children:[(0,s.jsx)(w.SelectItem,{value:"1",children:"Main Operating Account"}),(0,s.jsx)(w.SelectItem,{value:"2",children:"Collections Account"}),(0,s.jsx)(w.SelectItem,{value:"3",children:"Payroll Account"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"period_start",children:"Period Start"}),(0,s.jsx)(w.Input,{id:"period_start",type:"datetime-local",value:z.period_start,onChange:e=>K({...z,period_start:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"period_end",children:"Period End"}),(0,s.jsx)(w.Input,{id:"period_end",type:"datetime-local",value:z.period_end,onChange:e=>K({...z,period_end:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"opening_balance",children:"Opening Balance ($)"}),(0,s.jsx)(w.Input,{id:"opening_balance",type:"number",step:"0.01",value:z.opening_balance/100,onChange:e=>K({...z,opening_balance:Math.round(100*parseFloat(e.target.value))})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"statement_balance",children:"Statement Balance ($)"}),(0,s.jsx)(w.Input,{id:"statement_balance",type:"number",step:"0.01",value:z.statement_balance/100,onChange:e=>K({...z,statement_balance:Math.round(100*parseFloat(e.target.value))})})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"statement_file_url",children:"Statement File URL (Optional)"}),(0,s.jsx)(w.Input,{id:"statement_file_url",type:"url",placeholder:"https://...",value:z.statement_file_url,onChange:e=>K({...z,statement_file_url:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"notes",children:"Notes (Optional)"}),(0,s.jsx)(w.Textarea,{id:"notes",placeholder:"Add any relevant notes...",value:z.notes,onChange:e=>K({...z,notes:e.target.value}),rows:3})]})]}),(0,s.jsxs)(w.DialogFooter,{children:[(0,s.jsx)(w.Button,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,s.jsxs)(w.Button,{onClick:()=>{X.mutate(z)},disabled:X.isPending,children:[X.isPending&&(0,s.jsx)(x.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Reconciliation"]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[(0,s.jsxs)(w.Card,{children:[(0,s.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Total Sessions"}),(0,s.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(w.CardContent,{children:Q?(0,s.jsx)(x.Z,{className:"h-6 w-6 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:V?.total_sessions||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})})]}),(0,s.jsxs)(w.Card,{children:[(0,s.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Approved"}),(0,s.jsx)(m.Z,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsx)(w.CardContent,{children:Q?(0,s.jsx)(x.Z,{className:"h-6 w-6 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:V?.approved_sessions||0}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[V?.total_sessions?(V.approved_sessions/V.total_sessions*100).toFixed(1):0,"% of total"]})]})})]}),(0,s.jsxs)(w.Card,{children:[(0,s.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Pending"}),(0,s.jsx)(p.Z,{className:"h-4 w-4 text-yellow-600"})]}),(0,s.jsx)(w.CardContent,{children:Q?(0,s.jsx)(x.Z,{className:"h-6 w-6 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:V?.pending_sessions||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting completion/approval"})]})})]}),(0,s.jsxs)(w.Card,{children:[(0,s.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Total Discrepancies"}),(0,s.jsx)(h.Z,{className:"h-4 w-4 text-red-600"})]}),(0,s.jsx)(w.CardContent,{children:Q?(0,s.jsx)(x.Z,{className:"h-6 w-6 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:q(V?.total_discrepancies||0)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all sessions"})]})})]}),(0,s.jsxs)(w.Card,{children:[(0,s.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Reconciled Items"}),(0,s.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(w.CardContent,{children:Q?(0,s.jsx)(x.Z,{className:"h-6 w-6 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:V?.total_reconciled_items||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total payments matched"})]})})]}),(0,s.jsxs)(w.Card,{children:[(0,s.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Avg Discrepancy"}),(0,s.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(w.CardContent,{children:Q?(0,s.jsx)(x.Z,{className:"h-6 w-6 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:q(V?.average_discrepancy||0)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Per session"})]})})]})]}),(0,s.jsxs)(w.Card,{children:[(0,s.jsx)(w.CardHeader,{children:(0,s.jsxs)(w.CardTitle,{className:"flex items-center",children:[(0,s.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Filters"]})}),(0,s.jsx)(w.CardContent,{children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"filter_bank_account",children:"Bank Account"}),(0,s.jsxs)(w.Select,{value:R.bank_account_id?.toString()||"all",onValueChange:e=>U({...R,bank_account_id:"all"===e?void 0:parseInt(e)}),children:[(0,s.jsx)(w.SelectTrigger,{id:"filter_bank_account",children:(0,s.jsx)(w.SelectValue,{placeholder:"All accounts"})}),(0,s.jsxs)(w.SelectContent,{children:[(0,s.jsx)(w.SelectItem,{value:"all",children:"All Accounts"}),(0,s.jsx)(w.SelectItem,{value:"1",children:"Main Operating Account"}),(0,s.jsx)(w.SelectItem,{value:"2",children:"Collections Account"}),(0,s.jsx)(w.SelectItem,{value:"3",children:"Payroll Account"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"filter_status",children:"Status"}),(0,s.jsxs)(w.Select,{value:R.status,onValueChange:e=>U({...R,status:e}),children:[(0,s.jsx)(w.SelectTrigger,{id:"filter_status",children:(0,s.jsx)(w.SelectValue,{placeholder:"All statuses"})}),(0,s.jsxs)(w.SelectContent,{children:[(0,s.jsx)(w.SelectItem,{value:"all",children:"All Statuses"}),(0,s.jsx)(w.SelectItem,{value:"in_progress",children:"In Progress"}),(0,s.jsx)(w.SelectItem,{value:"completed",children:"Completed"}),(0,s.jsx)(w.SelectItem,{value:"approved",children:"Approved"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"filter_start_date",children:"Start Date"}),(0,s.jsx)(w.Input,{id:"filter_start_date",type:"date",value:R.start_date,onChange:e=>U({...R,start_date:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"filter_end_date",children:"End Date"}),(0,s.jsx)(w.Input,{id:"filter_end_date",type:"date",value:R.end_date,onChange:e=>U({...R,end_date:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(w.Label,{htmlFor:"filter_search",children:"Search by ID"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(b.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(w.Input,{id:"filter_search",placeholder:"Search...",className:"pl-8",value:R.search,onChange:e=>U({...R,search:e.target.value})})]})]})]})})]}),(0,s.jsxs)(w.Card,{children:[(0,s.jsxs)(w.CardHeader,{children:[(0,s.jsx)(w.CardTitle,{children:"Reconciliation Sessions"}),(0,s.jsx)(w.CardDescription,{children:"View and manage all reconciliation sessions"})]}),(0,s.jsx)(w.CardContent,{children:G?(0,s.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,s.jsx)(x.Z,{className:"h-8 w-8 animate-spin"})}):W?.items.length===0?(0,s.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No reconciliation sessions found"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(w.Table,{children:[(0,s.jsx)(w.TableHeader,{children:(0,s.jsxs)(w.TableRow,{children:[(0,s.jsx)(w.TableHead,{children:"ID"}),(0,s.jsx)(w.TableHead,{children:"Reconciliation Date"}),(0,s.jsx)(w.TableHead,{children:"Period"}),(0,s.jsx)(w.TableHead,{children:"Bank Account"}),(0,s.jsx)(w.TableHead,{className:"text-right",children:"Opening Balance"}),(0,s.jsx)(w.TableHead,{className:"text-right",children:"Closing Balance"}),(0,s.jsx)(w.TableHead,{className:"text-right",children:"Statement Balance"}),(0,s.jsx)(w.TableHead,{className:"text-right",children:"Discrepancy"}),(0,s.jsx)(w.TableHead,{children:"Status"}),(0,s.jsx)(w.TableHead,{children:"Unreconciled"}),(0,s.jsx)(w.TableHead,{children:"Completed By/At"}),(0,s.jsx)(w.TableHead,{children:"Approved By/At"}),(0,s.jsx)(w.TableHead,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(w.TableBody,{children:W?.items.map(t=>s.jsxs(w.TableRow,{children:[s.jsxs(w.TableCell,{className:"font-medium",children:["#",t.id]}),s.jsx(w.TableCell,{children:d.WU(new Date(t.reconciliation_date),"MMM dd, yyyy")}),s.jsxs(w.TableCell,{className:"text-sm",children:[d.WU(new Date(t.period_start),"MMM dd")," -"," ",d.WU(new Date(t.period_end),"MMM dd, yyyy")]}),s.jsx(w.TableCell,{children:s.jsxs(w.Badge,{variant:"outline",children:["Account #",t.bank_account_id]})}),s.jsx(w.TableCell,{className:"text-right font-mono",children:q(t.opening_balance)}),s.jsx(w.TableCell,{className:"text-right font-mono",children:q(t.closing_balance)}),s.jsx(w.TableCell,{className:"text-right font-mono",children:q(t.statement_balance)}),s.jsx(w.TableCell,{className:`text-right font-mono ${H(t.discrepancy_amount)}`,children:q(t.discrepancy_amount)}),s.jsx(w.TableCell,{children:I(t.status)}),s.jsx(w.TableCell,{children:t.unreconciled_count>0&&s.jsx(w.Badge,{variant:"destructive",children:t.unreconciled_count})}),s.jsx(w.TableCell,{className:"text-sm",children:t.completed_by&&t.completed_at?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:t.completed_by}),s.jsx("div",{className:"text-muted-foreground text-xs",children:d.WU(new Date(t.completed_at),"MMM dd, HH:mm")})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(w.TableCell,{className:"text-sm",children:t.approved_by&&t.approved_at?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:t.approved_by}),s.jsx("div",{className:"text-muted-foreground text-xs",children:d.WU(new Date(t.approved_at),"MMM dd, HH:mm")})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(w.TableCell,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(w.Button,{variant:"outline",size:"sm",onClick:()=>e.push(`/dashboard/billing-revenue/reconciliation/${t.id}`),children:s.jsx(_.Z,{className:"h-4 w-4"})}),"in_progress"===t.status&&s.jsx(w.Button,{variant:"outline",size:"sm",onClick:()=>ea(t.id),disabled:Y.isPending,children:Y.isPending?s.jsx(x.Z,{className:"h-4 w-4 animate-spin"}):s.jsx(m.Z,{className:"h-4 w-4"})}),"completed"===t.status&&s.jsx(w.Button,{variant:"outline",size:"sm",onClick:()=>es(t.id),disabled:ee.isPending,children:ee.isPending?s.jsx(x.Z,{className:"h-4 w-4 animate-spin"}):s.jsx(v.Z,{className:"h-4 w-4"})})]})})]},t.id))})]}),W&&W.total_pages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(Z-1)*$+1," to"," ",Math.min(Z*$,W.total)," of ",W.total," ","results"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(w.Button,{variant:"outline",size:"sm",onClick:()=>L(Z-1),disabled:1===Z,children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),"Previous"]}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:W.total_pages},(e,t)=>t+1).filter(e=>1===e||e===W.total_pages||e>=Z-1&&e<=Z+1).map((e,t,a)=>(0,s.jsxs)(i().Fragment,{children:[t>0&&a[t-1]!==e-1&&(0,s.jsx)("span",{className:"px-2",children:"..."}),(0,s.jsx)(w.Button,{variant:e===Z?"default":"outline",size:"sm",onClick:()=>L(e),children:e})]},e))}),(0,s.jsxs)(w.Button,{variant:"outline",size:"sm",onClick:()=>L(Z+1),disabled:Z===W.total_pages,children:["Next",(0,s.jsx)(y.Z,{className:"h-4 w-4"})]})]})]})]})})]})]})})}},5009:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/billing-revenue/reconciliation/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[2793,1009,6226,657,6032,4218],()=>a(18718));module.exports=s})();