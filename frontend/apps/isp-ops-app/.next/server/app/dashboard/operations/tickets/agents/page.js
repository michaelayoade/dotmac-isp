(()=>{var e={};e.id=8798,e.ids=[8798],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59735:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o}),s(60839),s(13321),s(46366),s(96560);var a=s(23191),r=s(88716),l=s(37922),n=s.n(l),d=s(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);s.d(t,i);let o=["",{children:["dashboard",{children:["operations",{children:["tickets",{children:["agents",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,60839)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/operations/tickets/agents/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13321)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,46366)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/not-found.tsx"]}],c=["/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/operations/tickets/agents/page.tsx"],x="/dashboard/operations/tickets/agents/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/operations/tickets/agents/page",pathname:"/dashboard/operations/tickets/agents",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},94933:(e,t,s)=>{Promise.resolve().then(s.bind(s,62903))},62903:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(10326),r=s(17577),l=s(48324),n=s(21405),d=s(24061),i=s(17069),o=s(66307),c=s(48998),x=s(41291),m=s(48723),p=s(59341);function h(){let[e,t]=(0,r.useState)("30d"),s=(()=>{let t=new Date,s=new Date;switch(e){case"today":s.setHours(0,0,0,0);break;case"7d":s.setDate(s.getDate()-7);break;case"30d":s.setDate(s.getDate()-30);break;case"90d":s.setDate(s.getDate()-90);break;case"all":return{start_date:void 0,end_date:void 0}}return{start_date:s.toISOString(),end_date:t.toISOString()}})(),{data:h,isLoading:u,refetch:g,isFetching:j}=(0,l.a)({queryKey:["agent-performance",s],queryFn:async()=>{let e=new URLSearchParams;return s.start_date&&e.append("start_date",s.start_date),s.end_date&&e.append("end_date",s.end_date),(await p.x1.get(`/tickets/agents/performance?${e}`)).data},refetchInterval:3e4}),f=h?{totalAgents:h.length,totalAssigned:h.reduce((e,t)=>e+t.total_assigned,0),totalResolved:h.reduce((e,t)=>e+t.total_resolved,0),avgSLACompliance:h.length?h.reduce((e,t)=>e+(t.sla_compliance_rate||0),0)/h.length:0}:{totalAgents:0,totalAssigned:0,totalResolved:0,avgSLACompliance:0},v=e=>e?e<60?`${Math.round(e)}m`:`${Math.floor(e/60)}h ${Math.round(e%60)}m`:"N/A",b=e=>null===e?"N/A":`${e.toFixed(1)}%`,_=e=>null===e?(0,a.jsx)(m.Badge,{variant:"outline",children:"N/A"}):e>=90?(0,a.jsxs)(m.Badge,{variant:"default",children:[e.toFixed(1),"%"]}):e>=75?(0,a.jsxs)(m.Badge,{variant:"secondary",children:[e.toFixed(1),"%"]}):(0,a.jsxs)(m.Badge,{variant:"destructive",children:[e.toFixed(1),"%"]});return(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Agent Performance Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Track support agent performance metrics and workload distribution"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(m.Select,{value:e,onValueChange:t,children:[(0,a.jsx)(m.SelectTrigger,{className:"w-[180px]",children:(0,a.jsx)(m.SelectValue,{})}),(0,a.jsxs)(m.SelectContent,{children:[(0,a.jsx)(m.SelectItem,{value:"today",children:"Today"}),(0,a.jsx)(m.SelectItem,{value:"7d",children:"Last 7 days"}),(0,a.jsx)(m.SelectItem,{value:"30d",children:"Last 30 days"}),(0,a.jsx)(m.SelectItem,{value:"90d",children:"Last 90 days"}),(0,a.jsx)(m.SelectItem,{value:"all",children:"All time"})]})]}),(0,a.jsxs)(m.Button,{variant:"outline",onClick:()=>g(),disabled:u||j,children:[(0,a.jsx)(n.Z,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),"Refresh"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(m.Card,{children:[(0,a.jsx)(m.CardHeader,{className:"pb-2",children:(0,a.jsx)(m.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Active Agents"})}),(0,a.jsxs)(m.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:f.totalAgents}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[(0,a.jsx)(d.Z,{className:"inline h-3 w-3 mr-1"}),"With assigned tickets"]})]})]}),(0,a.jsxs)(m.Card,{children:[(0,a.jsx)(m.CardHeader,{className:"pb-2",children:(0,a.jsx)(m.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Assigned"})}),(0,a.jsxs)(m.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:f.totalAssigned}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[(0,a.jsx)(i.Z,{className:"inline h-3 w-3 mr-1"}),"Across all agents"]})]})]}),(0,a.jsxs)(m.Card,{children:[(0,a.jsx)(m.CardHeader,{className:"pb-2",children:(0,a.jsx)(m.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Resolved"})}),(0,a.jsxs)(m.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f.totalResolved}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[(0,a.jsx)(o.Z,{className:"inline h-3 w-3 mr-1"}),f.totalAssigned>0?`${(f.totalResolved/f.totalAssigned*100).toFixed(1)}% resolution`:"No data"]})]})]}),(0,a.jsxs)(m.Card,{children:[(0,a.jsx)(m.CardHeader,{className:"pb-2",children:(0,a.jsx)(m.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Avg SLA Compliance"})}),(0,a.jsxs)(m.CardContent,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[f.avgSLACompliance.toFixed(1),"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[(0,a.jsx)(c.Z,{className:"inline h-3 w-3 mr-1"}),"Team average"]})]})]})]}),(0,a.jsxs)(m.Card,{children:[(0,a.jsx)(m.CardHeader,{children:(0,a.jsx)(m.CardTitle,{children:"Agent Performance Metrics"})}),(0,a.jsx)(m.CardContent,{children:u?(0,a.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5].map(e=>(0,a.jsx)(m.Skeleton,{className:"h-16 w-full"},e))}):h&&h.length>0?(0,a.jsxs)(m.Table,{children:[(0,a.jsx)(m.TableHeader,{children:(0,a.jsxs)(m.TableRow,{children:[(0,a.jsx)(m.TableHead,{children:"Agent"}),(0,a.jsx)(m.TableHead,{children:"Assigned"}),(0,a.jsx)(m.TableHead,{children:"Resolved"}),(0,a.jsx)(m.TableHead,{children:"Open"}),(0,a.jsx)(m.TableHead,{children:"In Progress"}),(0,a.jsx)(m.TableHead,{children:"Avg Resolution Time"}),(0,a.jsx)(m.TableHead,{children:"Avg Response Time"}),(0,a.jsx)(m.TableHead,{children:"SLA Compliance"}),(0,a.jsx)(m.TableHead,{children:"Escalation Rate"})]})}),(0,a.jsx)(m.TableBody,{children:h.sort((e,t)=>t.total_assigned-e.total_assigned).map(e=>(0,a.jsxs)(m.TableRow,{children:[(0,a.jsx)(m.TableCell,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.agent_name||"Unknown Agent"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.agent_email||"No email"})]})}),(0,a.jsx)(m.TableCell,{children:(0,a.jsx)("div",{className:"font-medium",children:e.total_assigned})}),(0,a.jsx)(m.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-green-600",children:e.total_resolved}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.total_assigned>0?(e.total_resolved/e.total_assigned*100).toFixed(0):0,"%)"]})]})}),(0,a.jsx)(m.TableCell,{children:(0,a.jsx)(m.Badge,{variant:"outline",children:e.total_open})}),(0,a.jsx)(m.TableCell,{children:(0,a.jsx)(m.Badge,{variant:"secondary",children:e.total_in_progress})}),(0,a.jsx)(m.TableCell,{className:"font-mono text-sm",children:v(e.avg_resolution_time_minutes)}),(0,a.jsx)(m.TableCell,{className:"font-mono text-sm",children:v(e.avg_first_response_time_minutes)}),(0,a.jsx)(m.TableCell,{children:_(e.sla_compliance_rate)}),(0,a.jsx)(m.TableCell,{children:null!==e.escalation_rate&&e.escalation_rate>20?(0,a.jsxs)("div",{className:"flex items-center gap-1 text-orange-600",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),b(e.escalation_rate)]}):b(e.escalation_rate)})]},e.agent_id))})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No agent data available"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No tickets have been assigned to agents in the selected time range"})]})})]})]})}},60839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/michaelayoade/Downloads/Projects/dotmac-ftth-ops/split-staging/dotmac-isp/frontend/apps/isp-ops-app/app/dashboard/operations/tickets/agents/page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[2793,1009,6226,657,6032,4218],()=>s(59735));module.exports=a})();